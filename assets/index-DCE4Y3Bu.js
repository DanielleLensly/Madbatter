function Sm(n,r){for(var s=0;s<r.length;s++){const o=r[s];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in n)){const u=Object.getOwnPropertyDescriptor(o,l);u&&Object.defineProperty(n,l,u.get?u:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}})();function Ih(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var gl={exports:{}},Rs={},vl={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Md;function xm(){if(Md)return me;Md=1;var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function k(b){return b===null||typeof b!="object"?null:(b=_&&b[_]||b["@@iterator"],typeof b=="function"?b:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,N={};function j(b,D,ue){this.props=b,this.context=D,this.refs=N,this.updater=ue||E}j.prototype.isReactComponent={},j.prototype.setState=function(b,D){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,D,"setState")},j.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function U(){}U.prototype=j.prototype;function A(b,D,ue){this.props=b,this.context=D,this.refs=N,this.updater=ue||E}var L=A.prototype=new U;L.constructor=A,C(L,j.prototype),L.isPureReactComponent=!0;var K=Array.isArray,de=Object.prototype.hasOwnProperty,G={current:null},ae={key:!0,ref:!0,__self:!0,__source:!0};function _e(b,D,ue){var ce,pe={},ve=null,Se=null;if(D!=null)for(ce in D.ref!==void 0&&(Se=D.ref),D.key!==void 0&&(ve=""+D.key),D)de.call(D,ce)&&!ae.hasOwnProperty(ce)&&(pe[ce]=D[ce]);var ke=arguments.length-2;if(ke===1)pe.children=ue;else if(1<ke){for(var Ce=Array(ke),ut=0;ut<ke;ut++)Ce[ut]=arguments[ut+2];pe.children=Ce}if(b&&b.defaultProps)for(ce in ke=b.defaultProps,ke)pe[ce]===void 0&&(pe[ce]=ke[ce]);return{$$typeof:n,type:b,key:ve,ref:Se,props:pe,_owner:G.current}}function je(b,D){return{$$typeof:n,type:b.type,key:D,ref:b.ref,props:b.props,_owner:b._owner}}function Ye(b){return typeof b=="object"&&b!==null&&b.$$typeof===n}function lt(b){var D={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(ue){return D[ue]})}var le=/\/+/g;function Ee(b,D){return typeof b=="object"&&b!==null&&b.key!=null?lt(""+b.key):D.toString(36)}function fe(b,D,ue,ce,pe){var ve=typeof b;(ve==="undefined"||ve==="boolean")&&(b=null);var Se=!1;if(b===null)Se=!0;else switch(ve){case"string":case"number":Se=!0;break;case"object":switch(b.$$typeof){case n:case r:Se=!0}}if(Se)return Se=b,pe=pe(Se),b=ce===""?"."+Ee(Se,0):ce,K(pe)?(ue="",b!=null&&(ue=b.replace(le,"$&/")+"/"),fe(pe,D,ue,"",function(ut){return ut})):pe!=null&&(Ye(pe)&&(pe=je(pe,ue+(!pe.key||Se&&Se.key===pe.key?"":(""+pe.key).replace(le,"$&/")+"/")+b)),D.push(pe)),1;if(Se=0,ce=ce===""?".":ce+":",K(b))for(var ke=0;ke<b.length;ke++){ve=b[ke];var Ce=ce+Ee(ve,ke);Se+=fe(ve,D,ue,Ce,pe)}else if(Ce=k(b),typeof Ce=="function")for(b=Ce.call(b),ke=0;!(ve=b.next()).done;)ve=ve.value,Ce=ce+Ee(ve,ke++),Se+=fe(ve,D,ue,Ce,pe);else if(ve==="object")throw D=String(b),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return Se}function Le(b,D,ue){if(b==null)return b;var ce=[],pe=0;return fe(b,ce,"","",function(ve){return D.call(ue,ve,pe++)}),ce}function oe(b){if(b._status===-1){var D=b._result;D=D(),D.then(function(ue){(b._status===0||b._status===-1)&&(b._status=1,b._result=ue)},function(ue){(b._status===0||b._status===-1)&&(b._status=2,b._result=ue)}),b._status===-1&&(b._status=0,b._result=D)}if(b._status===1)return b._result.default;throw b._result}var ge={current:null},H={transition:null},I={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:H,ReactCurrentOwner:G};function q(){throw Error("act(...) is not supported in production builds of React.")}return me.Children={map:Le,forEach:function(b,D,ue){Le(b,function(){D.apply(this,arguments)},ue)},count:function(b){var D=0;return Le(b,function(){D++}),D},toArray:function(b){return Le(b,function(D){return D})||[]},only:function(b){if(!Ye(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},me.Component=j,me.Fragment=s,me.Profiler=l,me.PureComponent=A,me.StrictMode=o,me.Suspense=m,me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,me.act=q,me.cloneElement=function(b,D,ue){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var ce=C({},b.props),pe=b.key,ve=b.ref,Se=b._owner;if(D!=null){if(D.ref!==void 0&&(ve=D.ref,Se=G.current),D.key!==void 0&&(pe=""+D.key),b.type&&b.type.defaultProps)var ke=b.type.defaultProps;for(Ce in D)de.call(D,Ce)&&!ae.hasOwnProperty(Ce)&&(ce[Ce]=D[Ce]===void 0&&ke!==void 0?ke[Ce]:D[Ce])}var Ce=arguments.length-2;if(Ce===1)ce.children=ue;else if(1<Ce){ke=Array(Ce);for(var ut=0;ut<Ce;ut++)ke[ut]=arguments[ut+2];ce.children=ke}return{$$typeof:n,type:b.type,key:pe,ref:ve,props:ce,_owner:Se}},me.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:u,_context:b},b.Consumer=b},me.createElement=_e,me.createFactory=function(b){var D=_e.bind(null,b);return D.type=b,D},me.createRef=function(){return{current:null}},me.forwardRef=function(b){return{$$typeof:f,render:b}},me.isValidElement=Ye,me.lazy=function(b){return{$$typeof:y,_payload:{_status:-1,_result:b},_init:oe}},me.memo=function(b,D){return{$$typeof:v,type:b,compare:D===void 0?null:D}},me.startTransition=function(b){var D=H.transition;H.transition={};try{b()}finally{H.transition=D}},me.unstable_act=q,me.useCallback=function(b,D){return ge.current.useCallback(b,D)},me.useContext=function(b){return ge.current.useContext(b)},me.useDebugValue=function(){},me.useDeferredValue=function(b){return ge.current.useDeferredValue(b)},me.useEffect=function(b,D){return ge.current.useEffect(b,D)},me.useId=function(){return ge.current.useId()},me.useImperativeHandle=function(b,D,ue){return ge.current.useImperativeHandle(b,D,ue)},me.useInsertionEffect=function(b,D){return ge.current.useInsertionEffect(b,D)},me.useLayoutEffect=function(b,D){return ge.current.useLayoutEffect(b,D)},me.useMemo=function(b,D){return ge.current.useMemo(b,D)},me.useReducer=function(b,D,ue){return ge.current.useReducer(b,D,ue)},me.useRef=function(b){return ge.current.useRef(b)},me.useState=function(b){return ge.current.useState(b)},me.useSyncExternalStore=function(b,D,ue){return ge.current.useSyncExternalStore(b,D,ue)},me.useTransition=function(){return ge.current.useTransition()},me.version="18.3.1",me}var zd;function Fl(){return zd||(zd=1,vl.exports=xm()),vl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fd;function bm(){if(Fd)return Rs;Fd=1;var n=Fl(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(f,m,v){var y,_={},k=null,E=null;v!==void 0&&(k=""+v),m.key!==void 0&&(k=""+m.key),m.ref!==void 0&&(E=m.ref);for(y in m)o.call(m,y)&&!u.hasOwnProperty(y)&&(_[y]=m[y]);if(f&&f.defaultProps)for(y in m=f.defaultProps,m)_[y]===void 0&&(_[y]=m[y]);return{$$typeof:r,type:f,key:k,ref:E,props:_,_owner:l.current}}return Rs.Fragment=s,Rs.jsx=h,Rs.jsxs=h,Rs}var Wd;function Em(){return Wd||(Wd=1,gl.exports=bm()),gl.exports}var p=Em(),$=Fl();const Ah=Ih($),jm=Sm({__proto__:null,default:Ah},[$]);var lo={},yl={exports:{}},wt={},wl={exports:{}},_l={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qd;function Cm(){return qd||(qd=1,(function(n){function r(H,I){var q=H.length;H.push(I);e:for(;0<q;){var b=q-1>>>1,D=H[b];if(0<l(D,I))H[b]=I,H[q]=D,q=b;else break e}}function s(H){return H.length===0?null:H[0]}function o(H){if(H.length===0)return null;var I=H[0],q=H.pop();if(q!==I){H[0]=q;e:for(var b=0,D=H.length,ue=D>>>1;b<ue;){var ce=2*(b+1)-1,pe=H[ce],ve=ce+1,Se=H[ve];if(0>l(pe,q))ve<D&&0>l(Se,pe)?(H[b]=Se,H[ve]=q,b=ve):(H[b]=pe,H[ce]=q,b=ce);else if(ve<D&&0>l(Se,q))H[b]=Se,H[ve]=q,b=ve;else break e}}return I}function l(H,I){var q=H.sortIndex-I.sortIndex;return q!==0?q:H.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();n.unstable_now=function(){return h.now()-f}}var m=[],v=[],y=1,_=null,k=3,E=!1,C=!1,N=!1,j=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(H){for(var I=s(v);I!==null;){if(I.callback===null)o(v);else if(I.startTime<=H)o(v),I.sortIndex=I.expirationTime,r(m,I);else break;I=s(v)}}function K(H){if(N=!1,L(H),!C)if(s(m)!==null)C=!0,oe(de);else{var I=s(v);I!==null&&ge(K,I.startTime-H)}}function de(H,I){C=!1,N&&(N=!1,U(_e),_e=-1),E=!0;var q=k;try{for(L(I),_=s(m);_!==null&&(!(_.expirationTime>I)||H&&!lt());){var b=_.callback;if(typeof b=="function"){_.callback=null,k=_.priorityLevel;var D=b(_.expirationTime<=I);I=n.unstable_now(),typeof D=="function"?_.callback=D:_===s(m)&&o(m),L(I)}else o(m);_=s(m)}if(_!==null)var ue=!0;else{var ce=s(v);ce!==null&&ge(K,ce.startTime-I),ue=!1}return ue}finally{_=null,k=q,E=!1}}var G=!1,ae=null,_e=-1,je=5,Ye=-1;function lt(){return!(n.unstable_now()-Ye<je)}function le(){if(ae!==null){var H=n.unstable_now();Ye=H;var I=!0;try{I=ae(!0,H)}finally{I?Ee():(G=!1,ae=null)}}else G=!1}var Ee;if(typeof A=="function")Ee=function(){A(le)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,Le=fe.port2;fe.port1.onmessage=le,Ee=function(){Le.postMessage(null)}}else Ee=function(){j(le,0)};function oe(H){ae=H,G||(G=!0,Ee())}function ge(H,I){_e=j(function(){H(n.unstable_now())},I)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){C||E||(C=!0,oe(de))},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):je=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return k},n.unstable_getFirstCallbackNode=function(){return s(m)},n.unstable_next=function(H){switch(k){case 1:case 2:case 3:var I=3;break;default:I=k}var q=k;k=I;try{return H()}finally{k=q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,I){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var q=k;k=H;try{return I()}finally{k=q}},n.unstable_scheduleCallback=function(H,I,q){var b=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?b+q:b):q=b,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=q+D,H={id:y++,callback:I,priorityLevel:H,startTime:q,expirationTime:D,sortIndex:-1},q>b?(H.sortIndex=q,r(v,H),s(m)===null&&H===s(v)&&(N?(U(_e),_e=-1):N=!0,ge(K,q-b))):(H.sortIndex=D,r(m,H),C||E||(C=!0,oe(de))),H},n.unstable_shouldYield=lt,n.unstable_wrapCallback=function(H){var I=k;return function(){var q=k;k=I;try{return H.apply(this,arguments)}finally{k=q}}}})(_l)),_l}var Vd;function Tm(){return Vd||(Vd=1,wl.exports=Cm()),wl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hd;function Rm(){if(Hd)return wt;Hd=1;var n=Fl(),r=Tm();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function u(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},_={};function k(e){return m.call(_,e)?!0:m.call(y,e)?!1:v.test(e)?_[e]=!0:(y[e]=!0,!1)}function E(e,t,i,a){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C(e,t,i,a){if(t===null||typeof t>"u"||E(e,t,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function N(e,t,i,a,c,d,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=g}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){j[e]=new N(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];j[t]=new N(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){j[e]=new N(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){j[e]=new N(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){j[e]=new N(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){j[e]=new N(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){j[e]=new N(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){j[e]=new N(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){j[e]=new N(e,5,!1,e.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function A(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(U,A);j[t]=new N(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(U,A);j[t]=new N(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(U,A);j[t]=new N(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){j[e]=new N(e,1,!1,e.toLowerCase(),null,!1,!1)}),j.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){j[e]=new N(e,1,!1,e.toLowerCase(),null,!0,!0)});function L(e,t,i,a){var c=j.hasOwnProperty(t)?j[t]:null;(c!==null?c.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(C(t,i,c,a)&&(i=null),a||c===null?k(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):c.mustUseProperty?e[c.propertyName]=i===null?c.type===3?!1:"":i:(t=c.attributeName,a=c.attributeNamespace,i===null?e.removeAttribute(t):(c=c.type,i=c===3||c===4&&i===!0?"":""+i,a?e.setAttributeNS(a,t,i):e.setAttribute(t,i))))}var K=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,de=Symbol.for("react.element"),G=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),_e=Symbol.for("react.strict_mode"),je=Symbol.for("react.profiler"),Ye=Symbol.for("react.provider"),lt=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),Le=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),H=Symbol.iterator;function I(e){return e===null||typeof e!="object"?null:(e=H&&e[H]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,b;function D(e){if(b===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);b=t&&t[1]||""}return`
`+b+e}var ue=!1;function ce(e,t){if(!e||ue)return"";ue=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(O){var a=O}Reflect.construct(e,[],t)}else{try{t.call()}catch(O){a=O}e.call(t.prototype)}else{try{throw Error()}catch(O){a=O}e()}}catch(O){if(O&&a&&typeof O.stack=="string"){for(var c=O.stack.split(`
`),d=a.stack.split(`
`),g=c.length-1,w=d.length-1;1<=g&&0<=w&&c[g]!==d[w];)w--;for(;1<=g&&0<=w;g--,w--)if(c[g]!==d[w]){if(g!==1||w!==1)do if(g--,w--,0>w||c[g]!==d[w]){var S=`
`+c[g].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=g&&0<=w);break}}}finally{ue=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?D(e):""}function pe(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=ce(e.type,!1),e;case 11:return e=ce(e.type.render,!1),e;case 1:return e=ce(e.type,!0),e;default:return""}}function ve(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ae:return"Fragment";case G:return"Portal";case je:return"Profiler";case _e:return"StrictMode";case Ee:return"Suspense";case fe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case lt:return(e.displayName||"Context")+".Consumer";case Ye:return(e._context.displayName||"Context")+".Provider";case le:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Le:return t=e.displayName||null,t!==null?t:ve(e.type)||"Memo";case oe:t=e._payload,e=e._init;try{return ve(e(t))}catch{}}return null}function Se(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(t);case 8:return t===_e?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ke(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ce(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ut(e){var t=Ce(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,d=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,d.call(this,g)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sn(e){e._valueTracker||(e._valueTracker=ut(e))}function Nr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=Ce(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function Ir(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wn(e,t){var i=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Qs(e,t){var i=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;i=ke(t.value!=null?t.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ys(e,t){t=t.checked,t!=null&&L(e,"checked",t,!1)}function qn(e,t){Ys(e,t);var i=ke(t.value),a=t.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vn(e,t.type,i):t.hasOwnProperty("defaultValue")&&Vn(e,t.type,ke(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ar(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Vn(e,t,i){(t!=="number"||Ir(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Lr=Array.isArray;function lr(e,t,i,a){if(e=e.options,t){t={};for(var c=0;c<i.length;c++)t["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=t.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&a&&(e[i].defaultSelected=!0)}else{for(i=""+ke(i),t=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Hn(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Dr(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(s(92));if(Lr(i)){if(1<i.length)throw Error(s(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:ke(i)}}function Xs(e,t){var i=ke(t.value),a=ke(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function Zs(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function R(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?R(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ge,ei=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,a,c){MSApp.execUnsafeLocalFunction(function(){return e(t,i,a,c)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ge=Ge||document.createElement("div"),Ge.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ge.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ft(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var ur={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jf=["Webkit","ms","Moz","O"];Object.keys(ur).forEach(function(e){jf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ur[t]=ur[e]})});function tu(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||ur.hasOwnProperty(e)&&ur[e]?(""+t).trim():t+"px"}function ru(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var a=i.indexOf("--")===0,c=tu(i,t[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,c):e[i]=c}}var Cf=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function To(e,t){if(t){if(Cf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function Ro(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Po=null;function Oo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var No=null,on=null,an=null;function nu(e){if(e=ps(e)){if(typeof No!="function")throw Error(s(280));var t=e.stateNode;t&&(t=xi(t),No(e.stateNode,e.type,t))}}function su(e){on?an?an.push(e):an=[e]:on=e}function iu(){if(on){var e=on,t=an;if(an=on=null,nu(e),t)for(e=0;e<t.length;e++)nu(t[e])}}function ou(e,t){return e(t)}function au(){}var Io=!1;function lu(e,t,i){if(Io)return e(t,i);Io=!0;try{return ou(e,t,i)}finally{Io=!1,(on!==null||an!==null)&&(au(),iu())}}function Gn(e,t){var i=e.stateNode;if(i===null)return null;var a=xi(i);if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,t,typeof i));return i}var Ao=!1;if(f)try{var Kn={};Object.defineProperty(Kn,"passive",{get:function(){Ao=!0}}),window.addEventListener("test",Kn,Kn),window.removeEventListener("test",Kn,Kn)}catch{Ao=!1}function Tf(e,t,i,a,c,d,g,w,S){var O=Array.prototype.slice.call(arguments,3);try{t.apply(i,O)}catch(M){this.onError(M)}}var Jn=!1,ti=null,ri=!1,Lo=null,Rf={onError:function(e){Jn=!0,ti=e}};function Pf(e,t,i,a,c,d,g,w,S){Jn=!1,ti=null,Tf.apply(Rf,arguments)}function Of(e,t,i,a,c,d,g,w,S){if(Pf.apply(this,arguments),Jn){if(Jn){var O=ti;Jn=!1,ti=null}else throw Error(s(198));ri||(ri=!0,Lo=O)}}function $r(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function uu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cu(e){if($r(e)!==e)throw Error(s(188))}function Nf(e){var t=e.alternate;if(!t){if(t=$r(e),t===null)throw Error(s(188));return t!==e?null:e}for(var i=e,a=t;;){var c=i.return;if(c===null)break;var d=c.alternate;if(d===null){if(a=c.return,a!==null){i=a;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===i)return cu(c),e;if(d===a)return cu(c),t;d=d.sibling}throw Error(s(188))}if(i.return!==a.return)i=c,a=d;else{for(var g=!1,w=c.child;w;){if(w===i){g=!0,i=c,a=d;break}if(w===a){g=!0,a=c,i=d;break}w=w.sibling}if(!g){for(w=d.child;w;){if(w===i){g=!0,i=d,a=c;break}if(w===a){g=!0,a=d,i=c;break}w=w.sibling}if(!g)throw Error(s(189))}}if(i.alternate!==a)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:t}function du(e){return e=Nf(e),e!==null?hu(e):null}function hu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hu(e);if(t!==null)return t;e=e.sibling}return null}var fu=r.unstable_scheduleCallback,pu=r.unstable_cancelCallback,If=r.unstable_shouldYield,Af=r.unstable_requestPaint,Ue=r.unstable_now,Lf=r.unstable_getCurrentPriorityLevel,Do=r.unstable_ImmediatePriority,mu=r.unstable_UserBlockingPriority,ni=r.unstable_NormalPriority,Df=r.unstable_LowPriority,gu=r.unstable_IdlePriority,si=null,Wt=null;function $f(e){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(si,e,void 0,(e.current.flags&128)===128)}catch{}}var Nt=Math.clz32?Math.clz32:Mf,Uf=Math.log,Bf=Math.LN2;function Mf(e){return e>>>=0,e===0?32:31-(Uf(e)/Bf|0)|0}var ii=64,oi=4194304;function Qn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ai(e,t){var i=e.pendingLanes;if(i===0)return 0;var a=0,c=e.suspendedLanes,d=e.pingedLanes,g=i&268435455;if(g!==0){var w=g&~c;w!==0?a=Qn(w):(d&=g,d!==0&&(a=Qn(d)))}else g=i&~c,g!==0?a=Qn(g):d!==0&&(a=Qn(d));if(a===0)return 0;if(t!==0&&t!==a&&(t&c)===0&&(c=a&-a,d=t&-t,c>=d||c===16&&(d&4194240)!==0))return t;if((a&4)!==0&&(a|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)i=31-Nt(t),c=1<<i,a|=e[i],t&=~c;return a}function zf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ff(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes;0<d;){var g=31-Nt(d),w=1<<g,S=c[g];S===-1?((w&i)===0||(w&a)!==0)&&(c[g]=zf(w,t)):S<=t&&(e.expiredLanes|=w),d&=~w}}function $o(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vu(){var e=ii;return ii<<=1,(ii&4194240)===0&&(ii=64),e}function Uo(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Yn(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nt(t),e[t]=i}function Wf(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var c=31-Nt(i),d=1<<c;t[c]=0,a[c]=-1,e[c]=-1,i&=~d}}function Bo(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-Nt(i),c=1<<a;c&t|e[a]&t&&(e[a]|=t),i&=~c}}var xe=0;function yu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var wu,Mo,_u,ku,Su,zo=!1,li=[],cr=null,dr=null,hr=null,Xn=new Map,Zn=new Map,fr=[],qf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xu(e,t){switch(e){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":Xn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zn.delete(t.pointerId)}}function es(e,t,i,a,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:d,targetContainers:[c]},t!==null&&(t=ps(t),t!==null&&Mo(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Vf(e,t,i,a,c){switch(t){case"focusin":return cr=es(cr,e,t,i,a,c),!0;case"dragenter":return dr=es(dr,e,t,i,a,c),!0;case"mouseover":return hr=es(hr,e,t,i,a,c),!0;case"pointerover":var d=c.pointerId;return Xn.set(d,es(Xn.get(d)||null,e,t,i,a,c)),!0;case"gotpointercapture":return d=c.pointerId,Zn.set(d,es(Zn.get(d)||null,e,t,i,a,c)),!0}return!1}function bu(e){var t=Ur(e.target);if(t!==null){var i=$r(t);if(i!==null){if(t=i.tag,t===13){if(t=uu(i),t!==null){e.blockedOn=t,Su(e.priority,function(){_u(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ui(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Wo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);Po=a,i.target.dispatchEvent(a),Po=null}else return t=ps(i),t!==null&&Mo(t),e.blockedOn=i,!1;t.shift()}return!0}function Eu(e,t,i){ui(e)&&i.delete(t)}function Hf(){zo=!1,cr!==null&&ui(cr)&&(cr=null),dr!==null&&ui(dr)&&(dr=null),hr!==null&&ui(hr)&&(hr=null),Xn.forEach(Eu),Zn.forEach(Eu)}function ts(e,t){e.blockedOn===t&&(e.blockedOn=null,zo||(zo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Hf)))}function rs(e){function t(c){return ts(c,e)}if(0<li.length){ts(li[0],e);for(var i=1;i<li.length;i++){var a=li[i];a.blockedOn===e&&(a.blockedOn=null)}}for(cr!==null&&ts(cr,e),dr!==null&&ts(dr,e),hr!==null&&ts(hr,e),Xn.forEach(t),Zn.forEach(t),i=0;i<fr.length;i++)a=fr[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<fr.length&&(i=fr[0],i.blockedOn===null);)bu(i),i.blockedOn===null&&fr.shift()}var ln=K.ReactCurrentBatchConfig,ci=!0;function Gf(e,t,i,a){var c=xe,d=ln.transition;ln.transition=null;try{xe=1,Fo(e,t,i,a)}finally{xe=c,ln.transition=d}}function Kf(e,t,i,a){var c=xe,d=ln.transition;ln.transition=null;try{xe=4,Fo(e,t,i,a)}finally{xe=c,ln.transition=d}}function Fo(e,t,i,a){if(ci){var c=Wo(e,t,i,a);if(c===null)oa(e,t,a,di,i),xu(e,a);else if(Vf(c,e,t,i,a))a.stopPropagation();else if(xu(e,a),t&4&&-1<qf.indexOf(e)){for(;c!==null;){var d=ps(c);if(d!==null&&wu(d),d=Wo(e,t,i,a),d===null&&oa(e,t,a,di,i),d===c)break;c=d}c!==null&&a.stopPropagation()}else oa(e,t,a,null,i)}}var di=null;function Wo(e,t,i,a){if(di=null,e=Oo(a),e=Ur(e),e!==null)if(t=$r(e),t===null)e=null;else if(i=t.tag,i===13){if(e=uu(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return di=e,null}function ju(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lf()){case Do:return 1;case mu:return 4;case ni:case Df:return 16;case gu:return 536870912;default:return 16}default:return 16}}var pr=null,qo=null,hi=null;function Cu(){if(hi)return hi;var e,t=qo,i=t.length,a,c="value"in pr?pr.value:pr.textContent,d=c.length;for(e=0;e<i&&t[e]===c[e];e++);var g=i-e;for(a=1;a<=g&&t[i-a]===c[d-a];a++);return hi=c.slice(e,1<a?1-a:void 0)}function fi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pi(){return!0}function Tu(){return!1}function _t(e){function t(i,a,c,d,g){this._reactName=i,this._targetInst=c,this.type=a,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(i=e[w],this[w]=i?i(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?pi:Tu,this.isPropagationStopped=Tu,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),t}var un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vo=_t(un),ns=q({},un,{view:0,detail:0}),Jf=_t(ns),Ho,Go,ss,mi=q({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ss&&(ss&&e.type==="mousemove"?(Ho=e.screenX-ss.screenX,Go=e.screenY-ss.screenY):Go=Ho=0,ss=e),Ho)},movementY:function(e){return"movementY"in e?e.movementY:Go}}),Ru=_t(mi),Qf=q({},mi,{dataTransfer:0}),Yf=_t(Qf),Xf=q({},ns,{relatedTarget:0}),Ko=_t(Xf),Zf=q({},un,{animationName:0,elapsedTime:0,pseudoElement:0}),ep=_t(Zf),tp=q({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rp=_t(tp),np=q({},un,{data:0}),Pu=_t(np),sp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ip={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},op={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ap(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=op[e])?!!t[e]:!1}function Jo(){return ap}var lp=q({},ns,{key:function(e){if(e.key){var t=sp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ip[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jo,charCode:function(e){return e.type==="keypress"?fi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),up=_t(lp),cp=q({},mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ou=_t(cp),dp=q({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jo}),hp=_t(dp),fp=q({},un,{propertyName:0,elapsedTime:0,pseudoElement:0}),pp=_t(fp),mp=q({},mi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gp=_t(mp),vp=[9,13,27,32],Qo=f&&"CompositionEvent"in window,is=null;f&&"documentMode"in document&&(is=document.documentMode);var yp=f&&"TextEvent"in window&&!is,Nu=f&&(!Qo||is&&8<is&&11>=is),Iu=" ",Au=!1;function Lu(e,t){switch(e){case"keyup":return vp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Du(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cn=!1;function wp(e,t){switch(e){case"compositionend":return Du(t);case"keypress":return t.which!==32?null:(Au=!0,Iu);case"textInput":return e=t.data,e===Iu&&Au?null:e;default:return null}}function _p(e,t){if(cn)return e==="compositionend"||!Qo&&Lu(e,t)?(e=Cu(),hi=qo=pr=null,cn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nu&&t.locale!=="ko"?null:t.data;default:return null}}var kp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $u(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kp[e.type]:t==="textarea"}function Uu(e,t,i,a){su(a),t=_i(t,"onChange"),0<t.length&&(i=new Vo("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var os=null,as=null;function Sp(e){rc(e,0)}function gi(e){var t=mn(e);if(Nr(t))return e}function xp(e,t){if(e==="change")return t}var Bu=!1;if(f){var Yo;if(f){var Xo="oninput"in document;if(!Xo){var Mu=document.createElement("div");Mu.setAttribute("oninput","return;"),Xo=typeof Mu.oninput=="function"}Yo=Xo}else Yo=!1;Bu=Yo&&(!document.documentMode||9<document.documentMode)}function zu(){os&&(os.detachEvent("onpropertychange",Fu),as=os=null)}function Fu(e){if(e.propertyName==="value"&&gi(as)){var t=[];Uu(t,as,e,Oo(e)),lu(Sp,t)}}function bp(e,t,i){e==="focusin"?(zu(),os=t,as=i,os.attachEvent("onpropertychange",Fu)):e==="focusout"&&zu()}function Ep(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gi(as)}function jp(e,t){if(e==="click")return gi(t)}function Cp(e,t){if(e==="input"||e==="change")return gi(t)}function Tp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var It=typeof Object.is=="function"?Object.is:Tp;function ls(e,t){if(It(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var c=i[a];if(!m.call(t,c)||!It(e[c],t[c]))return!1}return!0}function Wu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qu(e,t){var i=Wu(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Wu(i)}}function Vu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hu(){for(var e=window,t=Ir();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Ir(e.document)}return t}function Zo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Rp(e){var t=Hu(),i=e.focusedElem,a=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&Vu(i.ownerDocument.documentElement,i)){if(a!==null&&Zo(i)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=i.textContent.length,d=Math.min(a.start,c);a=a.end===void 0?d:Math.min(a.end,c),!e.extend&&d>a&&(c=a,a=d,d=c),c=qu(i,d);var g=qu(i,a);c&&g&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),d>a?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pp=f&&"documentMode"in document&&11>=document.documentMode,dn=null,ea=null,us=null,ta=!1;function Gu(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ta||dn==null||dn!==Ir(a)||(a=dn,"selectionStart"in a&&Zo(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),us&&ls(us,a)||(us=a,a=_i(ea,"onSelect"),0<a.length&&(t=new Vo("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=dn)))}function vi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var hn={animationend:vi("Animation","AnimationEnd"),animationiteration:vi("Animation","AnimationIteration"),animationstart:vi("Animation","AnimationStart"),transitionend:vi("Transition","TransitionEnd")},ra={},Ku={};f&&(Ku=document.createElement("div").style,"AnimationEvent"in window||(delete hn.animationend.animation,delete hn.animationiteration.animation,delete hn.animationstart.animation),"TransitionEvent"in window||delete hn.transitionend.transition);function yi(e){if(ra[e])return ra[e];if(!hn[e])return e;var t=hn[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Ku)return ra[e]=t[i];return e}var Ju=yi("animationend"),Qu=yi("animationiteration"),Yu=yi("animationstart"),Xu=yi("transitionend"),Zu=new Map,ec="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mr(e,t){Zu.set(e,t),u(t,[e])}for(var na=0;na<ec.length;na++){var sa=ec[na],Op=sa.toLowerCase(),Np=sa[0].toUpperCase()+sa.slice(1);mr(Op,"on"+Np)}mr(Ju,"onAnimationEnd"),mr(Qu,"onAnimationIteration"),mr(Yu,"onAnimationStart"),mr("dblclick","onDoubleClick"),mr("focusin","onFocus"),mr("focusout","onBlur"),mr(Xu,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ip=new Set("cancel close invalid load scroll toggle".split(" ").concat(cs));function tc(e,t,i){var a=e.type||"unknown-event";e.currentTarget=i,Of(a,t,void 0,e),e.currentTarget=null}function rc(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],c=a.event;a=a.listeners;e:{var d=void 0;if(t)for(var g=a.length-1;0<=g;g--){var w=a[g],S=w.instance,O=w.currentTarget;if(w=w.listener,S!==d&&c.isPropagationStopped())break e;tc(c,w,O),d=S}else for(g=0;g<a.length;g++){if(w=a[g],S=w.instance,O=w.currentTarget,w=w.listener,S!==d&&c.isPropagationStopped())break e;tc(c,w,O),d=S}}}if(ri)throw e=Lo,ri=!1,Lo=null,e}function Pe(e,t){var i=t[ha];i===void 0&&(i=t[ha]=new Set);var a=e+"__bubble";i.has(a)||(nc(t,e,2,!1),i.add(a))}function ia(e,t,i){var a=0;t&&(a|=4),nc(i,e,a,t)}var wi="_reactListening"+Math.random().toString(36).slice(2);function ds(e){if(!e[wi]){e[wi]=!0,o.forEach(function(i){i!=="selectionchange"&&(Ip.has(i)||ia(i,!1,e),ia(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wi]||(t[wi]=!0,ia("selectionchange",!1,t))}}function nc(e,t,i,a){switch(ju(t)){case 1:var c=Gf;break;case 4:c=Kf;break;default:c=Fo}i=c.bind(null,t,i,e),c=void 0,!Ao||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(t,i,{capture:!0,passive:c}):e.addEventListener(t,i,!0):c!==void 0?e.addEventListener(t,i,{passive:c}):e.addEventListener(t,i,!1)}function oa(e,t,i,a,c){var d=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var w=a.stateNode.containerInfo;if(w===c||w.nodeType===8&&w.parentNode===c)break;if(g===4)for(g=a.return;g!==null;){var S=g.tag;if((S===3||S===4)&&(S=g.stateNode.containerInfo,S===c||S.nodeType===8&&S.parentNode===c))return;g=g.return}for(;w!==null;){if(g=Ur(w),g===null)return;if(S=g.tag,S===5||S===6){a=d=g;continue e}w=w.parentNode}}a=a.return}lu(function(){var O=d,M=Oo(i),z=[];e:{var B=Zu.get(e);if(B!==void 0){var J=Vo,Y=e;switch(e){case"keypress":if(fi(i)===0)break e;case"keydown":case"keyup":J=up;break;case"focusin":Y="focus",J=Ko;break;case"focusout":Y="blur",J=Ko;break;case"beforeblur":case"afterblur":J=Ko;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Ru;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Yf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=hp;break;case Ju:case Qu:case Yu:J=ep;break;case Xu:J=pp;break;case"scroll":J=Jf;break;case"wheel":J=gp;break;case"copy":case"cut":case"paste":J=rp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Ou}var X=(t&4)!==0,Be=!X&&e==="scroll",T=X?B!==null?B+"Capture":null:B;X=[];for(var x=O,P;x!==null;){P=x;var W=P.stateNode;if(P.tag===5&&W!==null&&(P=W,T!==null&&(W=Gn(x,T),W!=null&&X.push(hs(x,W,P)))),Be)break;x=x.return}0<X.length&&(B=new J(B,Y,null,i,M),z.push({event:B,listeners:X}))}}if((t&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",J=e==="mouseout"||e==="pointerout",B&&i!==Po&&(Y=i.relatedTarget||i.fromElement)&&(Ur(Y)||Y[Kt]))break e;if((J||B)&&(B=M.window===M?M:(B=M.ownerDocument)?B.defaultView||B.parentWindow:window,J?(Y=i.relatedTarget||i.toElement,J=O,Y=Y?Ur(Y):null,Y!==null&&(Be=$r(Y),Y!==Be||Y.tag!==5&&Y.tag!==6)&&(Y=null)):(J=null,Y=O),J!==Y)){if(X=Ru,W="onMouseLeave",T="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(X=Ou,W="onPointerLeave",T="onPointerEnter",x="pointer"),Be=J==null?B:mn(J),P=Y==null?B:mn(Y),B=new X(W,x+"leave",J,i,M),B.target=Be,B.relatedTarget=P,W=null,Ur(M)===O&&(X=new X(T,x+"enter",Y,i,M),X.target=P,X.relatedTarget=Be,W=X),Be=W,J&&Y)t:{for(X=J,T=Y,x=0,P=X;P;P=fn(P))x++;for(P=0,W=T;W;W=fn(W))P++;for(;0<x-P;)X=fn(X),x--;for(;0<P-x;)T=fn(T),P--;for(;x--;){if(X===T||T!==null&&X===T.alternate)break t;X=fn(X),T=fn(T)}X=null}else X=null;J!==null&&sc(z,B,J,X,!1),Y!==null&&Be!==null&&sc(z,Be,Y,X,!0)}}e:{if(B=O?mn(O):window,J=B.nodeName&&B.nodeName.toLowerCase(),J==="select"||J==="input"&&B.type==="file")var Z=xp;else if($u(B))if(Bu)Z=Cp;else{Z=Ep;var te=bp}else(J=B.nodeName)&&J.toLowerCase()==="input"&&(B.type==="checkbox"||B.type==="radio")&&(Z=jp);if(Z&&(Z=Z(e,O))){Uu(z,Z,i,M);break e}te&&te(e,B,O),e==="focusout"&&(te=B._wrapperState)&&te.controlled&&B.type==="number"&&Vn(B,"number",B.value)}switch(te=O?mn(O):window,e){case"focusin":($u(te)||te.contentEditable==="true")&&(dn=te,ea=O,us=null);break;case"focusout":us=ea=dn=null;break;case"mousedown":ta=!0;break;case"contextmenu":case"mouseup":case"dragend":ta=!1,Gu(z,i,M);break;case"selectionchange":if(Pp)break;case"keydown":case"keyup":Gu(z,i,M)}var re;if(Qo)e:{switch(e){case"compositionstart":var ie="onCompositionStart";break e;case"compositionend":ie="onCompositionEnd";break e;case"compositionupdate":ie="onCompositionUpdate";break e}ie=void 0}else cn?Lu(e,i)&&(ie="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ie="onCompositionStart");ie&&(Nu&&i.locale!=="ko"&&(cn||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&cn&&(re=Cu()):(pr=M,qo="value"in pr?pr.value:pr.textContent,cn=!0)),te=_i(O,ie),0<te.length&&(ie=new Pu(ie,e,null,i,M),z.push({event:ie,listeners:te}),re?ie.data=re:(re=Du(i),re!==null&&(ie.data=re)))),(re=yp?wp(e,i):_p(e,i))&&(O=_i(O,"onBeforeInput"),0<O.length&&(M=new Pu("onBeforeInput","beforeinput",null,i,M),z.push({event:M,listeners:O}),M.data=re))}rc(z,t)})}function hs(e,t,i){return{instance:e,listener:t,currentTarget:i}}function _i(e,t){for(var i=t+"Capture",a=[];e!==null;){var c=e,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=Gn(e,i),d!=null&&a.unshift(hs(e,d,c)),d=Gn(e,t),d!=null&&a.push(hs(e,d,c))),e=e.return}return a}function fn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sc(e,t,i,a,c){for(var d=t._reactName,g=[];i!==null&&i!==a;){var w=i,S=w.alternate,O=w.stateNode;if(S!==null&&S===a)break;w.tag===5&&O!==null&&(w=O,c?(S=Gn(i,d),S!=null&&g.unshift(hs(i,S,w))):c||(S=Gn(i,d),S!=null&&g.push(hs(i,S,w)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var Ap=/\r\n?/g,Lp=/\u0000|\uFFFD/g;function ic(e){return(typeof e=="string"?e:""+e).replace(Ap,`
`).replace(Lp,"")}function ki(e,t,i){if(t=ic(t),ic(e)!==t&&i)throw Error(s(425))}function Si(){}var aa=null,la=null;function ua(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ca=typeof setTimeout=="function"?setTimeout:void 0,Dp=typeof clearTimeout=="function"?clearTimeout:void 0,oc=typeof Promise=="function"?Promise:void 0,$p=typeof queueMicrotask=="function"?queueMicrotask:typeof oc<"u"?function(e){return oc.resolve(null).then(e).catch(Up)}:ca;function Up(e){setTimeout(function(){throw e})}function da(e,t){var i=t,a=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(a===0){e.removeChild(c),rs(t);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=c}while(i);rs(t)}function gr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ac(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var pn=Math.random().toString(36).slice(2),qt="__reactFiber$"+pn,fs="__reactProps$"+pn,Kt="__reactContainer$"+pn,ha="__reactEvents$"+pn,Bp="__reactListeners$"+pn,Mp="__reactHandles$"+pn;function Ur(e){var t=e[qt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Kt]||i[qt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=ac(e);e!==null;){if(i=e[qt])return i;e=ac(e)}return t}e=i,i=e.parentNode}return null}function ps(e){return e=e[qt]||e[Kt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function xi(e){return e[fs]||null}var fa=[],gn=-1;function vr(e){return{current:e}}function Oe(e){0>gn||(e.current=fa[gn],fa[gn]=null,gn--)}function Te(e,t){gn++,fa[gn]=e.current,e.current=t}var yr={},nt=vr(yr),pt=vr(!1),Br=yr;function vn(e,t){var i=e.type.contextTypes;if(!i)return yr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in i)c[d]=t[d];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function mt(e){return e=e.childContextTypes,e!=null}function bi(){Oe(pt),Oe(nt)}function lc(e,t,i){if(nt.current!==yr)throw Error(s(168));Te(nt,t),Te(pt,i)}function uc(e,t,i){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var c in a)if(!(c in t))throw Error(s(108,Se(e)||"Unknown",c));return q({},i,a)}function Ei(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yr,Br=nt.current,Te(nt,e),Te(pt,pt.current),!0}function cc(e,t,i){var a=e.stateNode;if(!a)throw Error(s(169));i?(e=uc(e,t,Br),a.__reactInternalMemoizedMergedChildContext=e,Oe(pt),Oe(nt),Te(nt,e)):Oe(pt),Te(pt,i)}var Jt=null,ji=!1,pa=!1;function dc(e){Jt===null?Jt=[e]:Jt.push(e)}function zp(e){ji=!0,dc(e)}function wr(){if(!pa&&Jt!==null){pa=!0;var e=0,t=xe;try{var i=Jt;for(xe=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}Jt=null,ji=!1}catch(c){throw Jt!==null&&(Jt=Jt.slice(e+1)),fu(Do,wr),c}finally{xe=t,pa=!1}}return null}var yn=[],wn=0,Ci=null,Ti=0,jt=[],Ct=0,Mr=null,Qt=1,Yt="";function zr(e,t){yn[wn++]=Ti,yn[wn++]=Ci,Ci=e,Ti=t}function hc(e,t,i){jt[Ct++]=Qt,jt[Ct++]=Yt,jt[Ct++]=Mr,Mr=e;var a=Qt;e=Yt;var c=32-Nt(a)-1;a&=~(1<<c),i+=1;var d=32-Nt(t)+c;if(30<d){var g=c-c%5;d=(a&(1<<g)-1).toString(32),a>>=g,c-=g,Qt=1<<32-Nt(t)+c|i<<c|a,Yt=d+e}else Qt=1<<d|i<<c|a,Yt=e}function ma(e){e.return!==null&&(zr(e,1),hc(e,1,0))}function ga(e){for(;e===Ci;)Ci=yn[--wn],yn[wn]=null,Ti=yn[--wn],yn[wn]=null;for(;e===Mr;)Mr=jt[--Ct],jt[Ct]=null,Yt=jt[--Ct],jt[Ct]=null,Qt=jt[--Ct],jt[Ct]=null}var kt=null,St=null,Ne=!1,At=null;function fc(e,t){var i=Ot(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function pc(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kt=e,St=gr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kt=e,St=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Mr!==null?{id:Qt,overflow:Yt}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Ot(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,kt=e,St=null,!0):!1;default:return!1}}function va(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ya(e){if(Ne){var t=St;if(t){var i=t;if(!pc(e,t)){if(va(e))throw Error(s(418));t=gr(i.nextSibling);var a=kt;t&&pc(e,t)?fc(a,i):(e.flags=e.flags&-4097|2,Ne=!1,kt=e)}}else{if(va(e))throw Error(s(418));e.flags=e.flags&-4097|2,Ne=!1,kt=e}}}function mc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kt=e}function Ri(e){if(e!==kt)return!1;if(!Ne)return mc(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ua(e.type,e.memoizedProps)),t&&(t=St)){if(va(e))throw gc(),Error(s(418));for(;t;)fc(e,t),t=gr(t.nextSibling)}if(mc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){St=gr(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}St=null}}else St=kt?gr(e.stateNode.nextSibling):null;return!0}function gc(){for(var e=St;e;)e=gr(e.nextSibling)}function _n(){St=kt=null,Ne=!1}function wa(e){At===null?At=[e]:At.push(e)}var Fp=K.ReactCurrentBatchConfig;function ms(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(s(309));var a=i.stateNode}if(!a)throw Error(s(147,e));var c=a,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(g){var w=c.refs;g===null?delete w[d]:w[d]=g},t._stringRef=d,t)}if(typeof e!="string")throw Error(s(284));if(!i._owner)throw Error(s(290,e))}return e}function Pi(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vc(e){var t=e._init;return t(e._payload)}function yc(e){function t(T,x){if(e){var P=T.deletions;P===null?(T.deletions=[x],T.flags|=16):P.push(x)}}function i(T,x){if(!e)return null;for(;x!==null;)t(T,x),x=x.sibling;return null}function a(T,x){for(T=new Map;x!==null;)x.key!==null?T.set(x.key,x):T.set(x.index,x),x=x.sibling;return T}function c(T,x){return T=Cr(T,x),T.index=0,T.sibling=null,T}function d(T,x,P){return T.index=P,e?(P=T.alternate,P!==null?(P=P.index,P<x?(T.flags|=2,x):P):(T.flags|=2,x)):(T.flags|=1048576,x)}function g(T){return e&&T.alternate===null&&(T.flags|=2),T}function w(T,x,P,W){return x===null||x.tag!==6?(x=cl(P,T.mode,W),x.return=T,x):(x=c(x,P),x.return=T,x)}function S(T,x,P,W){var Z=P.type;return Z===ae?M(T,x,P.props.children,W,P.key):x!==null&&(x.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===oe&&vc(Z)===x.type)?(W=c(x,P.props),W.ref=ms(T,x,P),W.return=T,W):(W=eo(P.type,P.key,P.props,null,T.mode,W),W.ref=ms(T,x,P),W.return=T,W)}function O(T,x,P,W){return x===null||x.tag!==4||x.stateNode.containerInfo!==P.containerInfo||x.stateNode.implementation!==P.implementation?(x=dl(P,T.mode,W),x.return=T,x):(x=c(x,P.children||[]),x.return=T,x)}function M(T,x,P,W,Z){return x===null||x.tag!==7?(x=Jr(P,T.mode,W,Z),x.return=T,x):(x=c(x,P),x.return=T,x)}function z(T,x,P){if(typeof x=="string"&&x!==""||typeof x=="number")return x=cl(""+x,T.mode,P),x.return=T,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case de:return P=eo(x.type,x.key,x.props,null,T.mode,P),P.ref=ms(T,null,x),P.return=T,P;case G:return x=dl(x,T.mode,P),x.return=T,x;case oe:var W=x._init;return z(T,W(x._payload),P)}if(Lr(x)||I(x))return x=Jr(x,T.mode,P,null),x.return=T,x;Pi(T,x)}return null}function B(T,x,P,W){var Z=x!==null?x.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return Z!==null?null:w(T,x,""+P,W);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case de:return P.key===Z?S(T,x,P,W):null;case G:return P.key===Z?O(T,x,P,W):null;case oe:return Z=P._init,B(T,x,Z(P._payload),W)}if(Lr(P)||I(P))return Z!==null?null:M(T,x,P,W,null);Pi(T,P)}return null}function J(T,x,P,W,Z){if(typeof W=="string"&&W!==""||typeof W=="number")return T=T.get(P)||null,w(x,T,""+W,Z);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case de:return T=T.get(W.key===null?P:W.key)||null,S(x,T,W,Z);case G:return T=T.get(W.key===null?P:W.key)||null,O(x,T,W,Z);case oe:var te=W._init;return J(T,x,P,te(W._payload),Z)}if(Lr(W)||I(W))return T=T.get(P)||null,M(x,T,W,Z,null);Pi(x,W)}return null}function Y(T,x,P,W){for(var Z=null,te=null,re=x,ie=x=0,Qe=null;re!==null&&ie<P.length;ie++){re.index>ie?(Qe=re,re=null):Qe=re.sibling;var we=B(T,re,P[ie],W);if(we===null){re===null&&(re=Qe);break}e&&re&&we.alternate===null&&t(T,re),x=d(we,x,ie),te===null?Z=we:te.sibling=we,te=we,re=Qe}if(ie===P.length)return i(T,re),Ne&&zr(T,ie),Z;if(re===null){for(;ie<P.length;ie++)re=z(T,P[ie],W),re!==null&&(x=d(re,x,ie),te===null?Z=re:te.sibling=re,te=re);return Ne&&zr(T,ie),Z}for(re=a(T,re);ie<P.length;ie++)Qe=J(re,T,ie,P[ie],W),Qe!==null&&(e&&Qe.alternate!==null&&re.delete(Qe.key===null?ie:Qe.key),x=d(Qe,x,ie),te===null?Z=Qe:te.sibling=Qe,te=Qe);return e&&re.forEach(function(Tr){return t(T,Tr)}),Ne&&zr(T,ie),Z}function X(T,x,P,W){var Z=I(P);if(typeof Z!="function")throw Error(s(150));if(P=Z.call(P),P==null)throw Error(s(151));for(var te=Z=null,re=x,ie=x=0,Qe=null,we=P.next();re!==null&&!we.done;ie++,we=P.next()){re.index>ie?(Qe=re,re=null):Qe=re.sibling;var Tr=B(T,re,we.value,W);if(Tr===null){re===null&&(re=Qe);break}e&&re&&Tr.alternate===null&&t(T,re),x=d(Tr,x,ie),te===null?Z=Tr:te.sibling=Tr,te=Tr,re=Qe}if(we.done)return i(T,re),Ne&&zr(T,ie),Z;if(re===null){for(;!we.done;ie++,we=P.next())we=z(T,we.value,W),we!==null&&(x=d(we,x,ie),te===null?Z=we:te.sibling=we,te=we);return Ne&&zr(T,ie),Z}for(re=a(T,re);!we.done;ie++,we=P.next())we=J(re,T,ie,we.value,W),we!==null&&(e&&we.alternate!==null&&re.delete(we.key===null?ie:we.key),x=d(we,x,ie),te===null?Z=we:te.sibling=we,te=we);return e&&re.forEach(function(km){return t(T,km)}),Ne&&zr(T,ie),Z}function Be(T,x,P,W){if(typeof P=="object"&&P!==null&&P.type===ae&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case de:e:{for(var Z=P.key,te=x;te!==null;){if(te.key===Z){if(Z=P.type,Z===ae){if(te.tag===7){i(T,te.sibling),x=c(te,P.props.children),x.return=T,T=x;break e}}else if(te.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===oe&&vc(Z)===te.type){i(T,te.sibling),x=c(te,P.props),x.ref=ms(T,te,P),x.return=T,T=x;break e}i(T,te);break}else t(T,te);te=te.sibling}P.type===ae?(x=Jr(P.props.children,T.mode,W,P.key),x.return=T,T=x):(W=eo(P.type,P.key,P.props,null,T.mode,W),W.ref=ms(T,x,P),W.return=T,T=W)}return g(T);case G:e:{for(te=P.key;x!==null;){if(x.key===te)if(x.tag===4&&x.stateNode.containerInfo===P.containerInfo&&x.stateNode.implementation===P.implementation){i(T,x.sibling),x=c(x,P.children||[]),x.return=T,T=x;break e}else{i(T,x);break}else t(T,x);x=x.sibling}x=dl(P,T.mode,W),x.return=T,T=x}return g(T);case oe:return te=P._init,Be(T,x,te(P._payload),W)}if(Lr(P))return Y(T,x,P,W);if(I(P))return X(T,x,P,W);Pi(T,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,x!==null&&x.tag===6?(i(T,x.sibling),x=c(x,P),x.return=T,T=x):(i(T,x),x=cl(P,T.mode,W),x.return=T,T=x),g(T)):i(T,x)}return Be}var kn=yc(!0),wc=yc(!1),Oi=vr(null),Ni=null,Sn=null,_a=null;function ka(){_a=Sn=Ni=null}function Sa(e){var t=Oi.current;Oe(Oi),e._currentValue=t}function xa(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function xn(e,t){Ni=e,_a=Sn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(gt=!0),e.firstContext=null)}function Tt(e){var t=e._currentValue;if(_a!==e)if(e={context:e,memoizedValue:t,next:null},Sn===null){if(Ni===null)throw Error(s(308));Sn=e,Ni.dependencies={lanes:0,firstContext:e}}else Sn=Sn.next=e;return t}var Fr=null;function ba(e){Fr===null?Fr=[e]:Fr.push(e)}function _c(e,t,i,a){var c=t.interleaved;return c===null?(i.next=i,ba(t)):(i.next=c.next,c.next=i),t.interleaved=i,Xt(e,a)}function Xt(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var _r=!1;function Ea(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function kr(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(ye&2)!==0){var c=a.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),a.pending=t,Xt(e,i)}return c=a.interleaved,c===null?(t.next=t,ba(a)):(t.next=c.next,c.next=t),a.interleaved=t,Xt(e,i)}function Ii(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,Bo(e,i)}}function Sc(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var c=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};d===null?c=d=g:d=d.next=g,i=i.next}while(i!==null);d===null?c=d=t:d=d.next=t}else c=d=t;i={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Ai(e,t,i,a){var c=e.updateQueue;_r=!1;var d=c.firstBaseUpdate,g=c.lastBaseUpdate,w=c.shared.pending;if(w!==null){c.shared.pending=null;var S=w,O=S.next;S.next=null,g===null?d=O:g.next=O,g=S;var M=e.alternate;M!==null&&(M=M.updateQueue,w=M.lastBaseUpdate,w!==g&&(w===null?M.firstBaseUpdate=O:w.next=O,M.lastBaseUpdate=S))}if(d!==null){var z=c.baseState;g=0,M=O=S=null,w=d;do{var B=w.lane,J=w.eventTime;if((a&B)===B){M!==null&&(M=M.next={eventTime:J,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var Y=e,X=w;switch(B=t,J=i,X.tag){case 1:if(Y=X.payload,typeof Y=="function"){z=Y.call(J,z,B);break e}z=Y;break e;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=X.payload,B=typeof Y=="function"?Y.call(J,z,B):Y,B==null)break e;z=q({},z,B);break e;case 2:_r=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,B=c.effects,B===null?c.effects=[w]:B.push(w))}else J={eventTime:J,lane:B,tag:w.tag,payload:w.payload,callback:w.callback,next:null},M===null?(O=M=J,S=z):M=M.next=J,g|=B;if(w=w.next,w===null){if(w=c.shared.pending,w===null)break;B=w,w=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);if(M===null&&(S=z),c.baseState=S,c.firstBaseUpdate=O,c.lastBaseUpdate=M,t=c.shared.interleaved,t!==null){c=t;do g|=c.lane,c=c.next;while(c!==t)}else d===null&&(c.shared.lanes=0);Vr|=g,e.lanes=g,e.memoizedState=z}}function xc(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],c=a.callback;if(c!==null){if(a.callback=null,a=i,typeof c!="function")throw Error(s(191,c));c.call(a)}}}var gs={},Vt=vr(gs),vs=vr(gs),ys=vr(gs);function Wr(e){if(e===gs)throw Error(s(174));return e}function ja(e,t){switch(Te(ys,t),Te(vs,e),Te(Vt,gs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:he(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=he(t,e)}Oe(Vt),Te(Vt,t)}function bn(){Oe(Vt),Oe(vs),Oe(ys)}function bc(e){Wr(ys.current);var t=Wr(Vt.current),i=he(t,e.type);t!==i&&(Te(vs,e),Te(Vt,i))}function Ca(e){vs.current===e&&(Oe(Vt),Oe(vs))}var Ie=vr(0);function Li(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ta=[];function Ra(){for(var e=0;e<Ta.length;e++)Ta[e]._workInProgressVersionPrimary=null;Ta.length=0}var Di=K.ReactCurrentDispatcher,Pa=K.ReactCurrentBatchConfig,qr=0,Ae=null,We=null,Ke=null,$i=!1,ws=!1,_s=0,Wp=0;function st(){throw Error(s(321))}function Oa(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!It(e[i],t[i]))return!1;return!0}function Na(e,t,i,a,c,d){if(qr=d,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Di.current=e===null||e.memoizedState===null?Gp:Kp,e=i(a,c),ws){d=0;do{if(ws=!1,_s=0,25<=d)throw Error(s(301));d+=1,Ke=We=null,t.updateQueue=null,Di.current=Jp,e=i(a,c)}while(ws)}if(Di.current=Mi,t=We!==null&&We.next!==null,qr=0,Ke=We=Ae=null,$i=!1,t)throw Error(s(300));return e}function Ia(){var e=_s!==0;return _s=0,e}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Ae.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Rt(){if(We===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=Ke===null?Ae.memoizedState:Ke.next;if(t!==null)Ke=t,We=e;else{if(e===null)throw Error(s(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ke===null?Ae.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function ks(e,t){return typeof t=="function"?t(e):t}function Aa(e){var t=Rt(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var a=We,c=a.baseQueue,d=i.pending;if(d!==null){if(c!==null){var g=c.next;c.next=d.next,d.next=g}a.baseQueue=c=d,i.pending=null}if(c!==null){d=c.next,a=a.baseState;var w=g=null,S=null,O=d;do{var M=O.lane;if((qr&M)===M)S!==null&&(S=S.next={lane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),a=O.hasEagerState?O.eagerState:e(a,O.action);else{var z={lane:M,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null};S===null?(w=S=z,g=a):S=S.next=z,Ae.lanes|=M,Vr|=M}O=O.next}while(O!==null&&O!==d);S===null?g=a:S.next=w,It(a,t.memoizedState)||(gt=!0),t.memoizedState=a,t.baseState=g,t.baseQueue=S,i.lastRenderedState=a}if(e=i.interleaved,e!==null){c=e;do d=c.lane,Ae.lanes|=d,Vr|=d,c=c.next;while(c!==e)}else c===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function La(e){var t=Rt(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var a=i.dispatch,c=i.pending,d=t.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do d=e(d,g.action),g=g.next;while(g!==c);It(d,t.memoizedState)||(gt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),i.lastRenderedState=d}return[d,a]}function Ec(){}function jc(e,t){var i=Ae,a=Rt(),c=t(),d=!It(a.memoizedState,c);if(d&&(a.memoizedState=c,gt=!0),a=a.queue,Da(Rc.bind(null,i,a,e),[e]),a.getSnapshot!==t||d||Ke!==null&&Ke.memoizedState.tag&1){if(i.flags|=2048,Ss(9,Tc.bind(null,i,a,c,t),void 0,null),Je===null)throw Error(s(349));(qr&30)!==0||Cc(i,t,c)}return c}function Cc(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Tc(e,t,i,a){t.value=i,t.getSnapshot=a,Pc(t)&&Oc(e)}function Rc(e,t,i){return i(function(){Pc(t)&&Oc(e)})}function Pc(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!It(e,i)}catch{return!0}}function Oc(e){var t=Xt(e,1);t!==null&&Ut(t,e,1,-1)}function Nc(e){var t=Ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:e},t.queue=e,e=e.dispatch=Hp.bind(null,Ae,e),[t.memoizedState,e]}function Ss(e,t,i,a){return e={tag:e,create:t,destroy:i,deps:a,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e)),e}function Ic(){return Rt().memoizedState}function Ui(e,t,i,a){var c=Ht();Ae.flags|=e,c.memoizedState=Ss(1|t,i,void 0,a===void 0?null:a)}function Bi(e,t,i,a){var c=Rt();a=a===void 0?null:a;var d=void 0;if(We!==null){var g=We.memoizedState;if(d=g.destroy,a!==null&&Oa(a,g.deps)){c.memoizedState=Ss(t,i,d,a);return}}Ae.flags|=e,c.memoizedState=Ss(1|t,i,d,a)}function Ac(e,t){return Ui(8390656,8,e,t)}function Da(e,t){return Bi(2048,8,e,t)}function Lc(e,t){return Bi(4,2,e,t)}function Dc(e,t){return Bi(4,4,e,t)}function $c(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Uc(e,t,i){return i=i!=null?i.concat([e]):null,Bi(4,4,$c.bind(null,t,e),i)}function $a(){}function Bc(e,t){var i=Rt();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&Oa(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function Mc(e,t){var i=Rt();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&Oa(t,a[1])?a[0]:(e=e(),i.memoizedState=[e,t],e)}function zc(e,t,i){return(qr&21)===0?(e.baseState&&(e.baseState=!1,gt=!0),e.memoizedState=i):(It(i,t)||(i=vu(),Ae.lanes|=i,Vr|=i,e.baseState=!0),t)}function qp(e,t){var i=xe;xe=i!==0&&4>i?i:4,e(!0);var a=Pa.transition;Pa.transition={};try{e(!1),t()}finally{xe=i,Pa.transition=a}}function Fc(){return Rt().memoizedState}function Vp(e,t,i){var a=Er(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},Wc(e))qc(t,i);else if(i=_c(e,t,i,a),i!==null){var c=dt();Ut(i,e,a,c),Vc(i,t,a)}}function Hp(e,t,i){var a=Er(e),c={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(Wc(e))qc(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var g=t.lastRenderedState,w=d(g,i);if(c.hasEagerState=!0,c.eagerState=w,It(w,g)){var S=t.interleaved;S===null?(c.next=c,ba(t)):(c.next=S.next,S.next=c),t.interleaved=c;return}}catch{}finally{}i=_c(e,t,c,a),i!==null&&(c=dt(),Ut(i,e,a,c),Vc(i,t,a))}}function Wc(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function qc(e,t){ws=$i=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Vc(e,t,i){if((i&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,Bo(e,i)}}var Mi={readContext:Tt,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},Gp={readContext:Tt,useCallback:function(e,t){return Ht().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:Ac,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Ui(4194308,4,$c.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Ui(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ui(4,2,e,t)},useMemo:function(e,t){var i=Ht();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var a=Ht();return t=i!==void 0?i(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Vp.bind(null,Ae,e),[a.memoizedState,e]},useRef:function(e){var t=Ht();return e={current:e},t.memoizedState=e},useState:Nc,useDebugValue:$a,useDeferredValue:function(e){return Ht().memoizedState=e},useTransition:function(){var e=Nc(!1),t=e[0];return e=qp.bind(null,e[1]),Ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var a=Ae,c=Ht();if(Ne){if(i===void 0)throw Error(s(407));i=i()}else{if(i=t(),Je===null)throw Error(s(349));(qr&30)!==0||Cc(a,t,i)}c.memoizedState=i;var d={value:i,getSnapshot:t};return c.queue=d,Ac(Rc.bind(null,a,d,e),[e]),a.flags|=2048,Ss(9,Tc.bind(null,a,d,i,t),void 0,null),i},useId:function(){var e=Ht(),t=Je.identifierPrefix;if(Ne){var i=Yt,a=Qt;i=(a&~(1<<32-Nt(a)-1)).toString(32)+i,t=":"+t+"R"+i,i=_s++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=Wp++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Kp={readContext:Tt,useCallback:Bc,useContext:Tt,useEffect:Da,useImperativeHandle:Uc,useInsertionEffect:Lc,useLayoutEffect:Dc,useMemo:Mc,useReducer:Aa,useRef:Ic,useState:function(){return Aa(ks)},useDebugValue:$a,useDeferredValue:function(e){var t=Rt();return zc(t,We.memoizedState,e)},useTransition:function(){var e=Aa(ks)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:Ec,useSyncExternalStore:jc,useId:Fc,unstable_isNewReconciler:!1},Jp={readContext:Tt,useCallback:Bc,useContext:Tt,useEffect:Da,useImperativeHandle:Uc,useInsertionEffect:Lc,useLayoutEffect:Dc,useMemo:Mc,useReducer:La,useRef:Ic,useState:function(){return La(ks)},useDebugValue:$a,useDeferredValue:function(e){var t=Rt();return We===null?t.memoizedState=e:zc(t,We.memoizedState,e)},useTransition:function(){var e=La(ks)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:Ec,useSyncExternalStore:jc,useId:Fc,unstable_isNewReconciler:!1};function Lt(e,t){if(e&&e.defaultProps){t=q({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function Ua(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:q({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var zi={isMounted:function(e){return(e=e._reactInternals)?$r(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var a=dt(),c=Er(e),d=Zt(a,c);d.payload=t,i!=null&&(d.callback=i),t=kr(e,d,c),t!==null&&(Ut(t,e,c,a),Ii(t,e,c))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=dt(),c=Er(e),d=Zt(a,c);d.tag=1,d.payload=t,i!=null&&(d.callback=i),t=kr(e,d,c),t!==null&&(Ut(t,e,c,a),Ii(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=dt(),a=Er(e),c=Zt(i,a);c.tag=2,t!=null&&(c.callback=t),t=kr(e,c,a),t!==null&&(Ut(t,e,a,i),Ii(t,e,a))}};function Hc(e,t,i,a,c,d,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,d,g):t.prototype&&t.prototype.isPureReactComponent?!ls(i,a)||!ls(c,d):!0}function Gc(e,t,i){var a=!1,c=yr,d=t.contextType;return typeof d=="object"&&d!==null?d=Tt(d):(c=mt(t)?Br:nt.current,a=t.contextTypes,d=(a=a!=null)?vn(e,c):yr),t=new t(i,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zi,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=d),t}function Kc(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&zi.enqueueReplaceState(t,t.state,null)}function Ba(e,t,i,a){var c=e.stateNode;c.props=i,c.state=e.memoizedState,c.refs={},Ea(e);var d=t.contextType;typeof d=="object"&&d!==null?c.context=Tt(d):(d=mt(t)?Br:nt.current,c.context=vn(e,d)),c.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(Ua(e,t,d,i),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&zi.enqueueReplaceState(c,c.state,null),Ai(e,i,c,a),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function En(e,t){try{var i="",a=t;do i+=pe(a),a=a.return;while(a);var c=i}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:c,digest:null}}function Ma(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function za(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Qp=typeof WeakMap=="function"?WeakMap:Map;function Jc(e,t,i){i=Zt(-1,i),i.tag=3,i.payload={element:null};var a=t.value;return i.callback=function(){Ki||(Ki=!0,rl=a),za(e,t)},i}function Qc(e,t,i){i=Zt(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var c=t.value;i.payload=function(){return a(c)},i.callback=function(){za(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(i.callback=function(){za(e,t),typeof a!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),i}function Yc(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new Qp;var c=new Set;a.set(t,c)}else c=a.get(t),c===void 0&&(c=new Set,a.set(t,c));c.has(i)||(c.add(i),e=cm.bind(null,e,t,i),t.then(e,e))}function Xc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zc(e,t,i,a,c){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Zt(-1,1),t.tag=2,kr(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=c,e)}var Yp=K.ReactCurrentOwner,gt=!1;function ct(e,t,i,a){t.child=e===null?wc(t,null,i,a):kn(t,e.child,i,a)}function ed(e,t,i,a,c){i=i.render;var d=t.ref;return xn(t,c),a=Na(e,t,i,a,d,c),i=Ia(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,er(e,t,c)):(Ne&&i&&ma(t),t.flags|=1,ct(e,t,a,c),t.child)}function td(e,t,i,a,c){if(e===null){var d=i.type;return typeof d=="function"&&!ul(d)&&d.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=d,rd(e,t,d,a,c)):(e=eo(i.type,null,a,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&c)===0){var g=d.memoizedProps;if(i=i.compare,i=i!==null?i:ls,i(g,a)&&e.ref===t.ref)return er(e,t,c)}return t.flags|=1,e=Cr(d,a),e.ref=t.ref,e.return=t,t.child=e}function rd(e,t,i,a,c){if(e!==null){var d=e.memoizedProps;if(ls(d,a)&&e.ref===t.ref)if(gt=!1,t.pendingProps=a=d,(e.lanes&c)!==0)(e.flags&131072)!==0&&(gt=!0);else return t.lanes=e.lanes,er(e,t,c)}return Fa(e,t,i,a,c)}function nd(e,t,i){var a=t.pendingProps,c=a.children,d=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Cn,xt),xt|=i;else{if((i&1073741824)===0)return e=d!==null?d.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Te(Cn,xt),xt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:i,Te(Cn,xt),xt|=a}else d!==null?(a=d.baseLanes|i,t.memoizedState=null):a=i,Te(Cn,xt),xt|=a;return ct(e,t,c,i),t.child}function sd(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Fa(e,t,i,a,c){var d=mt(i)?Br:nt.current;return d=vn(t,d),xn(t,c),i=Na(e,t,i,a,d,c),a=Ia(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,er(e,t,c)):(Ne&&a&&ma(t),t.flags|=1,ct(e,t,i,c),t.child)}function id(e,t,i,a,c){if(mt(i)){var d=!0;Ei(t)}else d=!1;if(xn(t,c),t.stateNode===null)Wi(e,t),Gc(t,i,a),Ba(t,i,a,c),a=!0;else if(e===null){var g=t.stateNode,w=t.memoizedProps;g.props=w;var S=g.context,O=i.contextType;typeof O=="object"&&O!==null?O=Tt(O):(O=mt(i)?Br:nt.current,O=vn(t,O));var M=i.getDerivedStateFromProps,z=typeof M=="function"||typeof g.getSnapshotBeforeUpdate=="function";z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==a||S!==O)&&Kc(t,g,a,O),_r=!1;var B=t.memoizedState;g.state=B,Ai(t,a,g,c),S=t.memoizedState,w!==a||B!==S||pt.current||_r?(typeof M=="function"&&(Ua(t,i,M,a),S=t.memoizedState),(w=_r||Hc(t,i,w,a,B,S,O))?(z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=S),g.props=a,g.state=S,g.context=O,a=w):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{g=t.stateNode,kc(e,t),w=t.memoizedProps,O=t.type===t.elementType?w:Lt(t.type,w),g.props=O,z=t.pendingProps,B=g.context,S=i.contextType,typeof S=="object"&&S!==null?S=Tt(S):(S=mt(i)?Br:nt.current,S=vn(t,S));var J=i.getDerivedStateFromProps;(M=typeof J=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==z||B!==S)&&Kc(t,g,a,S),_r=!1,B=t.memoizedState,g.state=B,Ai(t,a,g,c);var Y=t.memoizedState;w!==z||B!==Y||pt.current||_r?(typeof J=="function"&&(Ua(t,i,J,a),Y=t.memoizedState),(O=_r||Hc(t,i,O,a,B,Y,S)||!1)?(M||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,Y,S),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,Y,S)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=Y),g.props=a,g.state=Y,g.context=S,a=O):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),a=!1)}return Wa(e,t,i,a,d,c)}function Wa(e,t,i,a,c,d){sd(e,t);var g=(t.flags&128)!==0;if(!a&&!g)return c&&cc(t,i,!1),er(e,t,d);a=t.stateNode,Yp.current=t;var w=g&&typeof i.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&g?(t.child=kn(t,e.child,null,d),t.child=kn(t,null,w,d)):ct(e,t,w,d),t.memoizedState=a.state,c&&cc(t,i,!0),t.child}function od(e){var t=e.stateNode;t.pendingContext?lc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&lc(e,t.context,!1),ja(e,t.containerInfo)}function ad(e,t,i,a,c){return _n(),wa(c),t.flags|=256,ct(e,t,i,a),t.child}var qa={dehydrated:null,treeContext:null,retryLane:0};function Va(e){return{baseLanes:e,cachePool:null,transitions:null}}function ld(e,t,i){var a=t.pendingProps,c=Ie.current,d=!1,g=(t.flags&128)!==0,w;if((w=g)||(w=e!==null&&e.memoizedState===null?!1:(c&2)!==0),w?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Te(Ie,c&1),e===null)return ya(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(g=a.children,e=a.fallback,d?(a=t.mode,d=t.child,g={mode:"hidden",children:g},(a&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=g):d=to(g,a,0,null),e=Jr(e,a,i,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=Va(i),t.memoizedState=qa,e):Ha(t,g));if(c=e.memoizedState,c!==null&&(w=c.dehydrated,w!==null))return Xp(e,t,g,a,w,c,i);if(d){d=a.fallback,g=t.mode,c=e.child,w=c.sibling;var S={mode:"hidden",children:a.children};return(g&1)===0&&t.child!==c?(a=t.child,a.childLanes=0,a.pendingProps=S,t.deletions=null):(a=Cr(c,S),a.subtreeFlags=c.subtreeFlags&14680064),w!==null?d=Cr(w,d):(d=Jr(d,g,i,null),d.flags|=2),d.return=t,a.return=t,a.sibling=d,t.child=a,a=d,d=t.child,g=e.child.memoizedState,g=g===null?Va(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},d.memoizedState=g,d.childLanes=e.childLanes&~i,t.memoizedState=qa,a}return d=e.child,e=d.sibling,a=Cr(d,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=i),a.return=t,a.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=a,t.memoizedState=null,a}function Ha(e,t){return t=to({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fi(e,t,i,a){return a!==null&&wa(a),kn(t,e.child,null,i),e=Ha(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xp(e,t,i,a,c,d,g){if(i)return t.flags&256?(t.flags&=-257,a=Ma(Error(s(422))),Fi(e,t,g,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=a.fallback,c=t.mode,a=to({mode:"visible",children:a.children},c,0,null),d=Jr(d,c,g,null),d.flags|=2,a.return=t,d.return=t,a.sibling=d,t.child=a,(t.mode&1)!==0&&kn(t,e.child,null,g),t.child.memoizedState=Va(g),t.memoizedState=qa,d);if((t.mode&1)===0)return Fi(e,t,g,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var w=a.dgst;return a=w,d=Error(s(419)),a=Ma(d,a,void 0),Fi(e,t,g,a)}if(w=(g&e.childLanes)!==0,gt||w){if(a=Je,a!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(a.suspendedLanes|g))!==0?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,Xt(e,c),Ut(a,e,c,-1))}return ll(),a=Ma(Error(s(421))),Fi(e,t,g,a)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=dm.bind(null,e),c._reactRetry=t,null):(e=d.treeContext,St=gr(c.nextSibling),kt=t,Ne=!0,At=null,e!==null&&(jt[Ct++]=Qt,jt[Ct++]=Yt,jt[Ct++]=Mr,Qt=e.id,Yt=e.overflow,Mr=t),t=Ha(t,a.children),t.flags|=4096,t)}function ud(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),xa(e.return,t,i)}function Ga(e,t,i,a,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:c}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=i,d.tailMode=c)}function cd(e,t,i){var a=t.pendingProps,c=a.revealOrder,d=a.tail;if(ct(e,t,a.children,i),a=Ie.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ud(e,i,t);else if(e.tag===19)ud(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Te(Ie,a),(t.mode&1)===0)t.memoizedState=null;else switch(c){case"forwards":for(i=t.child,c=null;i!==null;)e=i.alternate,e!==null&&Li(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=t.child,t.child=null):(c=i.sibling,i.sibling=null),Ga(t,!1,c,i,d);break;case"backwards":for(i=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Li(e)===null){t.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}Ga(t,!0,i,null,d);break;case"together":Ga(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function er(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Vr|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,i=Cr(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Cr(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Zp(e,t,i){switch(t.tag){case 3:od(t),_n();break;case 5:bc(t);break;case 1:mt(t.type)&&Ei(t);break;case 4:ja(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,c=t.memoizedProps.value;Te(Oi,a._currentValue),a._currentValue=c;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Te(Ie,Ie.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?ld(e,t,i):(Te(Ie,Ie.current&1),e=er(e,t,i),e!==null?e.sibling:null);Te(Ie,Ie.current&1);break;case 19:if(a=(i&t.childLanes)!==0,(e.flags&128)!==0){if(a)return cd(e,t,i);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Te(Ie,Ie.current),a)break;return null;case 22:case 23:return t.lanes=0,nd(e,t,i)}return er(e,t,i)}var dd,Ka,hd,fd;dd=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Ka=function(){},hd=function(e,t,i,a){var c=e.memoizedProps;if(c!==a){e=t.stateNode,Wr(Vt.current);var d=null;switch(i){case"input":c=Wn(e,c),a=Wn(e,a),d=[];break;case"select":c=q({},c,{value:void 0}),a=q({},a,{value:void 0}),d=[];break;case"textarea":c=Hn(e,c),a=Hn(e,a),d=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Si)}To(i,a);var g;i=null;for(O in c)if(!a.hasOwnProperty(O)&&c.hasOwnProperty(O)&&c[O]!=null)if(O==="style"){var w=c[O];for(g in w)w.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else O!=="dangerouslySetInnerHTML"&&O!=="children"&&O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(l.hasOwnProperty(O)?d||(d=[]):(d=d||[]).push(O,null));for(O in a){var S=a[O];if(w=c!=null?c[O]:void 0,a.hasOwnProperty(O)&&S!==w&&(S!=null||w!=null))if(O==="style")if(w){for(g in w)!w.hasOwnProperty(g)||S&&S.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in S)S.hasOwnProperty(g)&&w[g]!==S[g]&&(i||(i={}),i[g]=S[g])}else i||(d||(d=[]),d.push(O,i)),i=S;else O==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,w=w?w.__html:void 0,S!=null&&w!==S&&(d=d||[]).push(O,S)):O==="children"?typeof S!="string"&&typeof S!="number"||(d=d||[]).push(O,""+S):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&(l.hasOwnProperty(O)?(S!=null&&O==="onScroll"&&Pe("scroll",e),d||w===S||(d=[])):(d=d||[]).push(O,S))}i&&(d=d||[]).push("style",i);var O=d;(t.updateQueue=O)&&(t.flags|=4)}},fd=function(e,t,i,a){i!==a&&(t.flags|=4)};function xs(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function em(e,t,i){var a=t.pendingProps;switch(ga(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return mt(t.type)&&bi(),it(t),null;case 3:return a=t.stateNode,bn(),Oe(pt),Oe(nt),Ra(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ri(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,At!==null&&(il(At),At=null))),Ka(e,t),it(t),null;case 5:Ca(t);var c=Wr(ys.current);if(i=t.type,e!==null&&t.stateNode!=null)hd(e,t,i,a,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(s(166));return it(t),null}if(e=Wr(Vt.current),Ri(t)){a=t.stateNode,i=t.type;var d=t.memoizedProps;switch(a[qt]=t,a[fs]=d,e=(t.mode&1)!==0,i){case"dialog":Pe("cancel",a),Pe("close",a);break;case"iframe":case"object":case"embed":Pe("load",a);break;case"video":case"audio":for(c=0;c<cs.length;c++)Pe(cs[c],a);break;case"source":Pe("error",a);break;case"img":case"image":case"link":Pe("error",a),Pe("load",a);break;case"details":Pe("toggle",a);break;case"input":Qs(a,d),Pe("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},Pe("invalid",a);break;case"textarea":Dr(a,d),Pe("invalid",a)}To(i,d),c=null;for(var g in d)if(d.hasOwnProperty(g)){var w=d[g];g==="children"?typeof w=="string"?a.textContent!==w&&(d.suppressHydrationWarning!==!0&&ki(a.textContent,w,e),c=["children",w]):typeof w=="number"&&a.textContent!==""+w&&(d.suppressHydrationWarning!==!0&&ki(a.textContent,w,e),c=["children",""+w]):l.hasOwnProperty(g)&&w!=null&&g==="onScroll"&&Pe("scroll",a)}switch(i){case"input":sn(a),Ar(a,d,!0);break;case"textarea":sn(a),Zs(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=Si)}a=c,t.updateQueue=a,a!==null&&(t.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=R(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=g.createElement(i,{is:a.is}):(e=g.createElement(i),i==="select"&&(g=e,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):e=g.createElementNS(e,i),e[qt]=t,e[fs]=a,dd(e,t,!1,!1),t.stateNode=e;e:{switch(g=Ro(i,a),i){case"dialog":Pe("cancel",e),Pe("close",e),c=a;break;case"iframe":case"object":case"embed":Pe("load",e),c=a;break;case"video":case"audio":for(c=0;c<cs.length;c++)Pe(cs[c],e);c=a;break;case"source":Pe("error",e),c=a;break;case"img":case"image":case"link":Pe("error",e),Pe("load",e),c=a;break;case"details":Pe("toggle",e),c=a;break;case"input":Qs(e,a),c=Wn(e,a),Pe("invalid",e);break;case"option":c=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=q({},a,{value:void 0}),Pe("invalid",e);break;case"textarea":Dr(e,a),c=Hn(e,a),Pe("invalid",e);break;default:c=a}To(i,c),w=c;for(d in w)if(w.hasOwnProperty(d)){var S=w[d];d==="style"?ru(e,S):d==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&ei(e,S)):d==="children"?typeof S=="string"?(i!=="textarea"||S!=="")&&Ft(e,S):typeof S=="number"&&Ft(e,""+S):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(l.hasOwnProperty(d)?S!=null&&d==="onScroll"&&Pe("scroll",e):S!=null&&L(e,d,S,g))}switch(i){case"input":sn(e),Ar(e,a,!1);break;case"textarea":sn(e),Zs(e);break;case"option":a.value!=null&&e.setAttribute("value",""+ke(a.value));break;case"select":e.multiple=!!a.multiple,d=a.value,d!=null?lr(e,!!a.multiple,d,!1):a.defaultValue!=null&&lr(e,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Si)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return it(t),null;case 6:if(e&&t.stateNode!=null)fd(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(s(166));if(i=Wr(ys.current),Wr(Vt.current),Ri(t)){if(a=t.stateNode,i=t.memoizedProps,a[qt]=t,(d=a.nodeValue!==i)&&(e=kt,e!==null))switch(e.tag){case 3:ki(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ki(a.nodeValue,i,(e.mode&1)!==0)}d&&(t.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[qt]=t,t.stateNode=a}return it(t),null;case 13:if(Oe(Ie),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&St!==null&&(t.mode&1)!==0&&(t.flags&128)===0)gc(),_n(),t.flags|=98560,d=!1;else if(d=Ri(t),a!==null&&a.dehydrated!==null){if(e===null){if(!d)throw Error(s(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[qt]=t}else _n(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;it(t),d=!1}else At!==null&&(il(At),At=null),d=!0;if(!d)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ie.current&1)!==0?qe===0&&(qe=3):ll())),t.updateQueue!==null&&(t.flags|=4),it(t),null);case 4:return bn(),Ka(e,t),e===null&&ds(t.stateNode.containerInfo),it(t),null;case 10:return Sa(t.type._context),it(t),null;case 17:return mt(t.type)&&bi(),it(t),null;case 19:if(Oe(Ie),d=t.memoizedState,d===null)return it(t),null;if(a=(t.flags&128)!==0,g=d.rendering,g===null)if(a)xs(d,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=Li(e),g!==null){for(t.flags|=128,xs(d,!1),a=g.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=i,i=t.child;i!==null;)d=i,e=a,d.flags&=14680066,g=d.alternate,g===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=g.childLanes,d.lanes=g.lanes,d.child=g.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=g.memoizedProps,d.memoizedState=g.memoizedState,d.updateQueue=g.updateQueue,d.type=g.type,e=g.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Te(Ie,Ie.current&1|2),t.child}e=e.sibling}d.tail!==null&&Ue()>Tn&&(t.flags|=128,a=!0,xs(d,!1),t.lanes=4194304)}else{if(!a)if(e=Li(g),e!==null){if(t.flags|=128,a=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),xs(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Ne)return it(t),null}else 2*Ue()-d.renderingStartTime>Tn&&i!==1073741824&&(t.flags|=128,a=!0,xs(d,!1),t.lanes=4194304);d.isBackwards?(g.sibling=t.child,t.child=g):(i=d.last,i!==null?i.sibling=g:t.child=g,d.last=g)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=Ue(),t.sibling=null,i=Ie.current,Te(Ie,a?i&1|2:i&1),t):(it(t),null);case 22:case 23:return al(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(xt&1073741824)!==0&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function tm(e,t){switch(ga(t),t.tag){case 1:return mt(t.type)&&bi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bn(),Oe(pt),Oe(nt),Ra(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Ca(t),null;case 13:if(Oe(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));_n()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe(Ie),null;case 4:return bn(),null;case 10:return Sa(t.type._context),null;case 22:case 23:return al(),null;case 24:return null;default:return null}}var qi=!1,ot=!1,rm=typeof WeakSet=="function"?WeakSet:Set,Q=null;function jn(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){De(e,t,a)}else i.current=null}function Ja(e,t,i){try{i()}catch(a){De(e,t,a)}}var pd=!1;function nm(e,t){if(aa=ci,e=Hu(),Zo(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var c=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var g=0,w=-1,S=-1,O=0,M=0,z=e,B=null;t:for(;;){for(var J;z!==i||c!==0&&z.nodeType!==3||(w=g+c),z!==d||a!==0&&z.nodeType!==3||(S=g+a),z.nodeType===3&&(g+=z.nodeValue.length),(J=z.firstChild)!==null;)B=z,z=J;for(;;){if(z===e)break t;if(B===i&&++O===c&&(w=g),B===d&&++M===a&&(S=g),(J=z.nextSibling)!==null)break;z=B,B=z.parentNode}z=J}i=w===-1||S===-1?null:{start:w,end:S}}else i=null}i=i||{start:0,end:0}}else i=null;for(la={focusedElem:e,selectionRange:i},ci=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var Y=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Y!==null){var X=Y.memoizedProps,Be=Y.memoizedState,T=t.stateNode,x=T.getSnapshotBeforeUpdate(t.elementType===t.type?X:Lt(t.type,X),Be);T.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var P=t.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(W){De(t,t.return,W)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return Y=pd,pd=!1,Y}function bs(e,t,i){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var d=c.destroy;c.destroy=void 0,d!==void 0&&Ja(t,i,d)}c=c.next}while(c!==a)}}function Vi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==t)}}function Qa(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function md(e){var t=e.alternate;t!==null&&(e.alternate=null,md(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qt],delete t[fs],delete t[ha],delete t[Bp],delete t[Mp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gd(e){return e.tag===5||e.tag===3||e.tag===4}function vd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ya(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Si));else if(a!==4&&(e=e.child,e!==null))for(Ya(e,t,i),e=e.sibling;e!==null;)Ya(e,t,i),e=e.sibling}function Xa(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Xa(e,t,i),e=e.sibling;e!==null;)Xa(e,t,i),e=e.sibling}var Xe=null,Dt=!1;function Sr(e,t,i){for(i=i.child;i!==null;)yd(e,t,i),i=i.sibling}function yd(e,t,i){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(si,i)}catch{}switch(i.tag){case 5:ot||jn(i,t);case 6:var a=Xe,c=Dt;Xe=null,Sr(e,t,i),Xe=a,Dt=c,Xe!==null&&(Dt?(e=Xe,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Xe.removeChild(i.stateNode));break;case 18:Xe!==null&&(Dt?(e=Xe,i=i.stateNode,e.nodeType===8?da(e.parentNode,i):e.nodeType===1&&da(e,i),rs(e)):da(Xe,i.stateNode));break;case 4:a=Xe,c=Dt,Xe=i.stateNode.containerInfo,Dt=!0,Sr(e,t,i),Xe=a,Dt=c;break;case 0:case 11:case 14:case 15:if(!ot&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var d=c,g=d.destroy;d=d.tag,g!==void 0&&((d&2)!==0||(d&4)!==0)&&Ja(i,t,g),c=c.next}while(c!==a)}Sr(e,t,i);break;case 1:if(!ot&&(jn(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(w){De(i,t,w)}Sr(e,t,i);break;case 21:Sr(e,t,i);break;case 22:i.mode&1?(ot=(a=ot)||i.memoizedState!==null,Sr(e,t,i),ot=a):Sr(e,t,i);break;default:Sr(e,t,i)}}function wd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new rm),t.forEach(function(a){var c=hm.bind(null,e,a);i.has(a)||(i.add(a),a.then(c,c))})}}function $t(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];try{var d=e,g=t,w=g;e:for(;w!==null;){switch(w.tag){case 5:Xe=w.stateNode,Dt=!1;break e;case 3:Xe=w.stateNode.containerInfo,Dt=!0;break e;case 4:Xe=w.stateNode.containerInfo,Dt=!0;break e}w=w.return}if(Xe===null)throw Error(s(160));yd(d,g,c),Xe=null,Dt=!1;var S=c.alternate;S!==null&&(S.return=null),c.return=null}catch(O){De(c,t,O)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_d(t,e),t=t.sibling}function _d(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($t(t,e),Gt(e),a&4){try{bs(3,e,e.return),Vi(3,e)}catch(X){De(e,e.return,X)}try{bs(5,e,e.return)}catch(X){De(e,e.return,X)}}break;case 1:$t(t,e),Gt(e),a&512&&i!==null&&jn(i,i.return);break;case 5:if($t(t,e),Gt(e),a&512&&i!==null&&jn(i,i.return),e.flags&32){var c=e.stateNode;try{Ft(c,"")}catch(X){De(e,e.return,X)}}if(a&4&&(c=e.stateNode,c!=null)){var d=e.memoizedProps,g=i!==null?i.memoizedProps:d,w=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{w==="input"&&d.type==="radio"&&d.name!=null&&Ys(c,d),Ro(w,g);var O=Ro(w,d);for(g=0;g<S.length;g+=2){var M=S[g],z=S[g+1];M==="style"?ru(c,z):M==="dangerouslySetInnerHTML"?ei(c,z):M==="children"?Ft(c,z):L(c,M,z,O)}switch(w){case"input":qn(c,d);break;case"textarea":Xs(c,d);break;case"select":var B=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var J=d.value;J!=null?lr(c,!!d.multiple,J,!1):B!==!!d.multiple&&(d.defaultValue!=null?lr(c,!!d.multiple,d.defaultValue,!0):lr(c,!!d.multiple,d.multiple?[]:"",!1))}c[fs]=d}catch(X){De(e,e.return,X)}}break;case 6:if($t(t,e),Gt(e),a&4){if(e.stateNode===null)throw Error(s(162));c=e.stateNode,d=e.memoizedProps;try{c.nodeValue=d}catch(X){De(e,e.return,X)}}break;case 3:if($t(t,e),Gt(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{rs(t.containerInfo)}catch(X){De(e,e.return,X)}break;case 4:$t(t,e),Gt(e);break;case 13:$t(t,e),Gt(e),c=e.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||(tl=Ue())),a&4&&wd(e);break;case 22:if(M=i!==null&&i.memoizedState!==null,e.mode&1?(ot=(O=ot)||M,$t(t,e),ot=O):$t(t,e),Gt(e),a&8192){if(O=e.memoizedState!==null,(e.stateNode.isHidden=O)&&!M&&(e.mode&1)!==0)for(Q=e,M=e.child;M!==null;){for(z=Q=M;Q!==null;){switch(B=Q,J=B.child,B.tag){case 0:case 11:case 14:case 15:bs(4,B,B.return);break;case 1:jn(B,B.return);var Y=B.stateNode;if(typeof Y.componentWillUnmount=="function"){a=B,i=B.return;try{t=a,Y.props=t.memoizedProps,Y.state=t.memoizedState,Y.componentWillUnmount()}catch(X){De(a,i,X)}}break;case 5:jn(B,B.return);break;case 22:if(B.memoizedState!==null){xd(z);continue}}J!==null?(J.return=B,Q=J):xd(z)}M=M.sibling}e:for(M=null,z=e;;){if(z.tag===5){if(M===null){M=z;try{c=z.stateNode,O?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(w=z.stateNode,S=z.memoizedProps.style,g=S!=null&&S.hasOwnProperty("display")?S.display:null,w.style.display=tu("display",g))}catch(X){De(e,e.return,X)}}}else if(z.tag===6){if(M===null)try{z.stateNode.nodeValue=O?"":z.memoizedProps}catch(X){De(e,e.return,X)}}else if((z.tag!==22&&z.tag!==23||z.memoizedState===null||z===e)&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===e)break e;for(;z.sibling===null;){if(z.return===null||z.return===e)break e;M===z&&(M=null),z=z.return}M===z&&(M=null),z.sibling.return=z.return,z=z.sibling}}break;case 19:$t(t,e),Gt(e),a&4&&wd(e);break;case 21:break;default:$t(t,e),Gt(e)}}function Gt(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(gd(i)){var a=i;break e}i=i.return}throw Error(s(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(Ft(c,""),a.flags&=-33);var d=vd(e);Xa(e,d,c);break;case 3:case 4:var g=a.stateNode.containerInfo,w=vd(e);Ya(e,w,g);break;default:throw Error(s(161))}}catch(S){De(e,e.return,S)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sm(e,t,i){Q=e,kd(e)}function kd(e,t,i){for(var a=(e.mode&1)!==0;Q!==null;){var c=Q,d=c.child;if(c.tag===22&&a){var g=c.memoizedState!==null||qi;if(!g){var w=c.alternate,S=w!==null&&w.memoizedState!==null||ot;w=qi;var O=ot;if(qi=g,(ot=S)&&!O)for(Q=c;Q!==null;)g=Q,S=g.child,g.tag===22&&g.memoizedState!==null?bd(c):S!==null?(S.return=g,Q=S):bd(c);for(;d!==null;)Q=d,kd(d),d=d.sibling;Q=c,qi=w,ot=O}Sd(e)}else(c.subtreeFlags&8772)!==0&&d!==null?(d.return=c,Q=d):Sd(e)}}function Sd(e){for(;Q!==null;){var t=Q;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:ot||Vi(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!ot)if(i===null)a.componentDidMount();else{var c=t.elementType===t.type?i.memoizedProps:Lt(t.type,i.memoizedProps);a.componentDidUpdate(c,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&xc(t,d,a);break;case 3:var g=t.updateQueue;if(g!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}xc(t,g,i)}break;case 5:var w=t.stateNode;if(i===null&&t.flags&4){i=w;var S=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&i.focus();break;case"img":S.src&&(i.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var O=t.alternate;if(O!==null){var M=O.memoizedState;if(M!==null){var z=M.dehydrated;z!==null&&rs(z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}ot||t.flags&512&&Qa(t)}catch(B){De(t,t.return,B)}}if(t===e){Q=null;break}if(i=t.sibling,i!==null){i.return=t.return,Q=i;break}Q=t.return}}function xd(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var i=t.sibling;if(i!==null){i.return=t.return,Q=i;break}Q=t.return}}function bd(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Vi(4,t)}catch(S){De(t,i,S)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var c=t.return;try{a.componentDidMount()}catch(S){De(t,c,S)}}var d=t.return;try{Qa(t)}catch(S){De(t,d,S)}break;case 5:var g=t.return;try{Qa(t)}catch(S){De(t,g,S)}}}catch(S){De(t,t.return,S)}if(t===e){Q=null;break}var w=t.sibling;if(w!==null){w.return=t.return,Q=w;break}Q=t.return}}var im=Math.ceil,Hi=K.ReactCurrentDispatcher,Za=K.ReactCurrentOwner,Pt=K.ReactCurrentBatchConfig,ye=0,Je=null,Me=null,Ze=0,xt=0,Cn=vr(0),qe=0,Es=null,Vr=0,Gi=0,el=0,js=null,vt=null,tl=0,Tn=1/0,tr=null,Ki=!1,rl=null,xr=null,Ji=!1,br=null,Qi=0,Cs=0,nl=null,Yi=-1,Xi=0;function dt(){return(ye&6)!==0?Ue():Yi!==-1?Yi:Yi=Ue()}function Er(e){return(e.mode&1)===0?1:(ye&2)!==0&&Ze!==0?Ze&-Ze:Fp.transition!==null?(Xi===0&&(Xi=vu()),Xi):(e=xe,e!==0||(e=window.event,e=e===void 0?16:ju(e.type)),e)}function Ut(e,t,i,a){if(50<Cs)throw Cs=0,nl=null,Error(s(185));Yn(e,i,a),((ye&2)===0||e!==Je)&&(e===Je&&((ye&2)===0&&(Gi|=i),qe===4&&jr(e,Ze)),yt(e,a),i===1&&ye===0&&(t.mode&1)===0&&(Tn=Ue()+500,ji&&wr()))}function yt(e,t){var i=e.callbackNode;Ff(e,t);var a=ai(e,e===Je?Ze:0);if(a===0)i!==null&&pu(i),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(i!=null&&pu(i),t===1)e.tag===0?zp(jd.bind(null,e)):dc(jd.bind(null,e)),$p(function(){(ye&6)===0&&wr()}),i=null;else{switch(yu(a)){case 1:i=Do;break;case 4:i=mu;break;case 16:i=ni;break;case 536870912:i=gu;break;default:i=ni}i=Ad(i,Ed.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Ed(e,t){if(Yi=-1,Xi=0,(ye&6)!==0)throw Error(s(327));var i=e.callbackNode;if(Rn()&&e.callbackNode!==i)return null;var a=ai(e,e===Je?Ze:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=Zi(e,a);else{t=a;var c=ye;ye|=2;var d=Td();(Je!==e||Ze!==t)&&(tr=null,Tn=Ue()+500,Gr(e,t));do try{lm();break}catch(w){Cd(e,w)}while(!0);ka(),Hi.current=d,ye=c,Me!==null?t=0:(Je=null,Ze=0,t=qe)}if(t!==0){if(t===2&&(c=$o(e),c!==0&&(a=c,t=sl(e,c))),t===1)throw i=Es,Gr(e,0),jr(e,a),yt(e,Ue()),i;if(t===6)jr(e,a);else{if(c=e.current.alternate,(a&30)===0&&!om(c)&&(t=Zi(e,a),t===2&&(d=$o(e),d!==0&&(a=d,t=sl(e,d))),t===1))throw i=Es,Gr(e,0),jr(e,a),yt(e,Ue()),i;switch(e.finishedWork=c,e.finishedLanes=a,t){case 0:case 1:throw Error(s(345));case 2:Kr(e,vt,tr);break;case 3:if(jr(e,a),(a&130023424)===a&&(t=tl+500-Ue(),10<t)){if(ai(e,0)!==0)break;if(c=e.suspendedLanes,(c&a)!==a){dt(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=ca(Kr.bind(null,e,vt,tr),t);break}Kr(e,vt,tr);break;case 4:if(jr(e,a),(a&4194240)===a)break;for(t=e.eventTimes,c=-1;0<a;){var g=31-Nt(a);d=1<<g,g=t[g],g>c&&(c=g),a&=~d}if(a=c,a=Ue()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*im(a/1960))-a,10<a){e.timeoutHandle=ca(Kr.bind(null,e,vt,tr),a);break}Kr(e,vt,tr);break;case 5:Kr(e,vt,tr);break;default:throw Error(s(329))}}}return yt(e,Ue()),e.callbackNode===i?Ed.bind(null,e):null}function sl(e,t){var i=js;return e.current.memoizedState.isDehydrated&&(Gr(e,t).flags|=256),e=Zi(e,t),e!==2&&(t=vt,vt=i,t!==null&&il(t)),e}function il(e){vt===null?vt=e:vt.push.apply(vt,e)}function om(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var c=i[a],d=c.getSnapshot;c=c.value;try{if(!It(d(),c))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jr(e,t){for(t&=~el,t&=~Gi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Nt(t),a=1<<i;e[i]=-1,t&=~a}}function jd(e){if((ye&6)!==0)throw Error(s(327));Rn();var t=ai(e,0);if((t&1)===0)return yt(e,Ue()),null;var i=Zi(e,t);if(e.tag!==0&&i===2){var a=$o(e);a!==0&&(t=a,i=sl(e,a))}if(i===1)throw i=Es,Gr(e,0),jr(e,t),yt(e,Ue()),i;if(i===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kr(e,vt,tr),yt(e,Ue()),null}function ol(e,t){var i=ye;ye|=1;try{return e(t)}finally{ye=i,ye===0&&(Tn=Ue()+500,ji&&wr())}}function Hr(e){br!==null&&br.tag===0&&(ye&6)===0&&Rn();var t=ye;ye|=1;var i=Pt.transition,a=xe;try{if(Pt.transition=null,xe=1,e)return e()}finally{xe=a,Pt.transition=i,ye=t,(ye&6)===0&&wr()}}function al(){xt=Cn.current,Oe(Cn)}function Gr(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Dp(i)),Me!==null)for(i=Me.return;i!==null;){var a=i;switch(ga(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&bi();break;case 3:bn(),Oe(pt),Oe(nt),Ra();break;case 5:Ca(a);break;case 4:bn();break;case 13:Oe(Ie);break;case 19:Oe(Ie);break;case 10:Sa(a.type._context);break;case 22:case 23:al()}i=i.return}if(Je=e,Me=e=Cr(e.current,null),Ze=xt=t,qe=0,Es=null,el=Gi=Vr=0,vt=js=null,Fr!==null){for(t=0;t<Fr.length;t++)if(i=Fr[t],a=i.interleaved,a!==null){i.interleaved=null;var c=a.next,d=i.pending;if(d!==null){var g=d.next;d.next=c,a.next=g}i.pending=a}Fr=null}return e}function Cd(e,t){do{var i=Me;try{if(ka(),Di.current=Mi,$i){for(var a=Ae.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}$i=!1}if(qr=0,Ke=We=Ae=null,ws=!1,_s=0,Za.current=null,i===null||i.return===null){qe=1,Es=t,Me=null;break}e:{var d=e,g=i.return,w=i,S=t;if(t=Ze,w.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var O=S,M=w,z=M.tag;if((M.mode&1)===0&&(z===0||z===11||z===15)){var B=M.alternate;B?(M.updateQueue=B.updateQueue,M.memoizedState=B.memoizedState,M.lanes=B.lanes):(M.updateQueue=null,M.memoizedState=null)}var J=Xc(g);if(J!==null){J.flags&=-257,Zc(J,g,w,d,t),J.mode&1&&Yc(d,O,t),t=J,S=O;var Y=t.updateQueue;if(Y===null){var X=new Set;X.add(S),t.updateQueue=X}else Y.add(S);break e}else{if((t&1)===0){Yc(d,O,t),ll();break e}S=Error(s(426))}}else if(Ne&&w.mode&1){var Be=Xc(g);if(Be!==null){(Be.flags&65536)===0&&(Be.flags|=256),Zc(Be,g,w,d,t),wa(En(S,w));break e}}d=S=En(S,w),qe!==4&&(qe=2),js===null?js=[d]:js.push(d),d=g;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var T=Jc(d,S,t);Sc(d,T);break e;case 1:w=S;var x=d.type,P=d.stateNode;if((d.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(xr===null||!xr.has(P)))){d.flags|=65536,t&=-t,d.lanes|=t;var W=Qc(d,w,t);Sc(d,W);break e}}d=d.return}while(d!==null)}Pd(i)}catch(Z){t=Z,Me===i&&i!==null&&(Me=i=i.return);continue}break}while(!0)}function Td(){var e=Hi.current;return Hi.current=Mi,e===null?Mi:e}function ll(){(qe===0||qe===3||qe===2)&&(qe=4),Je===null||(Vr&268435455)===0&&(Gi&268435455)===0||jr(Je,Ze)}function Zi(e,t){var i=ye;ye|=2;var a=Td();(Je!==e||Ze!==t)&&(tr=null,Gr(e,t));do try{am();break}catch(c){Cd(e,c)}while(!0);if(ka(),ye=i,Hi.current=a,Me!==null)throw Error(s(261));return Je=null,Ze=0,qe}function am(){for(;Me!==null;)Rd(Me)}function lm(){for(;Me!==null&&!If();)Rd(Me)}function Rd(e){var t=Id(e.alternate,e,xt);e.memoizedProps=e.pendingProps,t===null?Pd(e):Me=t,Za.current=null}function Pd(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=em(i,t,xt),i!==null){Me=i;return}}else{if(i=tm(i,t),i!==null){i.flags&=32767,Me=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qe=6,Me=null;return}}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);qe===0&&(qe=5)}function Kr(e,t,i){var a=xe,c=Pt.transition;try{Pt.transition=null,xe=1,um(e,t,i,a)}finally{Pt.transition=c,xe=a}return null}function um(e,t,i,a){do Rn();while(br!==null);if((ye&6)!==0)throw Error(s(327));i=e.finishedWork;var c=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var d=i.lanes|i.childLanes;if(Wf(e,d),e===Je&&(Me=Je=null,Ze=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Ji||(Ji=!0,Ad(ni,function(){return Rn(),null})),d=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||d){d=Pt.transition,Pt.transition=null;var g=xe;xe=1;var w=ye;ye|=4,Za.current=null,nm(e,i),_d(i,e),Rp(la),ci=!!aa,la=aa=null,e.current=i,sm(i),Af(),ye=w,xe=g,Pt.transition=d}else e.current=i;if(Ji&&(Ji=!1,br=e,Qi=c),d=e.pendingLanes,d===0&&(xr=null),$f(i.stateNode),yt(e,Ue()),t!==null)for(a=e.onRecoverableError,i=0;i<t.length;i++)c=t[i],a(c.value,{componentStack:c.stack,digest:c.digest});if(Ki)throw Ki=!1,e=rl,rl=null,e;return(Qi&1)!==0&&e.tag!==0&&Rn(),d=e.pendingLanes,(d&1)!==0?e===nl?Cs++:(Cs=0,nl=e):Cs=0,wr(),null}function Rn(){if(br!==null){var e=yu(Qi),t=Pt.transition,i=xe;try{if(Pt.transition=null,xe=16>e?16:e,br===null)var a=!1;else{if(e=br,br=null,Qi=0,(ye&6)!==0)throw Error(s(331));var c=ye;for(ye|=4,Q=e.current;Q!==null;){var d=Q,g=d.child;if((Q.flags&16)!==0){var w=d.deletions;if(w!==null){for(var S=0;S<w.length;S++){var O=w[S];for(Q=O;Q!==null;){var M=Q;switch(M.tag){case 0:case 11:case 15:bs(8,M,d)}var z=M.child;if(z!==null)z.return=M,Q=z;else for(;Q!==null;){M=Q;var B=M.sibling,J=M.return;if(md(M),M===O){Q=null;break}if(B!==null){B.return=J,Q=B;break}Q=J}}}var Y=d.alternate;if(Y!==null){var X=Y.child;if(X!==null){Y.child=null;do{var Be=X.sibling;X.sibling=null,X=Be}while(X!==null)}}Q=d}}if((d.subtreeFlags&2064)!==0&&g!==null)g.return=d,Q=g;else e:for(;Q!==null;){if(d=Q,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:bs(9,d,d.return)}var T=d.sibling;if(T!==null){T.return=d.return,Q=T;break e}Q=d.return}}var x=e.current;for(Q=x;Q!==null;){g=Q;var P=g.child;if((g.subtreeFlags&2064)!==0&&P!==null)P.return=g,Q=P;else e:for(g=x;Q!==null;){if(w=Q,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:Vi(9,w)}}catch(Z){De(w,w.return,Z)}if(w===g){Q=null;break e}var W=w.sibling;if(W!==null){W.return=w.return,Q=W;break e}Q=w.return}}if(ye=c,wr(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(si,e)}catch{}a=!0}return a}finally{xe=i,Pt.transition=t}}return!1}function Od(e,t,i){t=En(i,t),t=Jc(e,t,1),e=kr(e,t,1),t=dt(),e!==null&&(Yn(e,1,t),yt(e,t))}function De(e,t,i){if(e.tag===3)Od(e,e,i);else for(;t!==null;){if(t.tag===3){Od(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(xr===null||!xr.has(a))){e=En(i,e),e=Qc(t,e,1),t=kr(t,e,1),e=dt(),t!==null&&(Yn(t,1,e),yt(t,e));break}}t=t.return}}function cm(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),t=dt(),e.pingedLanes|=e.suspendedLanes&i,Je===e&&(Ze&i)===i&&(qe===4||qe===3&&(Ze&130023424)===Ze&&500>Ue()-tl?Gr(e,0):el|=i),yt(e,t)}function Nd(e,t){t===0&&((e.mode&1)===0?t=1:(t=oi,oi<<=1,(oi&130023424)===0&&(oi=4194304)));var i=dt();e=Xt(e,t),e!==null&&(Yn(e,t,i),yt(e,i))}function dm(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Nd(e,i)}function hm(e,t){var i=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(s(314))}a!==null&&a.delete(t),Nd(e,i)}var Id;Id=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||pt.current)gt=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return gt=!1,Zp(e,t,i);gt=(e.flags&131072)!==0}else gt=!1,Ne&&(t.flags&1048576)!==0&&hc(t,Ti,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Wi(e,t),e=t.pendingProps;var c=vn(t,nt.current);xn(t,i),c=Na(null,t,a,e,c,i);var d=Ia();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mt(a)?(d=!0,Ei(t)):d=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Ea(t),c.updater=zi,t.stateNode=c,c._reactInternals=t,Ba(t,a,e,i),t=Wa(null,t,a,!0,d,i)):(t.tag=0,Ne&&d&&ma(t),ct(null,t,c,i),t=t.child),t;case 16:a=t.elementType;e:{switch(Wi(e,t),e=t.pendingProps,c=a._init,a=c(a._payload),t.type=a,c=t.tag=pm(a),e=Lt(a,e),c){case 0:t=Fa(null,t,a,e,i);break e;case 1:t=id(null,t,a,e,i);break e;case 11:t=ed(null,t,a,e,i);break e;case 14:t=td(null,t,a,Lt(a.type,e),i);break e}throw Error(s(306,a,""))}return t;case 0:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:Lt(a,c),Fa(e,t,a,c,i);case 1:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:Lt(a,c),id(e,t,a,c,i);case 3:e:{if(od(t),e===null)throw Error(s(387));a=t.pendingProps,d=t.memoizedState,c=d.element,kc(e,t),Ai(t,a,null,i);var g=t.memoizedState;if(a=g.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){c=En(Error(s(423)),t),t=ad(e,t,a,i,c);break e}else if(a!==c){c=En(Error(s(424)),t),t=ad(e,t,a,i,c);break e}else for(St=gr(t.stateNode.containerInfo.firstChild),kt=t,Ne=!0,At=null,i=wc(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(_n(),a===c){t=er(e,t,i);break e}ct(e,t,a,i)}t=t.child}return t;case 5:return bc(t),e===null&&ya(t),a=t.type,c=t.pendingProps,d=e!==null?e.memoizedProps:null,g=c.children,ua(a,c)?g=null:d!==null&&ua(a,d)&&(t.flags|=32),sd(e,t),ct(e,t,g,i),t.child;case 6:return e===null&&ya(t),null;case 13:return ld(e,t,i);case 4:return ja(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=kn(t,null,a,i):ct(e,t,a,i),t.child;case 11:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:Lt(a,c),ed(e,t,a,c,i);case 7:return ct(e,t,t.pendingProps,i),t.child;case 8:return ct(e,t,t.pendingProps.children,i),t.child;case 12:return ct(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(a=t.type._context,c=t.pendingProps,d=t.memoizedProps,g=c.value,Te(Oi,a._currentValue),a._currentValue=g,d!==null)if(It(d.value,g)){if(d.children===c.children&&!pt.current){t=er(e,t,i);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var w=d.dependencies;if(w!==null){g=d.child;for(var S=w.firstContext;S!==null;){if(S.context===a){if(d.tag===1){S=Zt(-1,i&-i),S.tag=2;var O=d.updateQueue;if(O!==null){O=O.shared;var M=O.pending;M===null?S.next=S:(S.next=M.next,M.next=S),O.pending=S}}d.lanes|=i,S=d.alternate,S!==null&&(S.lanes|=i),xa(d.return,i,t),w.lanes|=i;break}S=S.next}}else if(d.tag===10)g=d.type===t.type?null:d.child;else if(d.tag===18){if(g=d.return,g===null)throw Error(s(341));g.lanes|=i,w=g.alternate,w!==null&&(w.lanes|=i),xa(g,i,t),g=d.sibling}else g=d.child;if(g!==null)g.return=d;else for(g=d;g!==null;){if(g===t){g=null;break}if(d=g.sibling,d!==null){d.return=g.return,g=d;break}g=g.return}d=g}ct(e,t,c.children,i),t=t.child}return t;case 9:return c=t.type,a=t.pendingProps.children,xn(t,i),c=Tt(c),a=a(c),t.flags|=1,ct(e,t,a,i),t.child;case 14:return a=t.type,c=Lt(a,t.pendingProps),c=Lt(a.type,c),td(e,t,a,c,i);case 15:return rd(e,t,t.type,t.pendingProps,i);case 17:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:Lt(a,c),Wi(e,t),t.tag=1,mt(a)?(e=!0,Ei(t)):e=!1,xn(t,i),Gc(t,a,c),Ba(t,a,c,i),Wa(null,t,a,!0,e,i);case 19:return cd(e,t,i);case 22:return nd(e,t,i)}throw Error(s(156,t.tag))};function Ad(e,t){return fu(e,t)}function fm(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,i,a){return new fm(e,t,i,a)}function ul(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pm(e){if(typeof e=="function")return ul(e)?1:0;if(e!=null){if(e=e.$$typeof,e===le)return 11;if(e===Le)return 14}return 2}function Cr(e,t){var i=e.alternate;return i===null?(i=Ot(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function eo(e,t,i,a,c,d){var g=2;if(a=e,typeof e=="function")ul(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case ae:return Jr(i.children,c,d,t);case _e:g=8,c|=8;break;case je:return e=Ot(12,i,t,c|2),e.elementType=je,e.lanes=d,e;case Ee:return e=Ot(13,i,t,c),e.elementType=Ee,e.lanes=d,e;case fe:return e=Ot(19,i,t,c),e.elementType=fe,e.lanes=d,e;case ge:return to(i,c,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ye:g=10;break e;case lt:g=9;break e;case le:g=11;break e;case Le:g=14;break e;case oe:g=16,a=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=Ot(g,i,t,c),t.elementType=e,t.type=a,t.lanes=d,t}function Jr(e,t,i,a){return e=Ot(7,e,a,t),e.lanes=i,e}function to(e,t,i,a){return e=Ot(22,e,a,t),e.elementType=ge,e.lanes=i,e.stateNode={isHidden:!1},e}function cl(e,t,i){return e=Ot(6,e,null,t),e.lanes=i,e}function dl(e,t,i){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mm(e,t,i,a,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uo(0),this.expirationTimes=Uo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uo(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function hl(e,t,i,a,c,d,g,w,S){return e=new mm(e,t,i,w,S),t===1?(t=1,d===!0&&(t|=8)):t=0,d=Ot(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ea(d),e}function gm(e,t,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:a==null?null:""+a,children:e,containerInfo:t,implementation:i}}function Ld(e){if(!e)return yr;e=e._reactInternals;e:{if($r(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var i=e.type;if(mt(i))return uc(e,i,t)}return t}function Dd(e,t,i,a,c,d,g,w,S){return e=hl(i,a,!0,e,c,d,g,w,S),e.context=Ld(null),i=e.current,a=dt(),c=Er(i),d=Zt(a,c),d.callback=t??null,kr(i,d,c),e.current.lanes=c,Yn(e,c,a),yt(e,a),e}function ro(e,t,i,a){var c=t.current,d=dt(),g=Er(c);return i=Ld(i),t.context===null?t.context=i:t.pendingContext=i,t=Zt(d,g),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=kr(c,t,g),e!==null&&(Ut(e,c,g,d),Ii(e,c,g)),g}function no(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $d(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function fl(e,t){$d(e,t),(e=e.alternate)&&$d(e,t)}function vm(){return null}var Ud=typeof reportError=="function"?reportError:function(e){console.error(e)};function pl(e){this._internalRoot=e}so.prototype.render=pl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));ro(e,t,null,null)},so.prototype.unmount=pl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hr(function(){ro(null,e,null,null)}),t[Kt]=null}};function so(e){this._internalRoot=e}so.prototype.unstable_scheduleHydration=function(e){if(e){var t=ku();e={blockedOn:null,target:e,priority:t};for(var i=0;i<fr.length&&t!==0&&t<fr[i].priority;i++);fr.splice(i,0,e),i===0&&bu(e)}};function ml(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function io(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bd(){}function ym(e,t,i,a,c){if(c){if(typeof a=="function"){var d=a;a=function(){var O=no(g);d.call(O)}}var g=Dd(t,a,e,0,null,!1,!1,"",Bd);return e._reactRootContainer=g,e[Kt]=g.current,ds(e.nodeType===8?e.parentNode:e),Hr(),g}for(;c=e.lastChild;)e.removeChild(c);if(typeof a=="function"){var w=a;a=function(){var O=no(S);w.call(O)}}var S=hl(e,0,!1,null,null,!1,!1,"",Bd);return e._reactRootContainer=S,e[Kt]=S.current,ds(e.nodeType===8?e.parentNode:e),Hr(function(){ro(t,S,i,a)}),S}function oo(e,t,i,a,c){var d=i._reactRootContainer;if(d){var g=d;if(typeof c=="function"){var w=c;c=function(){var S=no(g);w.call(S)}}ro(t,g,e,c)}else g=ym(i,t,e,c,a);return no(g)}wu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=Qn(t.pendingLanes);i!==0&&(Bo(t,i|1),yt(t,Ue()),(ye&6)===0&&(Tn=Ue()+500,wr()))}break;case 13:Hr(function(){var a=Xt(e,1);if(a!==null){var c=dt();Ut(a,e,1,c)}}),fl(e,1)}},Mo=function(e){if(e.tag===13){var t=Xt(e,134217728);if(t!==null){var i=dt();Ut(t,e,134217728,i)}fl(e,134217728)}},_u=function(e){if(e.tag===13){var t=Er(e),i=Xt(e,t);if(i!==null){var a=dt();Ut(i,e,t,a)}fl(e,t)}},ku=function(){return xe},Su=function(e,t){var i=xe;try{return xe=e,t()}finally{xe=i}},No=function(e,t,i){switch(t){case"input":if(qn(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var c=xi(a);if(!c)throw Error(s(90));Nr(a),qn(a,c)}}}break;case"textarea":Xs(e,i);break;case"select":t=i.value,t!=null&&lr(e,!!i.multiple,t,!1)}},ou=ol,au=Hr;var wm={usingClientEntryPoint:!1,Events:[ps,mn,xi,su,iu,ol]},Ts={findFiberByHostInstance:Ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_m={bundleType:Ts.bundleType,version:Ts.version,rendererPackageName:Ts.rendererPackageName,rendererConfig:Ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=du(e),e===null?null:e.stateNode},findFiberByHostInstance:Ts.findFiberByHostInstance||vm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ao.isDisabled&&ao.supportsFiber)try{si=ao.inject(_m),Wt=ao}catch{}}return wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wm,wt.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ml(t))throw Error(s(200));return gm(e,t,null,i)},wt.createRoot=function(e,t){if(!ml(e))throw Error(s(299));var i=!1,a="",c=Ud;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=hl(e,1,!1,null,null,i,!1,a,c),e[Kt]=t.current,ds(e.nodeType===8?e.parentNode:e),new pl(t)},wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=du(t),e=e===null?null:e.stateNode,e},wt.flushSync=function(e){return Hr(e)},wt.hydrate=function(e,t,i){if(!io(t))throw Error(s(200));return oo(null,e,t,!0,i)},wt.hydrateRoot=function(e,t,i){if(!ml(e))throw Error(s(405));var a=i!=null&&i.hydratedSources||null,c=!1,d="",g=Ud;if(i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),t=Dd(t,null,e,1,i??null,c,!1,d,g),e[Kt]=t.current,ds(e),a)for(e=0;e<a.length;e++)i=a[e],c=i._getVersion,c=c(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,c]:t.mutableSourceEagerHydrationData.push(i,c);return new so(t)},wt.render=function(e,t,i){if(!io(t))throw Error(s(200));return oo(null,e,t,!1,i)},wt.unmountComponentAtNode=function(e){if(!io(e))throw Error(s(40));return e._reactRootContainer?(Hr(function(){oo(null,null,e,!1,function(){e._reactRootContainer=null,e[Kt]=null})}),!0):!1},wt.unstable_batchedUpdates=ol,wt.unstable_renderSubtreeIntoContainer=function(e,t,i,a){if(!io(i))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return oo(e,t,i,!1,a)},wt.version="18.3.1-next-f1338f8080-20240426",wt}var Gd;function Lh(){if(Gd)return yl.exports;Gd=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),yl.exports=Rm(),yl.exports}var Kd;function Pm(){if(Kd)return lo;Kd=1;var n=Lh();return lo.createRoot=n.createRoot,lo.hydrateRoot=n.hydrateRoot,lo}var Om=Pm();const Nm=Ih(Om);Lh();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $s(){return $s=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])}return n},$s.apply(this,arguments)}var Or;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Or||(Or={}));const Jd="popstate";function Im(n){n===void 0&&(n={});function r(o,l){let{pathname:u,search:h,hash:f}=o.location;return Pl("",{pathname:u,search:h,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function s(o,l){return typeof l=="string"?l:Dh(l)}return Lm(r,s,null,n)}function Fe(n,r){if(n===!1||n===null||typeof n>"u")throw new Error(r)}function Wl(n,r){if(!n){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Am(){return Math.random().toString(36).substr(2,8)}function Qd(n,r){return{usr:n.state,key:n.key,idx:r}}function Pl(n,r,s,o){return s===void 0&&(s=null),$s({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof r=="string"?zn(r):r,{state:s,key:r&&r.key||o||Am()})}function Dh(n){let{pathname:r="/",search:s="",hash:o=""}=n;return s&&s!=="?"&&(r+=s.charAt(0)==="?"?s:"?"+s),o&&o!=="#"&&(r+=o.charAt(0)==="#"?o:"#"+o),r}function zn(n){let r={};if(n){let s=n.indexOf("#");s>=0&&(r.hash=n.substr(s),n=n.substr(0,s));let o=n.indexOf("?");o>=0&&(r.search=n.substr(o),n=n.substr(0,o)),n&&(r.pathname=n)}return r}function Lm(n,r,s,o){o===void 0&&(o={});let{window:l=document.defaultView,v5Compat:u=!1}=o,h=l.history,f=Or.Pop,m=null,v=y();v==null&&(v=0,h.replaceState($s({},h.state,{idx:v}),""));function y(){return(h.state||{idx:null}).idx}function _(){f=Or.Pop;let j=y(),U=j==null?null:j-v;v=j,m&&m({action:f,location:N.location,delta:U})}function k(j,U){f=Or.Push;let A=Pl(N.location,j,U);v=y()+1;let L=Qd(A,v),K=N.createHref(A);try{h.pushState(L,"",K)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;l.location.assign(K)}u&&m&&m({action:f,location:N.location,delta:1})}function E(j,U){f=Or.Replace;let A=Pl(N.location,j,U);v=y();let L=Qd(A,v),K=N.createHref(A);h.replaceState(L,"",K),u&&m&&m({action:f,location:N.location,delta:0})}function C(j){let U=l.location.origin!=="null"?l.location.origin:l.location.href,A=typeof j=="string"?j:Dh(j);return A=A.replace(/ $/,"%20"),Fe(U,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,U)}let N={get action(){return f},get location(){return n(l,h)},listen(j){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(Jd,_),m=j,()=>{l.removeEventListener(Jd,_),m=null}},createHref(j){return r(l,j)},createURL:C,encodeLocation(j){let U=C(j);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:k,replace:E,go(j){return h.go(j)}};return N}var Yd;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Yd||(Yd={}));function Dm(n,r,s){return s===void 0&&(s="/"),$m(n,r,s)}function $m(n,r,s,o){let l=typeof r=="string"?zn(r):r,u=Bh(l.pathname||"/",s);if(u==null)return null;let h=$h(n);Um(h);let f=null;for(let m=0;f==null&&m<h.length;++m){let v=Qm(u);f=Gm(h[m],v)}return f}function $h(n,r,s,o){r===void 0&&(r=[]),s===void 0&&(s=[]),o===void 0&&(o="");let l=(u,h,f)=>{let m={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};m.relativePath.startsWith("/")&&(Fe(m.relativePath.startsWith(o),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(o.length));let v=rn([o,m.relativePath]),y=s.concat(m);u.children&&u.children.length>0&&(Fe(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),$h(u.children,r,y,v)),!(u.path==null&&!u.index)&&r.push({path:v,score:Vm(v,u.index),routesMeta:y})};return n.forEach((u,h)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))l(u,h);else for(let m of Uh(u.path))l(u,h,m)}),r}function Uh(n){let r=n.split("/");if(r.length===0)return[];let[s,...o]=r,l=s.endsWith("?"),u=s.replace(/\?$/,"");if(o.length===0)return l?[u,""]:[u];let h=Uh(o.join("/")),f=[];return f.push(...h.map(m=>m===""?u:[u,m].join("/"))),l&&f.push(...h),f.map(m=>n.startsWith("/")&&m===""?"/":m)}function Um(n){n.sort((r,s)=>r.score!==s.score?s.score-r.score:Hm(r.routesMeta.map(o=>o.childrenIndex),s.routesMeta.map(o=>o.childrenIndex)))}const Bm=/^:[\w-]+$/,Mm=3,zm=2,Fm=1,Wm=10,qm=-2,Xd=n=>n==="*";function Vm(n,r){let s=n.split("/"),o=s.length;return s.some(Xd)&&(o+=qm),r&&(o+=zm),s.filter(l=>!Xd(l)).reduce((l,u)=>l+(Bm.test(u)?Mm:u===""?Fm:Wm),o)}function Hm(n,r){return n.length===r.length&&n.slice(0,-1).every((o,l)=>o===r[l])?n[n.length-1]-r[r.length-1]:0}function Gm(n,r,s){let{routesMeta:o}=n,l={},u="/",h=[];for(let f=0;f<o.length;++f){let m=o[f],v=f===o.length-1,y=u==="/"?r:r.slice(u.length)||"/",_=Km({path:m.relativePath,caseSensitive:m.caseSensitive,end:v},y),k=m.route;if(!_)return null;Object.assign(l,_.params),h.push({params:l,pathname:rn([u,_.pathname]),pathnameBase:tg(rn([u,_.pathnameBase])),route:k}),_.pathnameBase!=="/"&&(u=rn([u,_.pathnameBase]))}return h}function Km(n,r){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[s,o]=Jm(n.path,n.caseSensitive,n.end),l=r.match(s);if(!l)return null;let u=l[0],h=u.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:o.reduce((v,y,_)=>{let{paramName:k,isOptional:E}=y;if(k==="*"){let N=f[_]||"";h=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const C=f[_];return E&&!C?v[k]=void 0:v[k]=(C||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:h,pattern:n}}function Jm(n,r,s){r===void 0&&(r=!1),s===void 0&&(s=!0),Wl(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let o=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,m)=>(o.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(o.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,r?void 0:"i"),o]}function Qm(n){try{return n.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Wl(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),n}}function Bh(n,r){if(r==="/")return n;if(!n.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,o=n.charAt(s);return o&&o!=="/"?null:n.slice(s)||"/"}const Ym=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xm=n=>Ym.test(n);function Zm(n,r){r===void 0&&(r="/");let{pathname:s,search:o="",hash:l=""}=typeof n=="string"?zn(n):n,u;if(s)if(Xm(s))u=s;else{if(s.includes("//")){let h=s;s=s.replace(/\/\/+/g,"/"),Wl(!1,"Pathnames cannot have embedded double slashes - normalizing "+(h+" -> "+s))}s.startsWith("/")?u=Zd(s.substring(1),"/"):u=Zd(s,r)}else u=r;return{pathname:u,search:rg(o),hash:ng(l)}}function Zd(n,r){let s=r.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?s.length>1&&s.pop():l!=="."&&s.push(l)}),s.length>1?s.join("/"):"/"}function kl(n,r,s,o){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eg(n){return n.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function Mh(n,r){let s=eg(n);return r?s.map((o,l)=>l===s.length-1?o.pathname:o.pathnameBase):s.map(o=>o.pathnameBase)}function zh(n,r,s,o){o===void 0&&(o=!1);let l;typeof n=="string"?l=zn(n):(l=$s({},n),Fe(!l.pathname||!l.pathname.includes("?"),kl("?","pathname","search",l)),Fe(!l.pathname||!l.pathname.includes("#"),kl("#","pathname","hash",l)),Fe(!l.search||!l.search.includes("#"),kl("#","search","hash",l)));let u=n===""||l.pathname==="",h=u?"/":l.pathname,f;if(h==null)f=s;else{let _=r.length-1;if(!o&&h.startsWith("..")){let k=h.split("/");for(;k[0]==="..";)k.shift(),_-=1;l.pathname=k.join("/")}f=_>=0?r[_]:"/"}let m=Zm(l,f),v=h&&h!=="/"&&h.endsWith("/"),y=(u||h===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(v||y)&&(m.pathname+="/"),m}const rn=n=>n.join("/").replace(/\/\/+/g,"/"),tg=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),rg=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ng=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function sg(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Fh=["post","put","patch","delete"];new Set(Fh);const ig=["get",...Fh];new Set(ig);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Us(){return Us=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])}return n},Us.apply(this,arguments)}const ql=$.createContext(null),og=$.createContext(null),Hs=$.createContext(null),xo=$.createContext(null),nn=$.createContext({outlet:null,matches:[],isDataRoute:!1}),Wh=$.createContext(null);function Gs(){return $.useContext(xo)!=null}function Vl(){return Gs()||Fe(!1),$.useContext(xo).location}function qh(n){$.useContext(Hs).static||$.useLayoutEffect(n)}function Hl(){let{isDataRoute:n}=$.useContext(nn);return n?wg():ag()}function ag(){Gs()||Fe(!1);let n=$.useContext(ql),{basename:r,future:s,navigator:o}=$.useContext(Hs),{matches:l}=$.useContext(nn),{pathname:u}=Vl(),h=JSON.stringify(Mh(l,s.v7_relativeSplatPath)),f=$.useRef(!1);return qh(()=>{f.current=!0}),$.useCallback(function(v,y){if(y===void 0&&(y={}),!f.current)return;if(typeof v=="number"){o.go(v);return}let _=zh(v,JSON.parse(h),u,y.relative==="path");n==null&&r!=="/"&&(_.pathname=_.pathname==="/"?r:rn([r,_.pathname])),(y.replace?o.replace:o.push)(_,y.state,y)},[r,o,h,u,n])}function lg(n,r){return ug(n,r)}function ug(n,r,s,o){Gs()||Fe(!1);let{navigator:l}=$.useContext(Hs),{matches:u}=$.useContext(nn),h=u[u.length-1],f=h?h.params:{};h&&h.pathname;let m=h?h.pathnameBase:"/";h&&h.route;let v=Vl(),y;if(r){var _;let j=typeof r=="string"?zn(r):r;m==="/"||(_=j.pathname)!=null&&_.startsWith(m)||Fe(!1),y=j}else y=v;let k=y.pathname||"/",E=k;if(m!=="/"){let j=m.replace(/^\//,"").split("/");E="/"+k.replace(/^\//,"").split("/").slice(j.length).join("/")}let C=Dm(n,{pathname:E}),N=pg(C&&C.map(j=>Object.assign({},j,{params:Object.assign({},f,j.params),pathname:rn([m,l.encodeLocation?l.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?m:rn([m,l.encodeLocation?l.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),u,s,o);return r&&N?$.createElement(xo.Provider,{value:{location:Us({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Or.Pop}},N):N}function cg(){let n=yg(),r=sg(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),s=n instanceof Error?n.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},r),s?$.createElement("pre",{style:l},s):null,null)}const dg=$.createElement(cg,null);class hg extends $.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,s){return s.location!==r.location||s.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:s.error,location:s.location,revalidation:r.revalidation||s.revalidation}}componentDidCatch(r,s){console.error("React Router caught the following error during render",r,s)}render(){return this.state.error!==void 0?$.createElement(nn.Provider,{value:this.props.routeContext},$.createElement(Wh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fg(n){let{routeContext:r,match:s,children:o}=n,l=$.useContext(ql);return l&&l.static&&l.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=s.route.id),$.createElement(nn.Provider,{value:r},o)}function pg(n,r,s,o){var l;if(r===void 0&&(r=[]),s===void 0&&(s=null),o===void 0&&(o=null),n==null){var u;if(!s)return null;if(s.errors)n=s.matches;else if((u=o)!=null&&u.v7_partialHydration&&r.length===0&&!s.initialized&&s.matches.length>0)n=s.matches;else return null}let h=n,f=(l=s)==null?void 0:l.errors;if(f!=null){let y=h.findIndex(_=>_.route.id&&(f==null?void 0:f[_.route.id])!==void 0);y>=0||Fe(!1),h=h.slice(0,Math.min(h.length,y+1))}let m=!1,v=-1;if(s&&o&&o.v7_partialHydration)for(let y=0;y<h.length;y++){let _=h[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(v=y),_.route.id){let{loaderData:k,errors:E}=s,C=_.route.loader&&k[_.route.id]===void 0&&(!E||E[_.route.id]===void 0);if(_.route.lazy||C){m=!0,v>=0?h=h.slice(0,v+1):h=[h[0]];break}}}return h.reduceRight((y,_,k)=>{let E,C=!1,N=null,j=null;s&&(E=f&&_.route.id?f[_.route.id]:void 0,N=_.route.errorElement||dg,m&&(v<0&&k===0?(_g("route-fallback"),C=!0,j=null):v===k&&(C=!0,j=_.route.hydrateFallbackElement||null)));let U=r.concat(h.slice(0,k+1)),A=()=>{let L;return E?L=N:C?L=j:_.route.Component?L=$.createElement(_.route.Component,null):_.route.element?L=_.route.element:L=y,$.createElement(fg,{match:_,routeContext:{outlet:y,matches:U,isDataRoute:s!=null},children:L})};return s&&(_.route.ErrorBoundary||_.route.errorElement||k===0)?$.createElement(hg,{location:s.location,revalidation:s.revalidation,component:N,error:E,children:A(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):A()},null)}var Vh=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(Vh||{}),Hh=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(Hh||{});function mg(n){let r=$.useContext(ql);return r||Fe(!1),r}function gg(n){let r=$.useContext(og);return r||Fe(!1),r}function vg(n){let r=$.useContext(nn);return r||Fe(!1),r}function Gh(n){let r=vg(),s=r.matches[r.matches.length-1];return s.route.id||Fe(!1),s.route.id}function yg(){var n;let r=$.useContext(Wh),s=gg(),o=Gh();return r!==void 0?r:(n=s.errors)==null?void 0:n[o]}function wg(){let{router:n}=mg(Vh.UseNavigateStable),r=Gh(Hh.UseNavigateStable),s=$.useRef(!1);return qh(()=>{s.current=!0}),$.useCallback(function(l,u){u===void 0&&(u={}),s.current&&(typeof l=="number"?n.navigate(l):n.navigate(l,Us({fromRouteId:r},u)))},[n,r])}const eh={};function _g(n,r,s){eh[n]||(eh[n]=!0)}function kg(n,r){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Sg(n){let{to:r,replace:s,state:o,relative:l}=n;Gs()||Fe(!1);let{future:u,static:h}=$.useContext(Hs),{matches:f}=$.useContext(nn),{pathname:m}=Vl(),v=Hl(),y=zh(r,Mh(f,u.v7_relativeSplatPath),m,l==="path"),_=JSON.stringify(y);return $.useEffect(()=>v(JSON.parse(_),{replace:s,state:o,relative:l}),[v,_,l,s,o]),null}function wo(n){Fe(!1)}function xg(n){let{basename:r="/",children:s=null,location:o,navigationType:l=Or.Pop,navigator:u,static:h=!1,future:f}=n;Gs()&&Fe(!1);let m=r.replace(/^\/*/,"/"),v=$.useMemo(()=>({basename:m,navigator:u,static:h,future:Us({v7_relativeSplatPath:!1},f)}),[m,f,u,h]);typeof o=="string"&&(o=zn(o));let{pathname:y="/",search:_="",hash:k="",state:E=null,key:C="default"}=o,N=$.useMemo(()=>{let j=Bh(y,m);return j==null?null:{location:{pathname:j,search:_,hash:k,state:E,key:C},navigationType:l}},[m,y,_,k,E,C,l]);return N==null?null:$.createElement(Hs.Provider,{value:v},$.createElement(xo.Provider,{children:s,value:N}))}function bg(n){let{children:r,location:s}=n;return lg(Ol(r),s)}new Promise(()=>{});function Ol(n,r){r===void 0&&(r=[]);let s=[];return $.Children.forEach(n,(o,l)=>{if(!$.isValidElement(o))return;let u=[...r,l];if(o.type===$.Fragment){s.push.apply(s,Ol(o.props.children,u));return}o.type!==wo&&Fe(!1),!o.props.index||!o.props.children||Fe(!1);let h={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=Ol(o.props.children,u)),s.push(h)}),s}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Eg="6";try{window.__reactRouterVersion=Eg}catch{}const jg="startTransition",th=jm[jg];function Cg(n){let{basename:r,children:s,future:o,window:l}=n,u=$.useRef();u.current==null&&(u.current=Im({window:l,v5Compat:!0}));let h=u.current,[f,m]=$.useState({action:h.action,location:h.location}),{v7_startTransition:v}=o||{},y=$.useCallback(_=>{v&&th?th(()=>m(_)):m(_)},[m,v]);return $.useLayoutEffect(()=>h.listen(y),[h,y]),$.useEffect(()=>kg(o),[o]),$.createElement(xg,{basename:r,children:s,location:f.location,navigationType:f.action,navigator:h,future:o})}var rh;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(rh||(rh={}));var nh;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(nh||(nh={}));const Tg=(n,r=150)=>{const[s,o]=$.useState("");return $.useEffect(()=>{const l=()=>{const u=window.pageYOffset,h=window.innerHeight,f=document.documentElement.scrollHeight;if(u+h>=f-50&&n.length>0){o(n[n.length-1]);return}for(const v of n){const y=document.getElementById(v);if(y){const _=y.offsetTop;u>=_-r&&o(v)}}};return window.addEventListener("scroll",l),l(),()=>window.removeEventListener("scroll",l)},[n,r]),s},Rg="_navbar_1yhm8_1",Pg="_scrolled_1yhm8_12",Og="_navContent_1yhm8_17",Ng="_logo_1yhm8_24",Ig="_navLinks_1yhm8_42",Ag="_active_1yhm8_60",Lg="_navLink_1yhm8_42",Dg="_mobileMenuBtn_1yhm8_123",at={navbar:Rg,scrolled:Pg,navContent:Og,logo:Ng,navLinks:Ig,active:Ag,navLink:Lg,mobileMenuBtn:Dg},$g=({sections:n=["home","services","contact"]})=>{const[r,s]=$.useState(!1),[o,l]=$.useState(!1),u=Tg(n,150);$.useEffect(()=>{const f=()=>{l(window.pageYOffset>100)};return window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)},[]),$.useEffect(()=>{const f=m=>{const v=m.target;r&&!v.closest(`.${at.navLinks}`)&&!v.closest(`.${at.mobileMenuBtn}`)&&s(!1)};return document.addEventListener("click",f),()=>document.removeEventListener("click",f)},[r]);const h=f=>{const m=document.getElementById(f);if(m){const v=m.offsetTop-80;window.scrollTo({top:v,behavior:"smooth"}),s(!1)}};return p.jsx("nav",{className:`${at.navbar} ${o?at.scrolled:""}`,children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:at.navContent,children:[p.jsx("div",{className:at.logo,onClick:()=>h("home"),children:"The Mad Batter"}),p.jsxs("div",{className:`${at.navLinks} ${r?at.active:""}`,children:[p.jsx("a",{className:`${at.navLink} ${u==="home"?at.active:""}`,onClick:()=>h("home"),children:"Home"}),p.jsx("a",{className:`${at.navLink} ${u==="services"?at.active:""}`,onClick:()=>h("services"),children:"Services"}),p.jsx("a",{className:`${at.navLink} ${u==="contact"?at.active:""}`,onClick:()=>h("contact"),children:"Contact"})]}),p.jsxs("button",{className:`${at.mobileMenuBtn} ${r?at.active:""}`,onClick:()=>s(!r),"aria-label":"Toggle menu",children:[p.jsx("span",{}),p.jsx("span",{}),p.jsx("span",{})]})]})})})},Ug="_footer_xi5i2_1",Bg="_copyright_xi5i2_7",sh={footer:Ug,copyright:Bg},Mg=()=>{const n=new Date().getFullYear();return p.jsx("footer",{className:sh.footer,children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:sh.copyright,children:[" ",n," The Mad Batter. All rights reserved."]})})})},zg="_button_15fwv_1",Fg="_primary_15fwv_26",Wg="_secondary_15fwv_39",qg="_outline_15fwv_47",Vg="_danger_15fwv_57",Hg="_small_15fwv_65",Gg="_large_15fwv_75",Kg="_fullWidth_15fwv_86",uo={button:zg,primary:Fg,secondary:Wg,outline:qg,danger:Vg,small:Hg,large:Gg,fullWidth:Kg},be=({variant:n="primary",size:r="medium",fullWidth:s=!1,children:o,className:l="",...u})=>{const h=[uo.button,uo[n],r!=="medium"&&uo[r],s&&uo.fullWidth,l].filter(Boolean).join(" ");return p.jsx("button",{className:h,...u,children:o})},Jg="_hero_101mf_1",Qg="_heroContent_101mf_31",Yg="_heroTitle_101mf_38",Xg="_heroSubtitle_101mf_52",Zg="_heroCta_101mf_64",Ps={hero:Jg,heroContent:Qg,heroTitle:Yg,heroSubtitle:Xg,heroCta:Zg},ev=({onBookingClick:n})=>{const r=()=>{const s=document.getElementById("services");if(s){const o=s.offsetTop-80;window.scrollTo({top:o,behavior:"smooth"})}};return p.jsx("section",{id:"home",className:Ps.hero,children:p.jsxs("div",{className:Ps.heroContent,children:[p.jsx("h1",{className:Ps.heroTitle,children:"The Mad Batter"}),p.jsx("p",{className:Ps.heroSubtitle,children:"Artisan Baking Made with Love and Expertise"}),p.jsxs("div",{className:Ps.heroCta,children:[p.jsx(be,{size:"large",onClick:n,children:"Book a Consultation"}),p.jsx(be,{variant:"outline",size:"large",onClick:r,children:"View Our Services"})]})]})})},tv="_modalOverlay_v5g6u_1",rv="_modalContent_v5g6u_16",nv="_modalHeader_v5g6u_33",sv="_closeButton_v5g6u_57",iv="_modalBody_v5g6u_77",Os={modalOverlay:tv,modalContent:rv,modalHeader:nv,closeButton:sv,modalBody:iv},sr=({isOpen:n,onClose:r,title:s,children:o,maxWidth:l="600px"})=>($.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[n]),$.useEffect(()=>{const u=h=>{h.key==="Escape"&&n&&r()};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[n,r]),n?p.jsx("div",{className:Os.modalOverlay,onClick:r,children:p.jsxs("div",{className:Os.modalContent,style:{maxWidth:l},onClick:u=>u.stopPropagation(),children:[s&&p.jsxs("div",{className:Os.modalHeader,children:[p.jsx("h2",{children:s}),p.jsx("button",{className:Os.closeButton,onClick:r,"aria-label":"Close",children:""})]}),p.jsx("div",{className:Os.modalBody,children:o})]})}):null);function Gl(n,r){const[s,o]=$.useState(()=>{try{const u=localStorage.getItem(n);return u?JSON.parse(u):r}catch(u){return console.error(`Error loading ${n} from localStorage:`,u),r}});return[s,u=>{try{o(u),localStorage.setItem(n,JSON.stringify(u))}catch(h){console.error(`Error saving ${n} to localStorage:`,h)}}]}const ir=(n=!1)=>{const[r,s]=$.useState(n);return{isOpen:r,open:()=>s(!0),close:()=>s(!1),toggle:()=>s(!r)}},Kl={GALLERY_IMAGES:"bakeryGallery_v2"},As=[{id:"cakes",name:"Cakes",icon:""},{id:"cupcakes",name:"Cupcakes",icon:""},{id:"cakesicles",name:"Cakesicles",icon:""},{id:"treatboxes",name:"Treat Boxes",icon:""},{id:"cookies",name:"Cookies",icon:""},{id:"desserts",name:"Desserts",icon:""},{id:"biscotti",name:"Biscotti",icon:""},{id:"meals",name:"Meals",icon:""},{id:"bento",name:"Bento Cakes",icon:""},{id:"smash",name:"Smash Cakes",icon:""},{id:"occasions",name:"Special Occasions",icon:""},{id:"treats",name:"Treats",icon:""}],ih={cakes:["baby-cake.jpg","baley-cake.jpg","black-panther-cake.jpg","blue-cake.jpg","blue-glitter-cake.jpg","buttercream-cake.jpg","car-cake.jpg","cricket-cake.jpg","death-by-chocolate-cake.jpg","denim-cake.jpg","dnd-cake.jpg","flower-cake.jpg","frozen-cake.jpg","hello-kitty-cake.jpg","mermaid-cake.jpg","mom-birthday-cake.jpg","oreo-cookies.jpg","pick-cake.jpg","pink-flower-cake.jpg","shiny-pink-cake.jpg","strawberry-cake.jpg","white-gold-sparkle-cake.jpg"],cupcakes:["blue-green-white-purple-cupcakes.jpg","butterfly-cupcakes.jpg","cancer-awareness-cupcakes.jpg","cupcake-box.jpg","denim-cupcakes.jpg","elsa-cupcakes.jpg","flower-cupcakes.jpg","green-pink-cupcakes.jpg","green-white-blue-pink-cupcakes.jpg","mermaid-cupcakes.jpg","soft-colour-cupcakes.jpg","succulent-cupcakes.jpg","tools-cupcakes.jpg"],cakesicles:["cakesicle-treats.jpg","cricket-cakesicles.jpg","dc-cakesicles.jpg","dinosaur-cakesicles.jpg","halloween-cakesicles.jpg","harry-potter-cakesicles.jpg","pink-cakesicles.jpg"],treatboxes:["16-treat-box.jpg","denim-treats.jpg","mix-cookies-box.jpg","pokemon-treats-1.jpg","star-wars-treats.jpg","treats-1.jpg","treats-2.jpg","treats-3.jpg","tyler-treat-box.jpg"],cookies:["batman-cookies.jpg","choco-oreo-cookies.jpg","cinnamon-roll-cookies.jpg","easter-cookies.jpg","halloween-cookies-1.jpg","halloween-cookies.jpg","heart-cookies.jpg","xmas-cookies.jpg"],desserts:["dessert-1.jpg","dessert-2.jpg","dessert-3.jpg","dessert-4.jpg","dessert-5.jpg","dessert-6.jpg","dessert.jpg"],biscotti:["admond-cranberry-biscotti.jpg"],meals:["meal-1.jpg","meal-10.jpg","meal-11.jpg","meal-12.jpg","meal-13.jpg","meal-14.jpg","meal-2.jpg","meal-3.jpg","meal-4.jpg","meal-5.jpg","meal-6.jpg","meal-7.jpg","meal-8.jpg","meal-9.jpg"],bento:["bento-blue.jpg","bento-pink.jpg"],smash:["birthday-smash.jpg","bunny-butt-smash.jpg","smash-hearts.jpg"],occasions:["easter-donuts.jpg","easter-egg.jpg","easter-treat-box-1.jpg","easter-treat-box.jpg","halloween-house.jpg","rose-pink-cakesicles.jpg","valentines-box-1.jpg","valentines-box-2.jpg","valentines-box-3.jpg","valentines-box-4.jpg","valentines-box-5.jpg","valentines-box-6.jpg","valentines-box-7.jpg","valentines-box-8.jpg","valentines-box.jpg","valentines-treat-box-1.jpg","valentines-treat-box.jpg","xmas-box-1.jpg","xmas-box.jpg","xmas-cakesicles.jpg"],treats:["grogu-choc-bomb.jpg","hazelnut-fudge-treats.jpg","marshmallow-fudge.jpg","peppermint-crisp-treats.jpg","treats-table-1.jpg","treats-table.jpg","turkish-delight-treats.jpg","unicorn-choco-bomb.jpg"],specials:["vday1.jpg","vday2.jpg"]},ov=()=>{const[n,r]=Gl(Kl.GALLERY_IMAGES,[]);return $.useEffect(()=>{if(n.length===0){console.log(" Loading images from manifest...");const s=[];Object.entries(ih).forEach(([o,l])=>{l.forEach((u,h)=>{const f=u.replace(/\.(jpg|jpeg|png|webp)$/i,"").split("-").map(m=>m.charAt(0).toUpperCase()+m.slice(1)).join(" ");s.push({id:`${o}-${h}-${Date.now()}`,category:o,title:f,description:`Beautiful ${f.toLowerCase()}`,imageUrl:`/Madbatter/images/${o}/${u}`,fileName:u,uploadDate:new Date().toISOString()})})}),r(s),console.log(` Loaded ${s.length} images from ${Object.keys(ih).length} categories`)}},[]),n};class Ks{constructor(r=0,s="Network Error"){this.status=r,this.text=s}}const av=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,r)=>Promise.resolve(localStorage.setItem(n,r)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},rt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:av()},Jl=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},lv=(n,r="https://api.emailjs.com")=>{if(!n)return;const s=Jl(n);rt.publicKey=s.publicKey,rt.blockHeadless=s.blockHeadless,rt.storageProvider=s.storageProvider,rt.blockList=s.blockList,rt.limitRate=s.limitRate,rt.origin=s.origin||r},Kh=async(n,r,s={})=>{const o=await fetch(rt.origin+n,{method:"POST",headers:s,body:r}),l=await o.text(),u=new Ks(o.status,l);if(o.ok)return u;throw u},Jh=(n,r,s)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!r||typeof r!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||typeof s!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},uv=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},Qh=n=>n.webdriver||!n.languages||n.languages.length===0,Yh=()=>new Ks(451,"Unavailable For Headless Browser"),cv=(n,r)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof r!="string")throw"The BlockList watchVariable has to be a string"},dv=n=>{var r;return!((r=n.list)!=null&&r.length)||!n.watchVariable},hv=(n,r)=>n instanceof FormData?n.get(r):n[r],Xh=(n,r)=>{if(dv(n))return!1;cv(n.list,n.watchVariable);const s=hv(r,n.watchVariable);return typeof s!="string"?!1:n.list.includes(s)},Zh=()=>new Ks(403,"Forbidden"),fv=(n,r)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(r&&typeof r!="string")throw"The LimitRate ID has to be a non-empty string"},pv=async(n,r,s)=>{const o=Number(await s.get(n)||0);return r-Date.now()+o},ef=async(n,r,s)=>{if(!r.throttle||!s)return!1;fv(r.throttle,r.id);const o=r.id||n;return await pv(o,r.throttle,s)>0?!0:(await s.set(o,Date.now().toString()),!1)},tf=()=>new Ks(429,"Too Many Requests"),mv=async(n,r,s,o)=>{const l=Jl(o),u=l.publicKey||rt.publicKey,h=l.blockHeadless||rt.blockHeadless,f=l.storageProvider||rt.storageProvider,m={...rt.blockList,...l.blockList},v={...rt.limitRate,...l.limitRate};return h&&Qh(navigator)?Promise.reject(Yh()):(Jh(u,n,r),uv(s),s&&Xh(m,s)?Promise.reject(Zh()):await ef(location.pathname,v,f)?Promise.reject(tf()):Kh("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:u,service_id:n,template_id:r,template_params:s}),{"Content-type":"application/json"}))},gv=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},vv=n=>typeof n=="string"?document.querySelector(n):n,yv=async(n,r,s,o)=>{const l=Jl(o),u=l.publicKey||rt.publicKey,h=l.blockHeadless||rt.blockHeadless,f=rt.storageProvider||l.storageProvider,m={...rt.blockList,...l.blockList},v={...rt.limitRate,...l.limitRate};if(h&&Qh(navigator))return Promise.reject(Yh());const y=vv(s);Jh(u,n,r),gv(y);const _=new FormData(y);return Xh(m,_)?Promise.reject(Zh()):await ef(location.pathname,v,f)?Promise.reject(tf()):(_.append("lib_version","4.4.1"),_.append("service_id",n),_.append("template_id",r),_.append("user_id",u),Kh("/api/v1.0/email/send-form",_))},rf={init:lv,send:mv,sendForm:yv,EmailJSResponseStatus:Ks},wv=async n=>{const r="service_s4gdpxl",s="template_uoy0w25",o="6SXUusLmju_17SHSv";console.log(" Attempting to send booking email...",{serviceIdPresent:!0,templateIdPresent:!0,publicKeyPresent:!0});try{return await rf.send(r,s,{to_name:"Danielle",from_name:n.name,from_email:n.email||"No email provided",phone_number:n.phone,event_date:n.date,message:n.description,type:"Booking Request"},o)}catch(l){throw console.error("Failed to send email:",l),l}},_v=async n=>{const r="service_s4gdpxl",s="template_uoy0w25",o="6SXUusLmju_17SHSv";console.log(" Attempting to send contact email...",{serviceIdPresent:!0,templateIdPresent:!0,publicKeyPresent:!0});try{return await rf.send(r,s,{to_name:"Danielle",from_name:n.name,from_email:n.email,phone_number:n.phone||"No phone provided",message:n.message,type:"Contact Inquiry"},o)}catch(l){throw console.error("Failed to send email:",l),l}},or=n=>new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),kv=(n,r,s)=>{const o=new Date(r),l=new Date(s);return o.setHours(0,0,0,0),l.setHours(23,59,59,999),n>=o&&n<=l},Sv=(n,r)=>{const s=new Date(r);return s.setHours(0,0,0,0),n<s},xv=(n,r)=>{const s=new Date(r);return s.setHours(23,59,59,999),n>s},oh=n=>{const s=n.replace(/\D/g,"").slice(0,10);return s.length<=3?s:s.length<=6?`${s.slice(0,3)} ${s.slice(3)}`:`${s.slice(0,3)} ${s.slice(3,6)} ${s.slice(6)}`},Sl=n=>n.replace(/\s/g,""),ah=n=>n.replace(/\D/g,"").length===10,rr=n=>n.replace(/\.(jpg|jpeg|png|gif|webp)$/i,"").split("-").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" "),bv=()=>"/Madbatter",Ev=()=>{const n=bv(),r=[];let s=1e3;return["baby-cake.jpg","baley-cake.jpg","black-panther-cake.jpg","blue-cake.jpg","blue-glitter-cake.jpg","buttercream-cake.jpg","car-cake.jpg","cricket-cake.jpg","death-by-chocolate-cake.jpg","denim-cake.jpg","dnd-cake.jpg","flower-cake.jpg","frozen-cake.jpg","hello-kitty-cake.jpg","mermaid-cake.jpg","mom-birthday-cake.jpg","pink-flower-cake.jpg","shiny-pink-cake.jpg","strawberry-cake.jpg","white-gold-sparkle-cake.jpg"].forEach(k=>{r.push({id:String(s++),category:"cakes",title:rr(k),description:"",imageUrl:`${n}/images/cakes/${k}`,fileName:k,uploadDate:new Date().toISOString()})}),["blue-green-white-purple-cupcakes.jpg","butterfly-cupcakes.jpg","cancer-awareness-cupcakes.jpg","cupcake-box.jpg","denim-cupcakes.jpg","elsa-cupcakes.jpg","flower-cupcakes.jpg","green-pink-cupcakes.jpg","green-white-blue-pink-cupcakes.jpg","mermaid-cupcakes.jpg","soft-colour-cupcakes.jpg","succulent-cupcakes.jpg","tools-cupcakes.jpg"].forEach(k=>{r.push({id:String(s++),category:"cupcakes",title:rr(k),description:"",imageUrl:`${n}/images/cupcakes/${k}`,fileName:k,uploadDate:new Date().toISOString()})}),["cakesicle-treats.jpg","cricket-cakesicles.jpg","dc-cakesicles.jpg","dinosaur-cakesicles.jpg","halloween-cakesicles.jpg","harry-potter-cakesicles.jpg","pink-cakesicles.jpg"].forEach(k=>{r.push({id:String(s++),category:"cakesicles",title:rr(k),description:"",imageUrl:`${n}/images/cakesicles/${k}`,fileName:k,uploadDate:new Date().toISOString()})}),["batman-cookies.jpg","choco-oreo-cookies.jpg","cinnamon-roll-cookies.jpg","easter-cookies.jpg","halloween-cookies-1.jpg","halloween-cookies.jpg","heart-cookies.jpg","xmas-cookies.jpg"].forEach(k=>{r.push({id:String(s++),category:"cookies",title:rr(k),description:"",imageUrl:`${n}/images/cookies/${k}`,fileName:k,uploadDate:new Date().toISOString()})}),["bento-blue.jpg","bento-pink.jpg"].forEach(k=>{r.push({id:String(s++),category:"bento",title:rr(k),description:"",imageUrl:`${n}/images/bento/${k}`,fileName:k,uploadDate:new Date().toISOString()})}),["16-treat-box.jpg","denim-treats.jpg","mix-cookies-box.jpg","pokemon-treats-1.jpg","star-wars-treats.jpg","treats-1.jpg","treats-2.jpg","treats-3.jpg","tyler-treat-box.jpg"].forEach(k=>{r.push({id:String(s++),category:"treatboxes",title:rr(k),description:"",imageUrl:`${n}/images/treat boxes/${k}`,fileName:k,uploadDate:new Date().toISOString()})}),["dessert-1.jpg","dessert-2.jpg","dessert-3.jpg","dessert-4.jpg","dessert-5.jpg","dessert-6.jpg","dessert.jpg"].forEach(k=>{r.push({id:String(s++),category:"desserts",title:rr(k),description:"",imageUrl:`${n}/images/desserts/${k}`,fileName:k,uploadDate:new Date().toISOString()})}),["grogu-choc-bomb.jpg","hazelnut-fudge-treats.jpg","marshmallow-fudge.jpg","peppermint-crisp-treats.jpg","treats-table-1.jpg","treats-table.jpg","turkish-delight-treats.jpg","unicorn-choco-bomb.jpg"].forEach(k=>{r.push({id:String(s++),category:"treats",title:rr(k),description:"",imageUrl:`${n}/images/treats/${k}`,fileName:k,uploadDate:new Date().toISOString()})}),["admond-cranberry-biscotti.jpg"].forEach(k=>{r.push({id:String(s++),category:"biscotti",title:rr(k),description:"",imageUrl:`${n}/images/biscotti/${k}`,fileName:k,uploadDate:new Date().toISOString()})}),r},nf=Ev();function bo(n,r){var s={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&r.indexOf(o)<0&&(s[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)r.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(s[o[l]]=n[o[l]]);return s}function jv(n,r,s,o){function l(u){return u instanceof s?u:new s(function(h){h(u)})}return new(s||(s=Promise))(function(u,h){function f(y){try{v(o.next(y))}catch(_){h(_)}}function m(y){try{v(o.throw(y))}catch(_){h(_)}}function v(y){y.done?u(y.value):l(y.value).then(f,m)}v((o=o.apply(n,r||[])).next())})}const Cv=n=>n?(...r)=>n(...r):(...r)=>fetch(...r);class Ql extends Error{constructor(r,s="FunctionsError",o){super(r),this.name=s,this.context=o}}class Tv extends Ql{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class lh extends Ql{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class uh extends Ql{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Nl;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Nl||(Nl={}));class Rv{constructor(r,{headers:s={},customFetch:o,region:l=Nl.Any}={}){this.url=r,this.headers=s,this.region=l,this.fetch=Cv(o)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return jv(this,arguments,void 0,function*(s,o={}){var l;let u,h;try{const{headers:f,method:m,body:v,signal:y,timeout:_}=o;let k={},{region:E}=o;E||(E=this.region);const C=new URL(`${this.url}/${s}`);E&&E!=="any"&&(k["x-region"]=E,C.searchParams.set("forceFunctionRegion",E));let N;v&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(k["Content-Type"]="application/octet-stream",N=v):typeof v=="string"?(k["Content-Type"]="text/plain",N=v):typeof FormData<"u"&&v instanceof FormData?N=v:(k["Content-Type"]="application/json",N=JSON.stringify(v)):v&&typeof v!="string"&&!(typeof Blob<"u"&&v instanceof Blob)&&!(v instanceof ArrayBuffer)&&!(typeof FormData<"u"&&v instanceof FormData)?N=JSON.stringify(v):N=v;let j=y;_&&(h=new AbortController,u=setTimeout(()=>h.abort(),_),y?(j=h.signal,y.addEventListener("abort",()=>h.abort())):j=h.signal);const U=yield this.fetch(C.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},k),this.headers),f),body:N,signal:j}).catch(de=>{throw new Tv(de)}),A=U.headers.get("x-relay-error");if(A&&A==="true")throw new lh(U);if(!U.ok)throw new uh(U);let L=((l=U.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),K;return L==="application/json"?K=yield U.json():L==="application/octet-stream"||L==="application/pdf"?K=yield U.blob():L==="text/event-stream"?K=U:L==="multipart/form-data"?K=yield U.formData():K=yield U.text(),{data:K,error:null,response:U}}catch(f){return{data:null,error:f,response:f instanceof uh||f instanceof lh?f.context:void 0}}finally{u&&clearTimeout(u)}})}}var Pv=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},Ov=class{constructor(n){var r,s,o;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(r=n.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=n.signal,this.isMaybeSingle=(s=n.isMaybeSingle)!==null&&s!==void 0?s:!1,this.urlLengthLimit=(o=n.urlLengthLimit)!==null&&o!==void 0?o:8e3,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,r){return this.headers=new Headers(this.headers),this.headers.set(n,r),this}then(n,r){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let h=null,f=null,m=null,v=u.status,y=u.statusText;if(u.ok){var _,k;if(s.method!=="HEAD"){var E;const U=await u.text();U===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((E=s.headers.get("Accept"))===null||E===void 0)&&E.includes("application/vnd.pgrst.plan+text"))?f=U:f=JSON.parse(U))}const N=(_=s.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),j=(k=u.headers.get("content-range"))===null||k===void 0?void 0:k.split("/");N&&j&&j.length>1&&(m=parseInt(j[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(f)&&(f.length>1?(h={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,v=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var C;const N=await u.text();try{h=JSON.parse(N),Array.isArray(h)&&u.status===404&&(f=[],h=null,v=200,y="OK")}catch{u.status===404&&N===""?(v=204,y="No Content"):h={message:N}}if(h&&s.isMaybeSingle&&(!(h==null||(C=h.details)===null||C===void 0)&&C.includes("0 rows"))&&(h=null,v=200,y="OK"),h&&s.shouldThrowOnError)throw new Pv(h)}return{error:h,data:f,count:m,status:v,statusText:y}});return this.shouldThrowOnError||(l=l.catch(u=>{var h;let f="",m="",v="";const y=u==null?void 0:u.cause;if(y){var _,k,E,C;const U=(_=y==null?void 0:y.message)!==null&&_!==void 0?_:"",A=(k=y==null?void 0:y.code)!==null&&k!==void 0?k:"";f=`${(E=u==null?void 0:u.name)!==null&&E!==void 0?E:"FetchError"}: ${u==null?void 0:u.message}`,f+=`

Caused by: ${(C=y==null?void 0:y.name)!==null&&C!==void 0?C:"Error"}: ${U}`,A&&(f+=` (${A})`),y!=null&&y.stack&&(f+=`
${y.stack}`)}else{var N;f=(N=u==null?void 0:u.stack)!==null&&N!==void 0?N:""}const j=this.url.toString().length;return(u==null?void 0:u.name)==="AbortError"||(u==null?void 0:u.code)==="ABORT_ERR"?(v="",m="Request was aborted (timeout or manual cancellation)",j>this.urlLengthLimit&&(m+=`. Note: Your request URL is ${j} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((y==null?void 0:y.name)==="HeadersOverflowError"||(y==null?void 0:y.code)==="UND_ERR_HEADERS_OVERFLOW")&&(v="",m="HTTP headers exceeded server limits (typically 16KB)",j>this.urlLengthLimit&&(m+=`. Your request URL is ${j} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(h=u==null?void 0:u.name)!==null&&h!==void 0?h:"FetchError"}: ${u==null?void 0:u.message}`,details:f,hint:m,code:v},data:null,count:null,status:0,statusText:""}})),l.then(n,r)}returns(){return this}overrideTypes(){return this}},Nv=class extends Ov{select(n){let r=!1;const s=(n??"*").split("").map(o=>/\s/.test(o)&&!r?"":(o==='"'&&(r=!r),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:r=!0,nullsFirst:s,foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.order`:"order",h=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${h?`${h},`:""}${n}.${r?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${n}`),this}range(n,r,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(u,`${r-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:r=!1,settings:s=!1,buffers:o=!1,wal:l=!1,format:u="text"}={}){var h;const f=[n?"analyze":null,r?"verbose":null,s?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),m=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const ch=new RegExp("[,()]");var Dn=class extends Nv{eq(n,r){return this.url.searchParams.append(n,`eq.${r}`),this}neq(n,r){return this.url.searchParams.append(n,`neq.${r}`),this}gt(n,r){return this.url.searchParams.append(n,`gt.${r}`),this}gte(n,r){return this.url.searchParams.append(n,`gte.${r}`),this}lt(n,r){return this.url.searchParams.append(n,`lt.${r}`),this}lte(n,r){return this.url.searchParams.append(n,`lte.${r}`),this}like(n,r){return this.url.searchParams.append(n,`like.${r}`),this}likeAllOf(n,r){return this.url.searchParams.append(n,`like(all).{${r.join(",")}}`),this}likeAnyOf(n,r){return this.url.searchParams.append(n,`like(any).{${r.join(",")}}`),this}ilike(n,r){return this.url.searchParams.append(n,`ilike.${r}`),this}ilikeAllOf(n,r){return this.url.searchParams.append(n,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(n,r){return this.url.searchParams.append(n,`ilike(any).{${r.join(",")}}`),this}regexMatch(n,r){return this.url.searchParams.append(n,`match.${r}`),this}regexIMatch(n,r){return this.url.searchParams.append(n,`imatch.${r}`),this}is(n,r){return this.url.searchParams.append(n,`is.${r}`),this}isDistinct(n,r){return this.url.searchParams.append(n,`isdistinct.${r}`),this}in(n,r){const s=Array.from(new Set(r)).map(o=>typeof o=="string"&&ch.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(n,`in.(${s})`),this}notIn(n,r){const s=Array.from(new Set(r)).map(o=>typeof o=="string"&&ch.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(n,`not.in.(${s})`),this}contains(n,r){return typeof r=="string"?this.url.searchParams.append(n,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(n,`cs.{${r.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(r)}`),this}containedBy(n,r){return typeof r=="string"?this.url.searchParams.append(n,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(n,`cd.{${r.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(r)}`),this}rangeGt(n,r){return this.url.searchParams.append(n,`sr.${r}`),this}rangeGte(n,r){return this.url.searchParams.append(n,`nxl.${r}`),this}rangeLt(n,r){return this.url.searchParams.append(n,`sl.${r}`),this}rangeLte(n,r){return this.url.searchParams.append(n,`nxr.${r}`),this}rangeAdjacent(n,r){return this.url.searchParams.append(n,`adj.${r}`),this}overlaps(n,r){return typeof r=="string"?this.url.searchParams.append(n,`ov.${r}`):this.url.searchParams.append(n,`ov.{${r.join(",")}}`),this}textSearch(n,r,{config:s,type:o}={}){let l="";o==="plain"?l="pl":o==="phrase"?l="ph":o==="websearch"&&(l="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(n,`${l}fts${u}.${r}`),this}match(n){return Object.entries(n).forEach(([r,s])=>{this.url.searchParams.append(r,`eq.${s}`)}),this}not(n,r,s){return this.url.searchParams.append(n,`not.${r}.${s}`),this}or(n,{foreignTable:r,referencedTable:s=r}={}){const o=s?`${s}.or`:"or";return this.url.searchParams.append(o,`(${n})`),this}filter(n,r,s){return this.url.searchParams.append(n,`${r}.${s}`),this}},Iv=class{constructor(n,{headers:r={},schema:s,fetch:o,urlLengthLimit:l=8e3}){this.url=n,this.headers=new Headers(r),this.schema=s,this.fetch=o,this.urlLengthLimit=l}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,r){const{head:s=!1,count:o}=r??{},l=s?"HEAD":"GET";let u=!1;const h=(n??"*").split("").map(v=>/\s/.test(v)&&!u?"":(v==='"'&&(u=!u),v)).join(""),{url:f,headers:m}=this.cloneRequestState();return f.searchParams.set("select",h),o&&m.append("Prefer",`count=${o}`),new Dn({method:l,url:f,headers:m,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(n,{count:r,defaultToNull:s=!0}={}){var o;const l="POST",{url:u,headers:h}=this.cloneRequestState();if(r&&h.append("Prefer",`count=${r}`),s||h.append("Prefer","missing=default"),Array.isArray(n)){const f=n.reduce((m,v)=>m.concat(Object.keys(v)),[]);if(f.length>0){const m=[...new Set(f)].map(v=>`"${v}"`);u.searchParams.set("columns",m.join(","))}}return new Dn({method:l,url:u,headers:h,schema:this.schema,body:n,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(n,{onConflict:r,ignoreDuplicates:s=!1,count:o,defaultToNull:l=!0}={}){var u;const h="POST",{url:f,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),r!==void 0&&f.searchParams.set("on_conflict",r),o&&m.append("Prefer",`count=${o}`),l||m.append("Prefer","missing=default"),Array.isArray(n)){const v=n.reduce((y,_)=>y.concat(Object.keys(_)),[]);if(v.length>0){const y=[...new Set(v)].map(_=>`"${_}"`);f.searchParams.set("columns",y.join(","))}}return new Dn({method:h,url:f,headers:m,schema:this.schema,body:n,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}update(n,{count:r}={}){var s;const o="PATCH",{url:l,headers:u}=this.cloneRequestState();return r&&u.append("Prefer",`count=${r}`),new Dn({method:o,url:l,headers:u,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:n}={}){var r;const s="DELETE",{url:o,headers:l}=this.cloneRequestState();return n&&l.append("Prefer",`count=${n}`),new Dn({method:s,url:o,headers:l,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}};function Bs(n){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Bs(n)}function Av(n,r){if(Bs(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var o=s.call(n,r);if(Bs(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function Lv(n){var r=Av(n,"string");return Bs(r)=="symbol"?r:r+""}function Dv(n,r,s){return(r=Lv(r))in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s,n}function dh(n,r){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);r&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),s.push.apply(s,o)}return s}function co(n){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?dh(Object(s),!0).forEach(function(o){Dv(n,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):dh(Object(s)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(s,o))})}return n}var $v=class sf{constructor(r,{headers:s={},schema:o,fetch:l,timeout:u,urlLengthLimit:h=8e3}={}){this.url=r,this.headers=new Headers(s),this.schemaName=o,this.urlLengthLimit=h;const f=l??globalThis.fetch;u!==void 0&&u>0?this.fetch=(m,v)=>{const y=new AbortController,_=setTimeout(()=>y.abort(),u),k=v==null?void 0:v.signal;if(k){if(k.aborted)return clearTimeout(_),f(m,v);const E=()=>{clearTimeout(_),y.abort()};return k.addEventListener("abort",E,{once:!0}),f(m,co(co({},v),{},{signal:y.signal})).finally(()=>{clearTimeout(_),k.removeEventListener("abort",E)})}return f(m,co(co({},v),{},{signal:y.signal})).finally(()=>clearTimeout(_))}:this.fetch=f}from(r){if(!r||typeof r!="string"||r.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Iv(new URL(`${this.url}/${r}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(r){return new sf(this.url,{headers:this.headers,schema:r,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(r,s={},{head:o=!1,get:l=!1,count:u}={}){var h;let f;const m=new URL(`${this.url}/rpc/${r}`);let v;const y=E=>E!==null&&typeof E=="object"&&(!Array.isArray(E)||E.some(y)),_=o&&Object.values(s).some(y);_?(f="POST",v=s):o||l?(f=o?"HEAD":"GET",Object.entries(s).filter(([E,C])=>C!==void 0).map(([E,C])=>[E,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([E,C])=>{m.searchParams.append(E,C)})):(f="POST",v=s);const k=new Headers(this.headers);return _?k.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&k.set("Prefer",`count=${u}`),new Dn({method:f,url:m,headers:k,schema:this.schemaName,body:v,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch,urlLengthLimit:this.urlLengthLimit})}};class Uv{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const o=s.versions;if(o&&o.node){const l=o.node,u=parseInt(l.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let s=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(s+=`

Suggested solution: ${r.workaround}`),new Error(s)}static createWebSocket(r,s){const o=this.getWebSocketConstructor();return new o(r,s)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const Bv="2.95.3",Mv=`realtime-js/${Bv}`,zv="1.0.0",of="2.0.0",hh=of,Il=1e4,Fv=1e3,Wv=100;var Rr;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Rr||(Rr={}));var He;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(He||(He={}));var zt;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(zt||(zt={}));var Al;(function(n){n.websocket="websocket"})(Al||(Al={}));var Zr;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Zr||(Zr={}));class qv{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,s){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(r));let o=[r.join_ref,r.ref,r.topic,r.event,r.payload];return s(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(r){var s;return this._isArrayBuffer((s=r.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var s,o;const l=(o=(s=r.payload)===null||s===void 0?void 0:s.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(r){var s,o;const l=(o=(s=r.payload)===null||s===void 0?void 0:s.payload)!==null&&o!==void 0?o:{},h=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(r,s,o){var l,u;const h=r.topic,f=(l=r.ref)!==null&&l!==void 0?l:"",m=(u=r.join_ref)!==null&&u!==void 0?u:"",v=r.payload.event,y=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},_=Object.keys(y).length===0?"":JSON.stringify(y);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const k=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+f.length+h.length+v.length+_.length,E=new ArrayBuffer(this.HEADER_LENGTH+k);let C=new DataView(E),N=0;C.setUint8(N++,this.KINDS.userBroadcastPush),C.setUint8(N++,m.length),C.setUint8(N++,f.length),C.setUint8(N++,h.length),C.setUint8(N++,v.length),C.setUint8(N++,_.length),C.setUint8(N++,s),Array.from(m,U=>C.setUint8(N++,U.charCodeAt(0))),Array.from(f,U=>C.setUint8(N++,U.charCodeAt(0))),Array.from(h,U=>C.setUint8(N++,U.charCodeAt(0))),Array.from(v,U=>C.setUint8(N++,U.charCodeAt(0))),Array.from(_,U=>C.setUint8(N++,U.charCodeAt(0)));var j=new Uint8Array(E.byteLength+o.byteLength);return j.set(new Uint8Array(E),0),j.set(new Uint8Array(o),E.byteLength),j.buffer}decode(r,s){if(this._isArrayBuffer(r)){let o=this._binaryDecode(r);return s(o)}if(typeof r=="string"){const o=JSON.parse(r),[l,u,h,f,m]=o;return s({join_ref:l,ref:u,topic:h,event:f,payload:m})}return s({})}_binaryDecode(r){const s=new DataView(r),o=s.getUint8(0),l=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(r,s,l)}}_decodeUserBroadcast(r,s,o){const l=s.getUint8(1),u=s.getUint8(2),h=s.getUint8(3),f=s.getUint8(4);let m=this.HEADER_LENGTH+4;const v=o.decode(r.slice(m,m+l));m=m+l;const y=o.decode(r.slice(m,m+u));m=m+u;const _=o.decode(r.slice(m,m+h));m=m+h;const k=r.slice(m,r.byteLength),E=f===this.JSON_ENCODING?JSON.parse(o.decode(k)):k,C={type:this.BROADCAST_EVENT,event:y,payload:E};return h>0&&(C.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(r){var s;return r instanceof ArrayBuffer||((s=r==null?void 0:r.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(r,s){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([o])=>s.includes(o)))}}class af{constructor(r,s){this.callback=r,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Re;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Re||(Re={}));const fh=(n,r,s={})=>{var o;const l=(o=s.skipTypes)!==null&&o!==void 0?o:[];return r?Object.keys(r).reduce((u,h)=>(u[h]=Vv(h,n,r,l),u),{}):{}},Vv=(n,r,s,o)=>{const l=r.find(f=>f.name===n),u=l==null?void 0:l.type,h=s[n];return u&&!o.includes(u)?lf(u,h):Ll(h)},lf=(n,r)=>{if(n.charAt(0)==="_"){const s=n.slice(1,n.length);return Jv(r,s)}switch(n){case Re.bool:return Hv(r);case Re.float4:case Re.float8:case Re.int2:case Re.int4:case Re.int8:case Re.numeric:case Re.oid:return Gv(r);case Re.json:case Re.jsonb:return Kv(r);case Re.timestamp:return Qv(r);case Re.abstime:case Re.date:case Re.daterange:case Re.int4range:case Re.int8range:case Re.money:case Re.reltime:case Re.text:case Re.time:case Re.timestamptz:case Re.timetz:case Re.tsrange:case Re.tstzrange:return Ll(r);default:return Ll(r)}},Ll=n=>n,Hv=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Gv=n=>{if(typeof n=="string"){const r=parseFloat(n);if(!Number.isNaN(r))return r}return n},Kv=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},Jv=(n,r)=>{if(typeof n!="string")return n;const s=n.length-1,o=n[s];if(n[0]==="{"&&o==="}"){let u;const h=n.slice(1,s);try{u=JSON.parse("["+h+"]")}catch{u=h?h.split(","):[]}return u.map(f=>lf(r,f))}return n},Qv=n=>typeof n=="string"?n.replace(" ","T"):n,uf=n=>{const r=new URL(n);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class xl{constructor(r,s,o={},l=Il){this.channel=r,this.event=s,this.payload=o,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,s){var o;return this._hasReceived(r)&&s((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:r,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:s}){this.recHooks.filter(o=>o.status===r).forEach(o=>o.callback(s))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var ph;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(ph||(ph={}));class Ls{constructor(r,s){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},l=>{const{onJoin:u,onLeave:h,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ls.syncState(this.state,l,u,h),this.pendingDiffs.forEach(m=>{this.state=Ls.syncDiff(this.state,m,u,h)}),this.pendingDiffs=[],f()}),this.channel._on(o.diff,{},l=>{const{onJoin:u,onLeave:h,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Ls.syncDiff(this.state,l,u,h),f())}),this.onJoin((l,u,h)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:h})}),this.onLeave((l,u,h)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,s,o,l){const u=this.cloneDeep(r),h=this.transformState(s),f={},m={};return this.map(u,(v,y)=>{h[v]||(m[v]=y)}),this.map(h,(v,y)=>{const _=u[v];if(_){const k=y.map(j=>j.presence_ref),E=_.map(j=>j.presence_ref),C=y.filter(j=>E.indexOf(j.presence_ref)<0),N=_.filter(j=>k.indexOf(j.presence_ref)<0);C.length>0&&(f[v]=C),N.length>0&&(m[v]=N)}else f[v]=y}),this.syncDiff(u,{joins:f,leaves:m},o,l)}static syncDiff(r,s,o,l){const{joins:u,leaves:h}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return o||(o=()=>{}),l||(l=()=>{}),this.map(u,(f,m)=>{var v;const y=(v=r[f])!==null&&v!==void 0?v:[];if(r[f]=this.cloneDeep(m),y.length>0){const _=r[f].map(E=>E.presence_ref),k=y.filter(E=>_.indexOf(E.presence_ref)<0);r[f].unshift(...k)}o(f,y,m)}),this.map(h,(f,m)=>{let v=r[f];if(!v)return;const y=m.map(_=>_.presence_ref);v=v.filter(_=>y.indexOf(_.presence_ref)<0),r[f]=v,l(f,v,m),v.length===0&&delete r[f]}),r}static map(r,s){return Object.getOwnPropertyNames(r).map(o=>s(o,r[o]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((s,o)=>{const l=r[o];return"metas"in l?s[o]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):s[o]=l,s},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mh;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(mh||(mh={}));var Ds;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Ds||(Ds={}));var nr;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(nr||(nr={}));class Bn{constructor(r,s={config:{}},o){var l,u;if(this.topic=r,this.params=s,this.socket=o,this.bindings={},this.state=He.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new xl(this,zt.join,this.params,this.timeout),this.rejoinTimer=new af(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=He.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=He.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this._on(zt.reply,{},(h,f)=>{this._trigger(this._replyEventName(f),h)}),this.presence=new Ls(this),this.broadcastEndpointURL=uf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,s=this.timeout){var o,l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==He.closed){const{config:{broadcast:h,presence:f,private:m}}=this.params,v=(l=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(E=>E.filter))!==null&&l!==void 0?l:[],y=!!this.bindings[Ds.PRESENCE]&&this.bindings[Ds.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,_={},k={broadcast:h,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:v,private:m};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(E=>r==null?void 0:r(nr.CHANNEL_ERROR,E)),this._onClose(()=>r==null?void 0:r(nr.CLOSED)),this.updateJoinPayload(Object.assign({config:k},_)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:E})=>{var C;if(this.socket._isManualToken()||this.socket.setAuth(),E===void 0){r==null||r(nr.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,j=(C=N==null?void 0:N.length)!==null&&C!==void 0?C:0,U=[];for(let A=0;A<j;A++){const L=N[A],{filter:{event:K,schema:de,table:G,filter:ae}}=L,_e=E&&E[A];if(_e&&_e.event===K&&Bn.isFilterValueEqual(_e.schema,de)&&Bn.isFilterValueEqual(_e.table,G)&&Bn.isFilterValueEqual(_e.filter,ae))U.push(Object.assign(Object.assign({},L),{id:_e.id}));else{this.unsubscribe(),this.state=He.errored,r==null||r(nr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=U,r&&r(nr.SUBSCRIBED);return}}).receive("error",E=>{this.state=He.errored,r==null||r(nr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(nr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,s={}){return await this.send({type:"presence",event:"track",payload:r},s.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,s,o){return this.state===He.joined&&r===Ds.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(r,s,o)}async httpSend(r,s,o={}){var l;if(s==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:s,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(l=o.timeout)!==null&&l!==void 0?l:this.timeout);if(f.status===202)return{success:!0};let m=f.statusText;try{const v=await f.json();m=v.error||v.message||m}catch{}return Promise.reject(new Error(m))}async send(r,s={}){var o,l;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:h}=r,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:h,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);return await((l=v.body)===null||l===void 0?void 0:l.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var h,f,m;const v=this._push(r.type,r,s.timeout||this.timeout);r.type==="broadcast"&&!(!((m=(f=(h=this.params)===null||h===void 0?void 0:h.config)===null||f===void 0?void 0:f.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),v.receive("ok",()=>u("ok")),v.receive("error",()=>u("error")),v.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=He.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(zt.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(l=>{o=new xl(this,zt.leave,{},r),o.receive("ok",()=>{s(),l("ok")}).receive("timeout",()=>{s(),l("timed out")}).receive("error",()=>{l("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=He.closed,this.bindings={}}async _fetchWithTimeout(r,s,o){const l=new AbortController,u=setTimeout(()=>l.abort(),o),h=await this.socket.fetch(r,Object.assign(Object.assign({},s),{signal:l.signal}));return clearTimeout(u),h}_push(r,s,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new xl(this,r,s,o);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>Wv){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(r,s,o){return s}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,s,o){var l,u;const h=r.toLocaleLowerCase(),{close:f,error:m,leave:v,join:y}=zt;if(o&&[f,m,v,y].indexOf(h)>=0&&o!==this._joinRef())return;let k=this._onMessage(h,s,o);if(s&&!k)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(E=>{var C,N,j;return((C=E.filter)===null||C===void 0?void 0:C.event)==="*"||((j=(N=E.filter)===null||N===void 0?void 0:N.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===h}).map(E=>E.callback(k,o)):(u=this.bindings[h])===null||u===void 0||u.filter(E=>{var C,N,j,U,A,L;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in E){const K=E.id,de=(C=E.filter)===null||C===void 0?void 0:C.event;return K&&((N=s.ids)===null||N===void 0?void 0:N.includes(K))&&(de==="*"||(de==null?void 0:de.toLocaleLowerCase())===((j=s.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const K=(A=(U=E==null?void 0:E.filter)===null||U===void 0?void 0:U.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return K==="*"||K===((L=s==null?void 0:s.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===h}).map(E=>{if(typeof k=="object"&&"ids"in k){const C=k.data,{schema:N,table:j,commit_timestamp:U,type:A,errors:L}=C;k=Object.assign(Object.assign({},{schema:N,table:j,commit_timestamp:U,eventType:A,new:{},old:{},errors:L}),this._getPayloadRecords(C))}E.callback(k,o)})}_isClosed(){return this.state===He.closed}_isJoined(){return this.state===He.joined}_isJoining(){return this.state===He.joining}_isLeaving(){return this.state===He.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,s,o){const l=r.toLocaleLowerCase(),u={type:l,filter:s,callback:o};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(r,s){const o=r.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===o&&Bn.isEqual(l.filter,s))})),this}static isEqual(r,s){if(Object.keys(r).length!==Object.keys(s).length)return!1;for(const o in r)if(r[o]!==s[o])return!1;return!0}static isFilterValueEqual(r,s){return(r??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(zt.close,{},r)}_onError(r){this._on(zt.error,{},s=>r(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=He.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const s={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(s.new=fh(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(s.old=fh(r.columns,r.old_record)),s}}const bl=()=>{},ho={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Yv=[1e3,2e3,5e3,1e4],Xv=1e4,Zv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ey{constructor(r,s){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Il,this.transport=null,this.heartbeatIntervalMs=ho.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bl,this.ref=0,this.reconnectTimer=null,this.vsn=hh,this.logger=bl,this.conn=null,this.sendBuffer=[],this.serializer=new qv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=l=>l?(...u)=>l(...u):(...u)=>fetch(...u),!(!((o=s==null?void 0:s.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${r}/${Al.websocket}`,this.httpEndpoint=uf(r),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Uv.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const s=r.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const s=await r.unsubscribe();return s==="ok"&&this._remove(r),this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const r=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,s,o){this.logger(r,s,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Rr.connecting:return Zr.Connecting;case Rr.open:return Zr.Open;case Rr.closing:return Zr.Closing;default:return Zr.Closed}}isConnected(){return this.connectionState()===Zr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,s={config:{}}){const o=`realtime:${r}`,l=this.getChannels().find(u=>u.topic===o);if(l)return l;{const u=new Bn(`realtime:${r}`,s,this);return this.channels.push(u),u}}push(r){const{topic:s,event:o,payload:l,ref:u}=r,h=()=>{this.encode(r,f=>{var m;(m=this.conn)===null||m===void 0||m.send(f)})};this.log("push",`${s} ${o} (${u})`,l),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(Fv,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},ho.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let s=this.channels.find(o=>o.topic===r&&(o._isJoined()||o._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${r}"`),s.unsubscribe())}_remove(r){this.channels=this.channels.filter(s=>s.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const v=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",v)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:o,event:l,payload:u,ref:h}=s,f=h?`(${h})`:"",m=u.status||"";this.log("receive",`${m} ${o} ${l} ${f}`.trim(),u),this.channels.filter(v=>v._isMember(o)).forEach(v=>v._trigger(l,u,h)),this._triggerStateCallbacks("message",s)})}_clearTimer(r){var s;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r),this.conn.readyState===Rr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Rr.open||this.conn.readyState===Rr.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(r){var s;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r);try{this.heartbeatCallback("error")}catch(s){this.log("error","error in heartbeat callback",s)}}_triggerChanError(){this.channels.forEach(r=>r._trigger(zt.error))}_appendParams(r,s){if(Object.keys(s).length===0)return r;const o=r.match(/\?/)?"&":"?",l=new URLSearchParams(s);return`${r}${o}${l}`}_workerObjectUrl(r){let s;if(r)s=r;else{const o=new Blob([Zv],{type:"application/javascript"});s=URL.createObjectURL(o)}return s}_setConnectionState(r,s=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(r=null){let s,o=!1;if(r)s=r,o=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),s=this.accessTokenValue}else s=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(l=>{const u={access_token:s,version:Mv};s&&l.updateJoinPayload(u),l.joinedOnce&&l._isJoined()&&l._push(zt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${r}`,s)})}_triggerStateCallbacks(r,s){try{this.stateChangeCallbacks[r].forEach(o=>{try{o(s)}catch(l){this.log("error",`error in ${r} callback`,l)}})}catch(o){this.log("error",`error triggering ${r} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new af(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ho.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var s,o,l,u,h,f,m,v,y,_,k,E;switch(this.transport=(s=r==null?void 0:r.transport)!==null&&s!==void 0?s:null,this.timeout=(o=r==null?void 0:r.timeout)!==null&&o!==void 0?o:Il,this.heartbeatIntervalMs=(l=r==null?void 0:r.heartbeatIntervalMs)!==null&&l!==void 0?l:ho.HEARTBEAT_INTERVAL,this.worker=(u=r==null?void 0:r.worker)!==null&&u!==void 0?u:!1,this.accessToken=(h=r==null?void 0:r.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(f=r==null?void 0:r.heartbeatCallback)!==null&&f!==void 0?f:bl,this.vsn=(m=r==null?void 0:r.vsn)!==null&&m!==void 0?m:hh,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=r==null?void 0:r.reconnectAfterMs)!==null&&v!==void 0?v:(C=>Yv[C-1]||Xv),this.vsn){case zv:this.encode=(y=r==null?void 0:r.encode)!==null&&y!==void 0?y:((C,N)=>N(JSON.stringify(C))),this.decode=(_=r==null?void 0:r.decode)!==null&&_!==void 0?_:((C,N)=>N(JSON.parse(C)));break;case of:this.encode=(k=r==null?void 0:r.encode)!==null&&k!==void 0?k:this.serializer.encode.bind(this.serializer),this.decode=(E=r==null?void 0:r.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}var Ms=class extends Error{constructor(n,r){var s;super(n),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&((s=r.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function ty(n,r,s){const o=new URL(r,n);if(s)for(const[l,u]of Object.entries(s))u!==void 0&&o.searchParams.set(l,u);return o.toString()}async function ry(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function ny(n){const r=n.fetchImpl??globalThis.fetch;return{async request({method:s,path:o,query:l,body:u,headers:h}){const f=ty(n.baseUrl,o,l),m=await ry(n.auth),v=await r(f,{method:s,headers:{...u?{"Content-Type":"application/json"}:{},...m,...h},body:u?JSON.stringify(u):void 0}),y=await v.text(),_=(v.headers.get("content-type")||"").includes("application/json"),k=_&&y?JSON.parse(y):y;if(!v.ok){const E=_?k:void 0,C=E==null?void 0:E.error;throw new Ms((C==null?void 0:C.message)??`Request failed with status ${v.status}`,{status:v.status,icebergType:C==null?void 0:C.type,icebergCode:C==null?void 0:C.code,details:E})}return{status:v.status,headers:v.headers,data:k}}}}function fo(n){return n.join("")}var sy=class{constructor(n,r=""){this.client=n,this.prefix=r}async listNamespaces(n){const r=n?{parent:fo(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(n,r){const s={namespace:n.namespace,properties:r==null?void 0:r.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${fo(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fo(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${fo(n.namespace)}`}),!0}catch(r){if(r instanceof Ms&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(n,r){try{return await this.createNamespace(n,r)}catch(s){if(s instanceof Ms&&s.status===409)return;throw s}}};function Pn(n){return n.join("")}var iy=class{constructor(n,r="",s){this.client=n,this.prefix=r,this.accessDelegation=s}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Pn(n.namespace)}/tables`})).data.identifiers}async createTable(n,r){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Pn(n.namespace)}/tables`,body:r,headers:s})).data.metadata}async updateTable(n,r){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Pn(n.namespace)}/tables/${n.name}`,body:r});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(n,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Pn(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String((r==null?void 0:r.purge)??!1)}})}async loadTable(n){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Pn(n.namespace)}/tables/${n.name}`,headers:r})).data.metadata}async tableExists(n){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Pn(n.namespace)}/tables/${n.name}`,headers:r}),!0}catch(s){if(s instanceof Ms&&s.status===404)return!1;throw s}}async createTableIfNotExists(n,r){try{return await this.createTable(n,r)}catch(s){if(s instanceof Ms&&s.status===409)return await this.loadTable({namespace:n.namespace,name:r.name});throw s}}},oy=class{constructor(n){var o;let r="v1";n.catalogName&&(r+=`/${n.catalogName}`);const s=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=ny({baseUrl:s,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=(o=n.accessDelegation)==null?void 0:o.join(","),this.namespaceOps=new sy(this.client,r),this.tableOps=new iy(this.client,r,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,r){return this.namespaceOps.createNamespace(n,r)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,r){return this.tableOps.createTable(n,r)}async updateTable(n,r){return this.tableOps.updateTable(n,r)}async dropTable(n,r){await this.tableOps.dropTable(n,r)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,r){return this.namespaceOps.createNamespaceIfNotExists(n,r)}async createTableIfNotExists(n,r){return this.tableOps.createTableIfNotExists(n,r)}},Eo=class extends Error{constructor(n,r="storage",s,o){super(n),this.__isStorageError=!0,this.namespace=r,this.name=r==="vectors"?"StorageVectorsError":"StorageError",this.status=s,this.statusCode=o}};function jo(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var po=class extends Eo{constructor(n,r,s,o="storage"){super(n,o,r,s),this.name=o==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},cf=class extends Eo{constructor(n,r,s="storage"){super(n,s),this.name=s==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=r}};const ay=n=>n?(...r)=>n(...r):(...r)=>fetch(...r),ly=n=>{if(typeof n!="object"||n===null)return!1;const r=Object.getPrototypeOf(n);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Dl=n=>{if(Array.isArray(n))return n.map(s=>Dl(s));if(typeof n=="function"||n!==Object(n))return n;const r={};return Object.entries(n).forEach(([s,o])=>{const l=s.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[l]=Dl(o)}),r},uy=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function zs(n){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zs(n)}function cy(n,r){if(zs(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var o=s.call(n,r);if(zs(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function dy(n){var r=cy(n,"string");return zs(r)=="symbol"?r:r+""}function hy(n,r,s){return(r=dy(r))in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s,n}function gh(n,r){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);r&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),s.push.apply(s,o)}return s}function se(n){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?gh(Object(s),!0).forEach(function(o){hy(n,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):gh(Object(s)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(s,o))})}return n}const vh=n=>{var r;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(r=n.error)===null||r===void 0?void 0:r.message)||JSON.stringify(n)},fy=async(n,r,s,o)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(s!=null&&s.noResolveJson)){const l=n,u=l.status||500;if(typeof l.json=="function")l.json().then(h=>{const f=(h==null?void 0:h.statusCode)||(h==null?void 0:h.code)||u+"";r(new po(vh(h),u,f,o))}).catch(()=>{if(o==="vectors"){const h=u+"";r(new po(l.statusText||`HTTP ${u} error`,u,h,o))}else{const h=u+"";r(new po(l.statusText||`HTTP ${u} error`,u,h,o))}});else{const h=u+"";r(new po(l.statusText||`HTTP ${u} error`,u,h,o))}}else r(new cf(vh(n),n,o))},py=(n,r,s,o)=>{const l={method:n,headers:(r==null?void 0:r.headers)||{}};return n==="GET"||n==="HEAD"||!o?se(se({},l),s):(ly(o)?(l.headers=se({"Content-Type":"application/json"},r==null?void 0:r.headers),l.body=JSON.stringify(o)):l.body=o,r!=null&&r.duplex&&(l.duplex=r.duplex),se(se({},l),s))};async function Ns(n,r,s,o,l,u,h){return new Promise((f,m)=>{n(s,py(r,o,l,u)).then(v=>{if(!v.ok)throw v;if(o!=null&&o.noResolveJson)return v;if(h==="vectors"){const y=v.headers.get("content-type");if(v.headers.get("content-length")==="0"||v.status===204)return{};if(!y||!y.includes("application/json"))return{}}return v.json()}).then(v=>f(v)).catch(v=>fy(v,m,o,h))})}function df(n="storage"){return{get:async(r,s,o,l)=>Ns(r,"GET",s,o,l,void 0,n),post:async(r,s,o,l,u)=>Ns(r,"POST",s,l,u,o,n),put:async(r,s,o,l,u)=>Ns(r,"PUT",s,l,u,o,n),head:async(r,s,o,l)=>Ns(r,"HEAD",s,se(se({},o),{},{noResolveJson:!0}),l,void 0,n),remove:async(r,s,o,l,u)=>Ns(r,"DELETE",s,l,u,o,n)}}const my=df("storage"),{get:Fs,post:Mt,put:$l,head:gy,remove:Yl}=my,Et=df("vectors");var Fn=class{constructor(n,r={},s,o="storage"){this.shouldThrowOnError=!1,this.url=n,this.headers=r,this.fetch=ay(s),this.namespace=o}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(n){var r=this;try{return{data:await n(),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(jo(s))return{data:null,error:s};throw s}}},vy=class{constructor(n,r){this.downloadFn=n,this.shouldThrowOnError=r}then(n,r){return this.execute().then(n,r)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(jo(r))return{data:null,error:r};throw r}}};let hf;hf=Symbol.toStringTag;var yy=class{constructor(n,r){this.downloadFn=n,this.shouldThrowOnError=r,this[hf]="BlobDownloadBuilder",this.promise=null}asStream(){return new vy(this.downloadFn,this.shouldThrowOnError)}then(n,r){return this.getPromise().then(n,r)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(jo(r))return{data:null,error:r};throw r}}};const wy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var _y=class extends Fn{constructor(n,r={},s,o){super(n,r,o,"storage"),this.bucketId=s}async uploadOrUpdate(n,r,s,o){var l=this;return l.handleOperation(async()=>{let u;const h=se(se({},yh),o);let f=se(se({},l.headers),n==="POST"&&{"x-upsert":String(h.upsert)});const m=h.metadata;typeof Blob<"u"&&s instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),m&&u.append("metadata",l.encodeMetadata(m)),u.append("",s)):typeof FormData<"u"&&s instanceof FormData?(u=s,u.has("cacheControl")||u.append("cacheControl",h.cacheControl),m&&!u.has("metadata")&&u.append("metadata",l.encodeMetadata(m))):(u=s,f["cache-control"]=`max-age=${h.cacheControl}`,f["content-type"]=h.contentType,m&&(f["x-metadata"]=l.toBase64(l.encodeMetadata(m))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!h.duplex&&(h.duplex="half")),o!=null&&o.headers&&(f=se(se({},f),o.headers));const v=l._removeEmptyFolders(r),y=l._getFinalPath(v),_=await(n=="PUT"?$l:Mt)(l.fetch,`${l.url}/object/${y}`,u,se({headers:f},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{path:v,id:_.Id,fullPath:_.Key}})}async upload(n,r,s){return this.uploadOrUpdate("POST",n,r,s)}async uploadToSignedUrl(n,r,s,o){var l=this;const u=l._removeEmptyFolders(n),h=l._getFinalPath(u),f=new URL(l.url+`/object/upload/sign/${h}`);return f.searchParams.set("token",r),l.handleOperation(async()=>{let m;const v=se({upsert:yh.upsert},o),y=se(se({},l.headers),{"x-upsert":String(v.upsert)});return typeof Blob<"u"&&s instanceof Blob?(m=new FormData,m.append("cacheControl",v.cacheControl),m.append("",s)):typeof FormData<"u"&&s instanceof FormData?(m=s,m.append("cacheControl",v.cacheControl)):(m=s,y["cache-control"]=`max-age=${v.cacheControl}`,y["content-type"]=v.contentType),{path:u,fullPath:(await $l(l.fetch,f.toString(),m,{headers:y})).Key}})}async createSignedUploadUrl(n,r){var s=this;return s.handleOperation(async()=>{let o=s._getFinalPath(n);const l=se({},s.headers);r!=null&&r.upsert&&(l["x-upsert"]="true");const u=await Mt(s.fetch,`${s.url}/object/upload/sign/${o}`,{},{headers:l}),h=new URL(s.url+u.url),f=h.searchParams.get("token");if(!f)throw new Eo("No token returned by API");return{signedUrl:h.toString(),path:n,token:f}})}async update(n,r,s){return this.uploadOrUpdate("PUT",n,r,s)}async move(n,r,s){var o=this;return o.handleOperation(async()=>await Mt(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:n,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:o.headers}))}async copy(n,r,s){var o=this;return o.handleOperation(async()=>({path:(await Mt(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:n,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:o.headers})).Key}))}async createSignedUrl(n,r,s){var o=this;return o.handleOperation(async()=>{let l=o._getFinalPath(n),u=await Mt(o.fetch,`${o.url}/object/sign/${l}`,se({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:o.headers});const h=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{signedUrl:encodeURI(`${o.url}${u.signedURL}${h}`)}})}async createSignedUrls(n,r,s){var o=this;return o.handleOperation(async()=>{const l=await Mt(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:r,paths:n},{headers:o.headers}),u=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return l.map(h=>se(se({},h),{},{signedUrl:h.signedURL?encodeURI(`${o.url}${h.signedURL}${u}`):null}))})}download(n,r,s){const o=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),u=l?`?${l}`:"",h=this._getFinalPath(n),f=()=>Fs(this.fetch,`${this.url}/${o}/${h}${u}`,{headers:this.headers,noResolveJson:!0},s);return new yy(f,this.shouldThrowOnError)}async info(n){var r=this;const s=r._getFinalPath(n);return r.handleOperation(async()=>Dl(await Fs(r.fetch,`${r.url}/object/info/${s}`,{headers:r.headers})))}async exists(n){var r=this;const s=r._getFinalPath(n);try{return await gy(r.fetch,`${r.url}/object/${s}`,{headers:r.headers}),{data:!0,error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(jo(o)&&o instanceof cf){const l=o.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:o}}throw o}}getPublicUrl(n,r){const s=this._getFinalPath(n),o=[],l=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&o.push(l);const u=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});h!==""&&o.push(h);let f=o.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${s}${f}`)}}}async remove(n){var r=this;return r.handleOperation(async()=>await Yl(r.fetch,`${r.url}/object/${r.bucketId}`,{prefixes:n},{headers:r.headers}))}async list(n,r,s){var o=this;return o.handleOperation(async()=>{const l=se(se(se({},wy),r),{},{prefix:n||""});return await Mt(o.fetch,`${o.url}/object/list/${o.bucketId}`,l,{headers:o.headers},s)})}async listV2(n,r){var s=this;return s.handleOperation(async()=>{const o=se({},n);return await Mt(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,o,{headers:s.headers},r)})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const r=[];return n.width&&r.push(`width=${n.width}`),n.height&&r.push(`height=${n.height}`),n.resize&&r.push(`resize=${n.resize}`),n.format&&r.push(`format=${n.format}`),n.quality&&r.push(`quality=${n.quality}`),r.join("&")}};const ky="2.95.3",Js={"X-Client-Info":`storage-js/${ky}`};var Sy=class extends Fn{constructor(n,r={},s,o){const l=new URL(n);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase."));const u=l.href.replace(/\/$/,""),h=se(se({},Js),r);super(u,h,s,"storage")}async listBuckets(n){var r=this;return r.handleOperation(async()=>{const s=r.listBucketOptionsToQueryString(n);return await Fs(r.fetch,`${r.url}/bucket${s}`,{headers:r.headers})})}async getBucket(n){var r=this;return r.handleOperation(async()=>await Fs(r.fetch,`${r.url}/bucket/${n}`,{headers:r.headers}))}async createBucket(n,r={public:!1}){var s=this;return s.handleOperation(async()=>await Mt(s.fetch,`${s.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:s.headers}))}async updateBucket(n,r){var s=this;return s.handleOperation(async()=>await $l(s.fetch,`${s.url}/bucket/${n}`,{id:n,name:n,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:s.headers}))}async emptyBucket(n){var r=this;return r.handleOperation(async()=>await Mt(r.fetch,`${r.url}/bucket/${n}/empty`,{},{headers:r.headers}))}async deleteBucket(n){var r=this;return r.handleOperation(async()=>await Yl(r.fetch,`${r.url}/bucket/${n}`,{},{headers:r.headers}))}listBucketOptionsToQueryString(n){const r={};return n&&("limit"in n&&(r.limit=String(n.limit)),"offset"in n&&(r.offset=String(n.offset)),n.search&&(r.search=n.search),n.sortColumn&&(r.sortColumn=n.sortColumn),n.sortOrder&&(r.sortOrder=n.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}},xy=class extends Fn{constructor(n,r={},s){const o=n.replace(/\/$/,""),l=se(se({},Js),r);super(o,l,s,"storage")}async createBucket(n){var r=this;return r.handleOperation(async()=>await Mt(r.fetch,`${r.url}/bucket`,{name:n},{headers:r.headers}))}async listBuckets(n){var r=this;return r.handleOperation(async()=>{const s=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&s.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&s.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&s.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&s.set("sortOrder",n.sortOrder),n!=null&&n.search&&s.set("search",n.search);const o=s.toString(),l=o?`${r.url}/bucket?${o}`:`${r.url}/bucket`;return await Fs(r.fetch,l,{headers:r.headers})})}async deleteBucket(n){var r=this;return r.handleOperation(async()=>await Yl(r.fetch,`${r.url}/bucket/${n}`,{},{headers:r.headers}))}from(n){var r=this;if(!uy(n))throw new Eo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new oy({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>r.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(s,{get(l,u){const h=l[u];return typeof h!="function"?h:async(...f)=>{try{return{data:await h.apply(l,f),error:null}}catch(m){if(o)throw m;return{data:null,error:m}}}}})}},by=class extends Fn{constructor(n,r={},s){const o=n.replace(/\/$/,""),l=se(se({},Js),{},{"Content-Type":"application/json"},r);super(o,l,s,"vectors")}async createIndex(n){var r=this;return r.handleOperation(async()=>await Et.post(r.fetch,`${r.url}/CreateIndex`,n,{headers:r.headers})||{})}async getIndex(n,r){var s=this;return s.handleOperation(async()=>await Et.post(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:n,indexName:r},{headers:s.headers}))}async listIndexes(n){var r=this;return r.handleOperation(async()=>await Et.post(r.fetch,`${r.url}/ListIndexes`,n,{headers:r.headers}))}async deleteIndex(n,r){var s=this;return s.handleOperation(async()=>await Et.post(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:n,indexName:r},{headers:s.headers})||{})}},Ey=class extends Fn{constructor(n,r={},s){const o=n.replace(/\/$/,""),l=se(se({},Js),{},{"Content-Type":"application/json"},r);super(o,l,s,"vectors")}async putVectors(n){var r=this;if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return r.handleOperation(async()=>await Et.post(r.fetch,`${r.url}/PutVectors`,n,{headers:r.headers})||{})}async getVectors(n){var r=this;return r.handleOperation(async()=>await Et.post(r.fetch,`${r.url}/GetVectors`,n,{headers:r.headers}))}async listVectors(n){var r=this;if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return r.handleOperation(async()=>await Et.post(r.fetch,`${r.url}/ListVectors`,n,{headers:r.headers}))}async queryVectors(n){var r=this;return r.handleOperation(async()=>await Et.post(r.fetch,`${r.url}/QueryVectors`,n,{headers:r.headers}))}async deleteVectors(n){var r=this;if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return r.handleOperation(async()=>await Et.post(r.fetch,`${r.url}/DeleteVectors`,n,{headers:r.headers})||{})}},jy=class extends Fn{constructor(n,r={},s){const o=n.replace(/\/$/,""),l=se(se({},Js),{},{"Content-Type":"application/json"},r);super(o,l,s,"vectors")}async createBucket(n){var r=this;return r.handleOperation(async()=>await Et.post(r.fetch,`${r.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:r.headers})||{})}async getBucket(n){var r=this;return r.handleOperation(async()=>await Et.post(r.fetch,`${r.url}/GetVectorBucket`,{vectorBucketName:n},{headers:r.headers}))}async listBuckets(n={}){var r=this;return r.handleOperation(async()=>await Et.post(r.fetch,`${r.url}/ListVectorBuckets`,n,{headers:r.headers}))}async deleteBucket(n){var r=this;return r.handleOperation(async()=>await Et.post(r.fetch,`${r.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:r.headers})||{})}},Cy=class extends jy{constructor(n,r={}){super(n,r.headers||{},r.fetch)}from(n){return new Ty(this.url,this.headers,n,this.fetch)}async createBucket(n){var r=()=>super.createBucket,s=this;return r().call(s,n)}async getBucket(n){var r=()=>super.getBucket,s=this;return r().call(s,n)}async listBuckets(n={}){var r=()=>super.listBuckets,s=this;return r().call(s,n)}async deleteBucket(n){var r=()=>super.deleteBucket,s=this;return r().call(s,n)}},Ty=class extends by{constructor(n,r,s,o){super(n,r,o),this.vectorBucketName=s}async createIndex(n){var r=()=>super.createIndex,s=this;return r().call(s,se(se({},n),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(n={}){var r=()=>super.listIndexes,s=this;return r().call(s,se(se({},n),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(n){var r=()=>super.getIndex,s=this;return r().call(s,s.vectorBucketName,n)}async deleteIndex(n){var r=()=>super.deleteIndex,s=this;return r().call(s,s.vectorBucketName,n)}index(n){return new Ry(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},Ry=class extends Ey{constructor(n,r,s,o,l){super(n,r,l),this.vectorBucketName=s,this.indexName=o}async putVectors(n){var r=()=>super.putVectors,s=this;return r().call(s,se(se({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(n){var r=()=>super.getVectors,s=this;return r().call(s,se(se({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(n={}){var r=()=>super.listVectors,s=this;return r().call(s,se(se({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(n){var r=()=>super.queryVectors,s=this;return r().call(s,se(se({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(n){var r=()=>super.deleteVectors,s=this;return r().call(s,se(se({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},Py=class extends Sy{constructor(n,r={},s,o){super(n,r,s,o)}from(n){return new _y(this.url,this.headers,n,this.fetch)}get vectors(){return new Cy(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new xy(this.url+"/iceberg",this.headers,this.fetch)}};const ff="2.95.3",$n=30*1e3,Ul=3,El=Ul*$n,Oy="http://localhost:9999",Ny="supabase.auth.token",Iy={"X-Client-Info":`gotrue-js/${ff}`},Bl="X-Supabase-Api-Version",pf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ay=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ly=600*1e3;class Ws extends Error{constructor(r,s,o){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=o}}function ee(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class Dy extends Ws{constructor(r,s,o){super(r,s,o),this.name="AuthApiError",this.status=s,this.code=o}}function $y(n){return ee(n)&&n.name==="AuthApiError"}class en extends Ws{constructor(r,s){super(r),this.name="AuthUnknownError",this.originalError=s}}class ar extends Ws{constructor(r,s,o,l){super(r,o,l),this.name=s,this.status=o}}class bt extends ar{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jl(n){return ee(n)&&n.name==="AuthSessionMissingError"}class On extends ar{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class mo extends ar{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class go extends ar{constructor(r,s=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Uy(n){return ee(n)&&n.name==="AuthImplicitGrantRedirectError"}class wh extends ar{constructor(r,s=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class By extends ar{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ml extends ar{constructor(r,s){super(r,"AuthRetryableFetchError",s,void 0)}}function Cl(n){return ee(n)&&n.name==="AuthRetryableFetchError"}class _h extends ar{constructor(r,s,o){super(r,"AuthWeakPasswordError",s,"weak_password"),this.reasons=o}}class zl extends ar{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const _o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kh=` 	
\r=`.split(""),My=(()=>{const n=new Array(128);for(let r=0;r<n.length;r+=1)n[r]=-1;for(let r=0;r<kh.length;r+=1)n[kh[r].charCodeAt(0)]=-2;for(let r=0;r<_o.length;r+=1)n[_o[r].charCodeAt(0)]=r;return n})();function Sh(n,r,s){if(n!==null)for(r.queue=r.queue<<8|n,r.queuedBits+=8;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;s(_o[o]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;s(_o[o]),r.queuedBits-=6}}function mf(n,r,s){const o=My[n];if(o>-1)for(r.queue=r.queue<<6|o,r.queuedBits+=6;r.queuedBits>=8;)s(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function xh(n){const r=[],s=h=>{r.push(String.fromCodePoint(h))},o={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=h=>{Wy(h,o,s)};for(let h=0;h<n.length;h+=1)mf(n.charCodeAt(h),l,u);return r.join("")}function zy(n,r){if(n<=127){r(n);return}else if(n<=2047){r(192|n>>6),r(128|n&63);return}else if(n<=65535){r(224|n>>12),r(128|n>>6&63),r(128|n&63);return}else if(n<=1114111){r(240|n>>18),r(128|n>>12&63),r(128|n>>6&63),r(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Fy(n,r){for(let s=0;s<n.length;s+=1){let o=n.charCodeAt(s);if(o>55295&&o<=56319){const l=(o-55296)*1024&65535;o=(n.charCodeAt(s+1)-56320&65535|l)+65536,s+=1}zy(o,r)}}function Wy(n,r,s){if(r.utf8seq===0){if(n<=127){s(n);return}for(let o=1;o<6;o+=1)if((n>>7-o&1)===0){r.utf8seq=o;break}if(r.utf8seq===2)r.codepoint=n&31;else if(r.utf8seq===3)r.codepoint=n&15;else if(r.utf8seq===4)r.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|n&63,r.utf8seq-=1,r.utf8seq===0&&s(r.codepoint)}}function Mn(n){const r=[],s={queue:0,queuedBits:0},o=l=>{r.push(l)};for(let l=0;l<n.length;l+=1)mf(n.charCodeAt(l),s,o);return new Uint8Array(r)}function qy(n){const r=[];return Fy(n,s=>r.push(s)),new Uint8Array(r)}function tn(n){const r=[],s={queue:0,queuedBits:0},o=l=>{r.push(l)};return n.forEach(l=>Sh(l,s,o)),Sh(null,s,o),r.join("")}function Vy(n){return Math.round(Date.now()/1e3)+n}function Hy(){return Symbol("auth-callback")}const tt=()=>typeof window<"u"&&typeof document<"u",Qr={tested:!1,writable:!1},gf=()=>{if(!tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qr.tested)return Qr.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Qr.tested=!0,Qr.writable=!0}catch{Qr.tested=!0,Qr.writable=!1}return Qr.writable};function Gy(n){const r={},s=new URL(n);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((l,u)=>{r[u]=l})}catch{}return s.searchParams.forEach((o,l)=>{r[l]=o}),r}const vf=n=>n?(...r)=>n(...r):(...r)=>fetch(...r),Ky=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Un=async(n,r,s)=>{await n.setItem(r,JSON.stringify(s))},Yr=async(n,r)=>{const s=await n.getItem(r);if(!s)return null;try{return JSON.parse(s)}catch{return s}},et=async(n,r)=>{await n.removeItem(r)};class Co{constructor(){this.promise=new Co.promiseConstructor((r,s)=>{this.resolve=r,this.reject=s})}}Co.promiseConstructor=Promise;function vo(n){const r=n.split(".");if(r.length!==3)throw new zl("Invalid JWT structure");for(let o=0;o<r.length;o++)if(!Ay.test(r[o]))throw new zl("JWT not in base64url format");return{header:JSON.parse(xh(r[0])),payload:JSON.parse(xh(r[1])),signature:Mn(r[2]),raw:{header:r[0],payload:r[1]}}}async function Jy(n){return await new Promise(r=>{setTimeout(()=>r(null),n)})}function Qy(n,r){return new Promise((o,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const h=await n(u);if(!r(u,null,h)){o(h);return}}catch(h){if(!r(u,h)){l(h);return}}})()})}function Yy(n){return("0"+n.toString(16)).substr(-2)}function Xy(){const r=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=s.length;let l="";for(let u=0;u<56;u++)l+=s.charAt(Math.floor(Math.random()*o));return l}return crypto.getRandomValues(r),Array.from(r,Yy).join("")}async function Zy(n){const s=new TextEncoder().encode(n),o=await crypto.subtle.digest("SHA-256",s),l=new Uint8Array(o);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function ew(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const s=await Zy(n);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Nn(n,r,s=!1){const o=Xy();let l=o;s&&(l+="/PASSWORD_RECOVERY"),await Un(n,`${r}-code-verifier`,l);const u=await ew(o);return[u,o===u?"plain":"s256"]}const tw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rw(n){const r=n.headers.get(Bl);if(!r||!r.match(tw))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function nw(n){if(!n)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(n<=r)throw new Error("JWT has expired")}function sw(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const iw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function In(n){if(!iw.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Tl(){const n={};return new Proxy(n,{get:(r,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ow(n,r){return new Proxy(n,{get:(s,o,l)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const u=o.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,o,l)}return!r.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(s,o,l)}})}function bh(n){return JSON.parse(JSON.stringify(n))}const Xr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),aw=[502,503,504];async function Eh(n){var r;if(!Ky(n))throw new Ml(Xr(n),0);if(aw.includes(n.status))throw new Ml(Xr(n),n.status);let s;try{s=await n.json()}catch(u){throw new en(Xr(u),u)}let o;const l=rw(n);if(l&&l.getTime()>=pf["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?o=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(o=s.error_code),o){if(o==="weak_password")throw new _h(Xr(s),n.status,((r=s.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(o==="session_not_found")throw new bt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((u,h)=>u&&typeof h=="string",!0))throw new _h(Xr(s),n.status,s.weak_password.reasons);throw new Dy(Xr(s),n.status||500,o)}const lw=(n,r,s,o)=>{const l={method:n,headers:(r==null?void 0:r.headers)||{}};return n==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),l.body=JSON.stringify(o),Object.assign(Object.assign({},l),s))};async function ne(n,r,s,o){var l;const u=Object.assign({},o==null?void 0:o.headers);u[Bl]||(u[Bl]=pf["2024-01-01"].name),o!=null&&o.jwt&&(u.Authorization=`Bearer ${o.jwt}`);const h=(l=o==null?void 0:o.query)!==null&&l!==void 0?l:{};o!=null&&o.redirectTo&&(h.redirect_to=o.redirectTo);const f=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",m=await uw(n,r,s+f,{headers:u,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(m):{data:Object.assign({},m),error:null}}async function uw(n,r,s,o,l,u){const h=lw(r,o,l,u);let f;try{f=await n(s,Object.assign({},h))}catch(m){throw console.error(m),new Ml(Xr(m),0)}if(f.ok||await Eh(f),o!=null&&o.noResolveJson)return f;try{return await f.json()}catch(m){await Eh(m)}}function Bt(n){var r;let s=null;hw(n)&&(s=Object.assign({},n),n.expires_at||(s.expires_at=Vy(n.expires_in)));const o=(r=n.user)!==null&&r!==void 0?r:n;return{data:{session:s,user:o},error:null}}function jh(n){const r=Bt(n);return!r.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0)&&(r.data.weak_password=n.weak_password),r}function Pr(n){var r;return{data:{user:(r=n.user)!==null&&r!==void 0?r:n},error:null}}function cw(n){return{data:n,error:null}}function dw(n){const{action_link:r,email_otp:s,hashed_token:o,redirect_to:l,verification_type:u}=n,h=bo(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:r,email_otp:s,hashed_token:o,redirect_to:l,verification_type:u},m=Object.assign({},h);return{data:{properties:f,user:m},error:null}}function Ch(n){return n}function hw(n){return n.access_token&&n.refresh_token&&n.expires_in}const Rl=["global","local","others"];class fw{constructor({url:r="",headers:s={},fetch:o}){this.url=r,this.headers=s,this.fetch=vf(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,s=Rl[0]){if(Rl.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rl.join(", ")}`);try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(ee(o))return{data:null,error:o};throw o}}async inviteUserByEmail(r,s={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Pr})}catch(o){if(ee(o))return{data:{user:null},error:o};throw o}}async generateLink(r){try{const{options:s}=r,o=bo(r,["options"]),l=Object.assign(Object.assign({},o),s);return"newEmail"in o&&(l.new_email=o==null?void 0:o.newEmail,delete l.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:dw,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(ee(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(r){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Pr})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async listUsers(r){var s,o,l,u,h,f,m;try{const v={nextPage:null,lastPage:0,total:0},y=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=r==null?void 0:r.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(u=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:Ch});if(y.error)throw y.error;const _=await y.json(),k=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,E=(m=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return E.length>0&&(E.forEach(C=>{const N=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(C.split(";")[1].split("=")[1]);v[`${j}Page`]=N}),v.total=parseInt(k)),{data:Object.assign(Object.assign({},_),v),error:null}}catch(v){if(ee(v))return{data:{users:[]},error:v};throw v}}async getUserById(r){In(r);try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Pr})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async updateUserById(r,s){In(r);try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:s,headers:this.headers,xform:Pr})}catch(o){if(ee(o))return{data:{user:null},error:o};throw o}}async deleteUser(r,s=!1){In(r);try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:s},xform:Pr})}catch(o){if(ee(o))return{data:{user:null},error:o};throw o}}async _listFactors(r){In(r.userId);try{const{data:s,error:o}=await ne(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:s,error:o}}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _deleteFactor(r){In(r.userId),In(r.id);try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _listOAuthClients(r){var s,o,l,u,h,f,m;try{const v={nextPage:null,lastPage:0,total:0},y=await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=r==null?void 0:r.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(u=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:Ch});if(y.error)throw y.error;const _=await y.json(),k=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,E=(m=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return E.length>0&&(E.forEach(C=>{const N=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(C.split(";")[1].split("=")[1]);v[`${j}Page`]=N}),v.total=parseInt(k)),{data:Object.assign(Object.assign({},_),v),error:null}}catch(v){if(ee(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(r){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _getOAuthClient(r){try{return await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _updateOAuthClient(r,s){try{return await ne(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:s,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(ee(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(r){try{return await ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(r){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ee(s))return{data:null,error:s};throw s}}}function Th(n={}){return{getItem:r=>n[r]||null,setItem:(r,s)=>{n[r]=s},removeItem:r=>{delete n[r]}}}const An={debug:!!(globalThis&&gf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yf extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class pw extends yf{}async function mw(n,r,s){An.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,r);const o=new globalThis.AbortController;return r>0&&setTimeout(()=>{o.abort(),An.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async l=>{if(l){An.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,l.name);try{return await s()}finally{An.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,l.name)}}else{if(r===0)throw An.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new pw(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(An.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function gw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function wf(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function vw(n){return parseInt(n,16)}function yw(n){const r=new TextEncoder().encode(n);return"0x"+Array.from(r,o=>o.toString(16).padStart(2,"0")).join("")}function ww(n){var r;const{chainId:s,domain:o,expirationTime:l,issuedAt:u=new Date,nonce:h,notBefore:f,requestId:m,resources:v,scheme:y,uri:_,version:k}=n;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(k!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${k}`);if(!((r=n.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const E=wf(n.address),C=y?`${y}://${o}`:o,N=n.statement?`${n.statement}
`:"",j=`${C} wants you to sign in with your Ethereum account:
${E}

${N}`;let U=`URI: ${_}
Version: ${k}
Chain ID: ${s}${h?`
Nonce: ${h}`:""}
Issued At: ${u.toISOString()}`;if(l&&(U+=`
Expiration Time: ${l.toISOString()}`),f&&(U+=`
Not Before: ${f.toISOString()}`),m&&(U+=`
Request ID: ${m}`),v){let A=`
Resources:`;for(const L of v){if(!L||typeof L!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${L}`);A+=`
- ${L}`}U+=A}return`${j}
${U}`}class ze extends Error{constructor({message:r,code:s,cause:o,name:l}){var u;super(r,{cause:o}),this.__isWebAuthnError=!0,this.name=(u=l??(o instanceof Error?o.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=s}}class ko extends ze{constructor(r,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:r}),this.name="WebAuthnUnknownError",this.originalError=s}}function _w({error:n,options:r}){var s,o,l;const{publicKey:u}=r;if(!u)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(r.signal instanceof AbortSignal)return new ze({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((s=u.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new ze({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(r.mediation==="conditional"&&((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ze({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new ze({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new ze({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new ze({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return u.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new ze({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new ze({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const h=window.location.hostname;if(_f(h)){if(u.rp.id!==h)return new ze({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new ze({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new ze({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function kw({error:n,options:r}){const{publicKey:s}=r;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(r.signal instanceof AbortSignal)return new ze({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new ze({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const o=window.location.hostname;if(_f(o)){if(s.rpId!==o)return new ze({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new ze({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class Sw{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const xw=new Sw;function bw(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:r,user:s,excludeCredentials:o}=n,l=bo(n,["challenge","user","excludeCredentials"]),u=Mn(r).buffer,h=Object.assign(Object.assign({},s),{id:Mn(s.id).buffer}),f=Object.assign(Object.assign({},l),{challenge:u,user:h});if(o&&o.length>0){f.excludeCredentials=new Array(o.length);for(let m=0;m<o.length;m++){const v=o[m];f.excludeCredentials[m]=Object.assign(Object.assign({},v),{id:Mn(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return f}function Ew(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:r,allowCredentials:s}=n,o=bo(n,["challenge","allowCredentials"]),l=Mn(r).buffer,u=Object.assign(Object.assign({},o),{challenge:l});if(s&&s.length>0){u.allowCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const f=s[h];u.allowCredentials[h]=Object.assign(Object.assign({},f),{id:Mn(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function jw(n){var r;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n;return{id:n.id,rawId:n.id,response:{attestationObject:tn(new Uint8Array(n.response.attestationObject)),clientDataJSON:tn(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(r=s.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Cw(n){var r;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n,o=n.getClientExtensionResults(),l=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:tn(new Uint8Array(l.authenticatorData)),clientDataJSON:tn(new Uint8Array(l.clientDataJSON)),signature:tn(new Uint8Array(l.signature)),userHandle:l.userHandle?tn(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(r=s.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function _f(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Rh(){var n,r;return!!(tt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function Tw(n){try{const r=await navigator.credentials.create(n);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new ko("Browser returned unexpected credential type",r)}:{data:null,error:new ko("Empty credential response",r)}}catch(r){return{data:null,error:_w({error:r,options:n})}}}async function Rw(n){try{const r=await navigator.credentials.get(n);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new ko("Browser returned unexpected credential type",r)}:{data:null,error:new ko("Empty credential response",r)}}catch(r){return{data:null,error:kw({error:r,options:n})}}}const Pw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Ow={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function So(...n){const r=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),s=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),o={};for(const l of n)if(l)for(const u in l){const h=l[u];if(h!==void 0)if(Array.isArray(h))o[u]=h;else if(s(h))o[u]=h;else if(r(h)){const f=o[u];r(f)?o[u]=So(f,h):o[u]=So(h)}else o[u]=h}return o}function Nw(n,r){return So(Pw,n,r||{})}function Iw(n,r){return So(Ow,n,r||{})}class Aw{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:s,friendlyName:o,signal:l},u){var h;try{const{data:f,error:m}=await this.client.mfa.challenge({factorId:r,webauthn:s});if(!f)return{data:null,error:m};const v=l??xw.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:y}=f.webauthn.credential_options.publicKey;if(!y.name){const _=o;if(_)y.name=`${y.id}:${_}`;else{const E=(await this.client.getUser()).data.user,C=((h=E==null?void 0:E.user_metadata)===null||h===void 0?void 0:h.name)||(E==null?void 0:E.email)||(E==null?void 0:E.id)||"User";y.name=`${y.id}:${C}`}}y.displayName||(y.displayName=y.name)}switch(f.webauthn.type){case"create":{const y=Nw(f.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:_,error:k}=await Tw({publicKey:y,signal:v});return _?{data:{factorId:r,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:_}},error:null}:{data:null,error:k}}case"request":{const y=Iw(f.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:_,error:k}=await Rw(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:y,signal:v}));return _?{data:{factorId:r,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:_}},error:null}:{data:null,error:k}}}}catch(f){return ee(f)?{data:null,error:f}:{data:null,error:new en("Unexpected error in challenge",f)}}}async _verify({challengeId:r,factorId:s,webauthn:o}){return this.client.mfa.verify({factorId:s,challengeId:r,webauthn:o})}async _authenticate({factorId:r,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!s)return{data:null,error:new Ws("rpId is required for WebAuthn authentication")};try{if(!Rh())return{data:null,error:new en("Browser does not support WebAuthn",null)};const{data:h,error:f}=await this.challenge({factorId:r,webauthn:{rpId:s,rpOrigins:o},signal:l},{request:u});if(!h)return{data:null,error:f};const{webauthn:m}=h;return this._verify({factorId:r,challengeId:h.challengeId,webauthn:{type:m.type,rpId:s,rpOrigins:o,credential_response:m.credential_response}})}catch(h){return ee(h)?{data:null,error:h}:{data:null,error:new en("Unexpected error in authenticate",h)}}}async _register({friendlyName:r,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!s)return{data:null,error:new Ws("rpId is required for WebAuthn registration")};try{if(!Rh())return{data:null,error:new en("Browser does not support WebAuthn",null)};const{data:h,error:f}=await this._enroll({friendlyName:r});if(!h)return await this.client.mfa.listFactors().then(y=>{var _;return(_=y.data)===null||_===void 0?void 0:_.all.find(k=>k.factor_type==="webauthn"&&k.friendly_name===r&&k.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:f};const{data:m,error:v}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:s,rpOrigins:o},signal:l},{create:u});return m?this._verify({factorId:h.id,challengeId:m.challengeId,webauthn:{rpId:s,rpOrigins:o,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:v}}catch(h){return ee(h)?{data:null,error:h}:{data:null,error:new en("Unexpected error in register",h)}}}}gw();const Lw={url:Oy,storageKey:Ny,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Iy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Ph(n,r,s){return await s()}const Ln={};class qs{get jwks(){var r,s;return(s=(r=Ln[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(r){Ln[this.storageKey]=Object.assign(Object.assign({},Ln[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,s;return(s=(r=Ln[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){Ln[this.storageKey]=Object.assign(Object.assign({},Ln[this.storageKey]),{cachedAt:r})}constructor(r){var s,o,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},Lw),r);if(this.storageKey=u.storageKey,this.instanceID=(s=qs.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,qs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&tt()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new fw({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=vf(u.fetch),this.lock=u.lock||Ph,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&tt()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=mw:this.lock=Ph,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Aw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:gf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Th(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Th(this.memoryStorage)),tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h);try{await this._notifyAllSubscribers(h.data.event,h.data.session,!1)}catch(f){this._debug("#broadcastChannel","error",f)}})}this.initialize().catch(h=>{this._debug("#initialize()","error",h)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ff}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let s={},o="none";if(tt()&&(s=Gy(window.location.href),this._isImplicitGrantCallback(s)?o="implicit":await this._isPKCECallback(s)&&(o="pkce")),tt()&&this.detectSessionInUrl&&o!=="none"){const{data:l,error:u}=await this._getSessionFromURL(s,o);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Uy(u)){const m=(r=u.details)===null||r===void 0?void 0:r.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:h,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",h,"redirect type",f),await this._saveSession(h),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ee(s)?this._returnResult({error:s}):this._returnResult({error:new en("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var s,o,l;try{const u=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(s=r==null?void 0:r.options)===null||s===void 0?void 0:s.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(l=r==null?void 0:r.options)===null||l===void 0?void 0:l.captchaToken}},xform:Bt}),{data:h,error:f}=u;if(f||!h)return this._returnResult({data:{user:null,session:null},error:f});const m=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(u){if(ee(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(r){var s,o,l;try{let u;if("email"in r){const{email:y,password:_,options:k}=r;let E=null,C=null;this.flowType==="pkce"&&([E,C]=await Nn(this.storage,this.storageKey)),u=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:k==null?void 0:k.emailRedirectTo,body:{email:y,password:_,data:(s=k==null?void 0:k.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken},code_challenge:E,code_challenge_method:C},xform:Bt})}else if("phone"in r){const{phone:y,password:_,options:k}=r;u=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:_,data:(o=k==null?void 0:k.data)!==null&&o!==void 0?o:{},channel:(l=k==null?void 0:k.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken}},xform:Bt})}else throw new mo("You must provide either an email or phone number and a password");const{data:h,error:f}=u;if(f||!h)return await et(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const m=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(u){if(await et(this.storage,`${this.storageKey}-code-verifier`),ee(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(r){try{let s;if("email"in r){const{email:u,password:h,options:f}=r;s=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:h,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:jh})}else if("phone"in r){const{phone:u,password:h,options:f}=r;s=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:h,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:jh})}else throw new mo("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o||!o.session||!o.user){const u=new On;return this._returnResult({data:{user:null,session:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:l})}catch(s){if(ee(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(r){var s,o,l,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(s=r.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=r.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=r.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:s}=r;switch(s){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(r){var s,o,l,u,h,f,m,v,y,_,k;let E,C;if("message"in r)E=r.message,C=r.signature;else{const{chain:N,wallet:j,statement:U,options:A}=r;let L;if(tt())if(typeof j=="object")L=j;else{const je=window;if("ethereum"in je&&typeof je.ethereum=="object"&&"request"in je.ethereum&&typeof je.ethereum.request=="function")L=je.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=j}const K=new URL((s=A==null?void 0:A.url)!==null&&s!==void 0?s:window.location.href),de=await L.request({method:"eth_requestAccounts"}).then(je=>je).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!de||de.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const G=wf(de[0]);let ae=(o=A==null?void 0:A.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!ae){const je=await L.request({method:"eth_chainId"});ae=vw(je)}const _e={domain:K.host,address:G,statement:U,uri:K.href,version:"1",chainId:ae,nonce:(l=A==null?void 0:A.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(h=(u=A==null?void 0:A.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(f=A==null?void 0:A.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(m=A==null?void 0:A.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(v=A==null?void 0:A.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(y=A==null?void 0:A.signInWithEthereum)===null||y===void 0?void 0:y.resources};E=ww(_e),C=await L.request({method:"personal_sign",params:[yw(E),G]})}try{const{data:N,error:j}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:C},!((_=r.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(k=r.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:Bt});if(j)throw j;if(!N||!N.session||!N.user){const U=new On;return this._returnResult({data:{user:null,session:null},error:U})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:j})}catch(N){if(ee(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(r){var s,o,l,u,h,f,m,v,y,_,k,E;let C,N;if("message"in r)C=r.message,N=r.signature;else{const{chain:j,wallet:U,statement:A,options:L}=r;let K;if(tt())if(typeof U=="object")K=U;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))K=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!(L!=null&&L.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");K=U}const de=new URL((s=L==null?void 0:L.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in K&&K.signIn){const G=await K.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},L==null?void 0:L.signInWithSolana),{version:"1",domain:de.host,uri:de.href}),A?{statement:A}:null));let ae;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")ae=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)ae=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ae&&"signature"in ae&&(typeof ae.signedMessage=="string"||ae.signedMessage instanceof Uint8Array)&&ae.signature instanceof Uint8Array)C=typeof ae.signedMessage=="string"?ae.signedMessage:new TextDecoder().decode(ae.signedMessage),N=ae.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in K)||typeof K.signMessage!="function"||!("publicKey"in K)||typeof K!="object"||!K.publicKey||!("toBase58"in K.publicKey)||typeof K.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${de.host} wants you to sign in with your Solana account:`,K.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${de.href}`,`Issued At: ${(l=(o=L==null?void 0:L.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=L==null?void 0:L.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${L.signInWithSolana.notBefore}`]:[],...!((h=L==null?void 0:L.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${L.signInWithSolana.expirationTime}`]:[],...!((f=L==null?void 0:L.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${L.signInWithSolana.chainId}`]:[],...!((m=L==null?void 0:L.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${L.signInWithSolana.nonce}`]:[],...!((v=L==null?void 0:L.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${L.signInWithSolana.requestId}`]:[],...!((_=(y=L==null?void 0:L.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||_===void 0)&&_.length?["Resources",...L.signInWithSolana.resources.map(ae=>`- ${ae}`)]:[]].join(`
`);const G=await K.signMessage(new TextEncoder().encode(C),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=G}}try{const{data:j,error:U}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:tn(N)},!((k=r.options)===null||k===void 0)&&k.captchaToken?{gotrue_meta_security:{captcha_token:(E=r.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Bt});if(U)throw U;if(!j||!j.session||!j.user){const A=new On;return this._returnResult({data:{user:null,session:null},error:A})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:U})}catch(j){if(ee(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(r){const s=await Yr(this.storage,`${this.storageKey}-code-verifier`),[o,l]=(s??"").split("/");try{if(!o&&this.flowType==="pkce")throw new By;const{data:u,error:h}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:o},xform:Bt});if(await et(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!u||!u.session||!u.user){const f=new On;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:h})}catch(u){if(await et(this.storage,`${this.storageKey}-code-verifier`),ee(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(r){try{const{options:s,provider:o,token:l,access_token:u,nonce:h}=r,f=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:l,access_token:u,nonce:h,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Bt}),{data:m,error:v}=f;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!m||!m.session||!m.user){const y=new On;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:v})}catch(s){if(ee(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(r){var s,o,l,u,h;try{if("email"in r){const{email:f,options:m}=r;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await Nn(this.storage,this.storageKey));const{error:_}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},create_user:(o=m==null?void 0:m.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:y},redirectTo:m==null?void 0:m.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in r){const{phone:f,options:m}=r,{data:v,error:y}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=m==null?void 0:m.data)!==null&&l!==void 0?l:{},create_user:(u=m==null?void 0:m.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(h=m==null?void 0:m.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:y})}throw new mo("You must provide either an email or phone number.")}catch(f){if(await et(this.storage,`${this.storageKey}-code-verifier`),ee(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(r){var s,o;try{let l,u;"options"in r&&(l=(s=r.options)===null||s===void 0?void 0:s.redirectTo,u=(o=r.options)===null||o===void 0?void 0:o.captchaToken);const{data:h,error:f}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:Bt});if(f)throw f;if(!h)throw new Error("An error occurred on token verification.");const m=h.session,v=h.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(l){if(ee(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(r){var s,o,l,u,h;try{let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Nn(this.storage,this.storageKey));const v=await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(o=(s=r.options)===null||s===void 0?void 0:s.redirectTo)!==null&&o!==void 0?o:void 0}),!((l=r==null?void 0:r.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:m}),headers:this.headers,xform:cw});return!((u=v.data)===null||u===void 0)&&u.url&&tt()&&!(!((h=r.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(f){if(await et(this.storage,`${this.storageKey}-code-verifier`),ee(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)throw o;if(!s)throw new bt;const{error:l}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(r){if(ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const s=`${this.url}/resend`;if("email"in r){const{email:o,type:l,options:u}=r,{error:h}=await ne(this.fetch,"POST",s,{headers:this.headers,body:{email:o,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in r){const{phone:o,type:l,options:u}=r,{data:h,error:f}=await ne(this.fetch,"POST",s,{headers:this.headers,body:{phone:o,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:f})}throw new mo("You must provide either an email or phone number and a type")}catch(s){if(ee(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(r,s){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await o,await s()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=s();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await r(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const s=await Yr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?r=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const o=r.expires_at?r.expires_at*1e3-Date.now()<El:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(this.userStorage){const h=await Yr(this.userStorage,this.storageKey+"-user");h!=null&&h.user?r.user=h.user:r.user=Tl()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};r.user=ow(r.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(r){try{return r?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Pr}):await this._useSession(async s=>{var o,l,u;const{data:h,error:f}=s;if(f)throw f;return!(!((o=h.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bt}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:Pr})})}catch(s){if(ee(s))return jl(s)&&(await this._removeSession(),await et(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(r,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(r,s))}async _updateUser(r,s={}){try{return await this._useSession(async o=>{const{data:l,error:u}=o;if(u)throw u;if(!l.session)throw new bt;const h=l.session;let f=null,m=null;this.flowType==="pkce"&&r.email!=null&&([f,m]=await Nn(this.storage,this.storageKey));const{data:v,error:y}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:f,code_challenge_method:m}),jwt:h.access_token,xform:Pr});if(y)throw y;return h.user=v.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(o){if(await et(this.storage,`${this.storageKey}-code-verifier`),ee(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new bt;const s=Date.now()/1e3;let o=s,l=!0,u=null;const{payload:h}=vo(r.access_token);if(h.exp&&(o=h.exp,l=o<=s),l){const{data:f,error:m}=await this._callRefreshToken(r.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:m}=await this._getUser(r.access_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});u={access_token:r.access_token,refresh_token:r.refresh_token,user:f.user,token_type:"bearer",expires_in:o-s,expires_at:o},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(s){if(ee(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async s=>{var o;if(!r){const{data:h,error:f}=s;if(f)throw f;r=(o=h.session)!==null&&o!==void 0?o:void 0}if(!(r!=null&&r.refresh_token))throw new bt;const{data:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(ee(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(r,s){try{if(!tt())throw new go("No browser detected.");if(r.error||r.error_description||r.error_code)throw new go(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new wh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new go("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new wh("No code detected.");const{data:A,error:L}=await this._exchangeCodeForSession(r.code);if(L)throw L;const K=new URL(window.location.href);return K.searchParams.delete("code"),window.history.replaceState(window.history.state,"",K.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:l,access_token:u,refresh_token:h,expires_in:f,expires_at:m,token_type:v}=r;if(!u||!f||!h||!v)throw new go("No session defined in URL");const y=Math.round(Date.now()/1e3),_=parseInt(f);let k=y+_;m&&(k=parseInt(m));const E=k-y;E*1e3<=$n&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${_}s`);const C=k-_;y-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,k,y):y-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,k,y);const{data:N,error:j}=await this._getUser(u);if(j)throw j;const U={provider_token:o,provider_refresh_token:l,access_token:u,expires_in:_,expires_at:k,refresh_token:h,token_type:v,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:U,redirectType:r.type},error:null})}catch(o){if(ee(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(r){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),r):!!(r.access_token||r.error_description)}async _isPKCECallback(r){const s=await Yr(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&s)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async s=>{var o;const{data:l,error:u}=s;if(u&&!jl(u))return this._returnResult({error:u});const h=(o=l.session)===null||o===void 0?void 0:o.access_token;if(h){const{error:f}=await this.admin.signOut(h,r);if(f&&!($y(f)&&(f.status===404||f.status===401||f.status===403)||jl(f)))return this._returnResult({error:f})}return r!=="others"&&(await this._removeSession(),await et(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const s=Hy(),o={id:s,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,o),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:o}}}async _emitInitialSession(r){return await this._useSession(async s=>{var o,l;try{const{data:{session:u},error:h}=s;if(h)throw h;await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,s={}){let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Nn(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:o,code_challenge_method:l,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(u){if(await et(this.storage,`${this.storageKey}-code-verifier`),ee(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var r;try{const{data:s,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(r=s.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var s;try{const{data:o,error:l}=await this._useSession(async u=>{var h,f,m,v,y;const{data:_,error:k}=u;if(k)throw k;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(h=r.options)===null||h===void 0?void 0:h.redirectTo,scopes:(f=r.options)===null||f===void 0?void 0:f.scopes,queryParams:(m=r.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",E,{headers:this.headers,jwt:(y=(v=_.session)===null||v===void 0?void 0:v.access_token)!==null&&y!==void 0?y:void 0})});if(l)throw l;return tt()&&!(!((s=r.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),this._returnResult({data:{provider:r.provider,url:o==null?void 0:o.url},error:null})}catch(o){if(ee(o))return this._returnResult({data:{provider:r.provider,url:null},error:o});throw o}}async linkIdentityIdToken(r){return await this._useSession(async s=>{var o;try{const{error:l,data:{session:u}}=s;if(l)throw l;const{options:h,provider:f,token:m,access_token:v,nonce:y}=r,_=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=u==null?void 0:u.access_token)!==null&&o!==void 0?o:void 0,body:{provider:f,id_token:m,access_token:v,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Bt}),{data:k,error:E}=_;return E?this._returnResult({data:{user:null,session:null},error:E}):!k||!k.session||!k.user?this._returnResult({data:{user:null,session:null},error:new On}):(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("USER_UPDATED",k.session)),this._returnResult({data:k,error:E}))}catch(l){if(await et(this.storage,`${this.storageKey}-code-verifier`),ee(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(r){try{return await this._useSession(async s=>{var o,l;const{data:u,error:h}=s;if(h)throw h;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0})})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(r){const s=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{const o=Date.now();return await Qy(async l=>(l>0&&await Jy(200*Math.pow(2,l-1)),this._debug(s,"refreshing attempt",l),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Bt})),(l,u)=>{const h=200*Math.pow(2,l);return u&&Cl(u)&&Date.now()+h-o<$n})}catch(o){if(this._debug(s,"error",o),ee(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(s,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,s){const o=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",s,"url",o),tt()&&!s.skipBrowserRedirect&&window.location.assign(o),{data:{provider:r,url:o},error:null}}async _recoverAndRefresh(){var r,s;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const l=await Yr(this.storage,this.storageKey);if(l&&this.userStorage){let h=await Yr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:l.user},await Un(this.userStorage,this.storageKey+"-user",h)),l.user=(r=h==null?void 0:h.user)!==null&&r!==void 0?r:Tl()}else if(l&&!l.user&&!l.user){const h=await Yr(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(l.user=h.user,await et(this.storage,this.storageKey+"-user"),await Un(this.storage,this.storageKey,l)):l.user=Tl()}if(this._debug(o,"session from storage",l),!this._isValidSession(l)){this._debug(o,"session is not valid"),l!==null&&await this._removeSession();return}const u=((s=l.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<El;if(this._debug(o,`session has${u?"":" not"} expired with margin of ${El}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:h}=await this._callRefreshToken(l.refresh_token);h&&(console.error(h),Cl(h)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:f}=await this._getUser(l.access_token);!f&&(h!=null&&h.user)?(l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(o,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(o,"error",l),console.error(l);return}finally{this._debug(o,"end")}}async _callRefreshToken(r){var s,o;if(!r)throw new bt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Co;const{data:u,error:h}=await this._refreshAccessToken(r);if(h)throw h;if(!u.session)throw new bt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={data:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(l,"error",u),ee(u)){const h={data:null,error:u};return Cl(u)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(h),h}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(r,s,o=!0){const l=`#_notifyAllSubscribers(${r})`;this._debug(l,"begin",s,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:r,session:s});const u=[],h=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(r,s)}catch(m){u.push(m)}});if(await Promise.all(h),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await et(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},r),o=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&s.user&&await Un(this.userStorage,this.storageKey+"-user",{user:s.user});const l=Object.assign({},s);delete l.user;const u=bh(l);await Un(this.storage,this.storageKey,u)}else{const l=bh(s);await Un(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await et(this.storage,this.storageKey),await et(this.storage,this.storageKey+"-code-verifier"),await et(this.storage,this.storageKey+"-user"),this.userStorage&&await et(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&tt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),$n);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async s=>{const{data:{session:o}}=s;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((o.expires_at*1e3-r)/$n);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${$n}ms, refresh threshold is ${Ul} ticks`),l<=Ul&&await this._callRefreshToken(o.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof yf)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(r){this._debug("#visibilityChangedCallback","error",r)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const s=`#_onVisibilityChanged(${r})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,s,o){const l=[`provider=${encodeURIComponent(s)}`];if(o!=null&&o.redirectTo&&l.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&l.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[u,h]=await Nn(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(h)}`});l.push(f.toString())}if(o!=null&&o.queryParams){const u=new URLSearchParams(o.queryParams);l.push(u.toString())}return o!=null&&o.skipBrowserRedirect&&l.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${r}?${l.join("&")}`}async _unenroll(r){try{return await this._useSession(async s=>{var o;const{data:l,error:u}=s;return u?this._returnResult({data:null,error:u}):await ne(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(r){try{return await this._useSession(async s=>{var o,l;const{data:u,error:h}=s;if(h)return this._returnResult({data:null,error:h});const f=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:m,error:v}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token});return v?this._returnResult({data:null,error:v}):(r.factorType==="totp"&&m.type==="totp"&&(!((l=m==null?void 0:m.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}async _verify(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var o;const{data:l,error:u}=s;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?jw(r.webauthn.credential_response):Cw(r.webauthn.credential_response)})}:{code:r.code}),{data:f,error:m}=await ne(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:h,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:m}))})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var o;const{data:l,error:u}=s;if(u)return this._returnResult({data:null,error:u});const h=await ne(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});if(h.error)return h;const{data:f}=h;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:bw(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:Ew(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(r){const{data:s,error:o}=await this._challenge({factorId:r.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:r.factorId,challengeId:s.id,code:r.code})}async _listFactors(){var r;const{data:{user:s},error:o}=await this.getUser();if(o)return{data:null,error:o};const l={all:[],phone:[],totp:[],webauthn:[]};for(const u of(r=s==null?void 0:s.factors)!==null&&r!==void 0?r:[])l.all.push(u),u.status==="verified"&&l[u.factor_type].push(u);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(r){var s,o,l,u;if(r)try{const{payload:E}=vo(r);let C=null;E.aal&&(C=E.aal);let N=C;const{data:{user:j},error:U}=await this.getUser(r);if(U)return this._returnResult({data:null,error:U});((o=(s=j==null?void 0:j.factors)===null||s===void 0?void 0:s.filter(K=>K.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(N="aal2");const L=E.amr||[];return{data:{currentLevel:C,nextLevel:N,currentAuthenticationMethods:L},error:null}}catch(E){if(ee(E))return this._returnResult({data:null,error:E});throw E}const{data:{session:h},error:f}=await this.getSession();if(f)return this._returnResult({data:null,error:f});if(!h)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:m}=vo(h.access_token);let v=null;m.aal&&(v=m.aal);let y=v;((u=(l=h.user.factors)===null||l===void 0?void 0:l.filter(E=>E.status==="verified"))!==null&&u!==void 0?u:[]).length>0&&(y="aal2");const k=m.amr||[];return{data:{currentLevel:v,nextLevel:y,currentAuthenticationMethods:k},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;return l?this._returnResult({data:null,error:l}):o?await ne(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:o.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new bt})})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(r,s){try{return await this._useSession(async o=>{const{data:{session:l},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new bt});const h=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return h.data&&h.data.redirect_url&&tt()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(o){if(ee(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(r,s){try{return await this._useSession(async o=>{const{data:{session:l},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new bt});const h=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return h.data&&h.data.redirect_url&&tt()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(o){if(ee(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;return o?this._returnResult({data:null,error:o}):s?await ne(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new bt})})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;return l?this._returnResult({data:null,error:l}):o?(await ne(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new bt})})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(r,s={keys:[]}){let o=s.keys.find(f=>f.kid===r);if(o)return o;const l=Date.now();if(o=this.jwks.keys.find(f=>f.kid===r),o&&this.jwks_cached_at+Ly>l)return o;const{data:u,error:h}=await ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,o=u.keys.find(f=>f.kid===r),!o)?null:o}async getClaims(r,s={}){try{let o=r;if(!o){const{data:E,error:C}=await this.getSession();if(C||!E.session)return this._returnResult({data:null,error:C});o=E.session.access_token}const{header:l,payload:u,signature:h,raw:{header:f,payload:m}}=vo(o);s!=null&&s.allowExpired||nw(u.exp);const v=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!v){const{error:E}=await this.getUser(o);if(E)throw E;return{data:{claims:u,header:l,signature:h},error:null}}const y=sw(l.alg),_=await crypto.subtle.importKey("jwk",v,y,!0,["verify"]);if(!await crypto.subtle.verify(y,_,h,qy(`${f}.${m}`)))throw new zl("Invalid JWT signature");return{data:{claims:u,header:l,signature:h},error:null}}catch(o){if(ee(o))return this._returnResult({data:null,error:o});throw o}}}qs.nextInstanceID={};const Dw=qs,$w="2.95.3";let Is="";typeof Deno<"u"?Is="deno":typeof document<"u"?Is="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Is="react-native":Is="node";const Uw={"X-Client-Info":`supabase-js-${Is}/${$w}`},Bw={headers:Uw},Mw={schema:"public"},zw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Fw={};function Vs(n){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vs(n)}function Ww(n,r){if(Vs(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var o=s.call(n,r);if(Vs(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function qw(n){var r=Ww(n,"string");return Vs(r)=="symbol"?r:r+""}function Vw(n,r,s){return(r=qw(r))in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s,n}function Oh(n,r){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);r&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),s.push.apply(s,o)}return s}function $e(n){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Oh(Object(s),!0).forEach(function(o){Vw(n,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):Oh(Object(s)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(s,o))})}return n}const Hw=n=>n?(...r)=>n(...r):(...r)=>fetch(...r),Gw=()=>Headers,Kw=(n,r,s)=>{const o=Hw(s),l=Gw();return async(u,h)=>{var f;const m=(f=await r())!==null&&f!==void 0?f:n;let v=new l(h==null?void 0:h.headers);return v.has("apikey")||v.set("apikey",n),v.has("Authorization")||v.set("Authorization",`Bearer ${m}`),o(u,$e($e({},h),{},{headers:v}))}};function Jw(n){return n.endsWith("/")?n:n+"/"}function Qw(n,r){var s,o;const{db:l,auth:u,realtime:h,global:f}=n,{db:m,auth:v,realtime:y,global:_}=r,k={db:$e($e({},m),l),auth:$e($e({},v),u),realtime:$e($e({},y),h),storage:{},global:$e($e($e({},_),f),{},{headers:$e($e({},(s=_==null?void 0:_.headers)!==null&&s!==void 0?s:{}),(o=f==null?void 0:f.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return n.accessToken?k.accessToken=n.accessToken:delete k.accessToken,k}function Yw(n){const r=n==null?void 0:n.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Jw(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Xw=class extends Dw{constructor(n){super(n)}},Zw=class{constructor(n,r,s){var o,l;this.supabaseUrl=n,this.supabaseKey=r;const u=Yw(n);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const h=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:Mw,realtime:Fw,auth:$e($e({},zw),{},{storageKey:h}),global:Bw},m=Qw(s??{},f);if(this.storageKey=(o=m.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=m.global.headers)!==null&&l!==void 0?l:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(y,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}});else{var v;this.auth=this._initSupabaseAuthClient((v=m.auth)!==null&&v!==void 0?v:{},this.headers,m.global.fetch)}this.fetch=Kw(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient($e({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new $v(new URL("rest/v1",u).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch,timeout:m.db.timeout,urlLengthLimit:m.db.urlLengthLimit}),this.storage=new Py(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new Rv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,r={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,r,s)}channel(n,r={config:{}}){return this.realtime.channel(n,r)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,r,s;if(n.accessToken)return await n.accessToken();const{data:o}=await n.auth.getSession();return(r=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:r,detectSessionInUrl:s,storage:o,userStorage:l,storageKey:u,flowType:h,lock:f,debug:m,throwOnError:v},y,_){const k={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Xw({url:this.authUrl.href,headers:$e($e({},k),y),storageKey:u,autoRefreshToken:n,persistSession:r,detectSessionInUrl:s,storage:o,userStorage:l,flowType:h,lock:f,debug:m,throwOnError:v,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new ey(this.realtimeUrl.href,$e($e({},n),{},{params:$e($e({},{apikey:this.supabaseKey}),n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(n,r,s){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const e_=(n,r,s)=>new Zw(n,r,s);function t_(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const r=n.version;if(r==null)return!1;const s=r.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}t_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const r_="https://kbzghddtegmkdkshkjbf.supabase.co",n_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtiemdoZGR0ZWdta2RraHNramJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA3MjU3OTgsImV4cCI6MjA4NjMwMTc5OH0.oTJ0r7bg14bNrshCbPAZoZsOpbneAwuSjzrDGS45-Nw",ft=e_(r_,n_),Xl=n=>({id:n.id,title:n.title,description:n.description||"",startDate:n.start_date,endDate:n.end_date,imageUrl:n.image_url,fileName:n.file_name||"",createdDate:n.created_date}),kf=async()=>{const{data:n,error:r}=await ft.from("specials").select("*").order("created_date",{ascending:!1});if(r)throw r;return(n||[]).map(Xl)},Sf=async n=>{const r=`specials/${Date.now()}_${n.name}`,{error:s}=await ft.storage.from("images").upload(r,n);if(s)throw s;const{data:o}=ft.storage.from("images").getPublicUrl(r);return o.publicUrl},xf=n=>new Promise((r,s)=>{const o=new FileReader;o.onloadend=()=>r(o.result),o.onerror=s,o.readAsDataURL(n)}),s_=async(n,r)=>{let s;try{s=await Sf(r)}catch{s=await xf(r)}const{data:o,error:l}=await ft.from("specials").insert({title:n.title,description:n.description,start_date:n.startDate,end_date:n.endDate,image_url:s,file_name:r.name}).select().single();if(l)throw l;return Xl(o)},i_=async(n,r,s)=>{const o={title:r.title,description:r.description,start_date:r.startDate,end_date:r.endDate};if(s){try{o.image_url=await Sf(s)}catch{o.image_url=await xf(s)}o.file_name=s.name}const{data:l,error:u}=await ft.from("specials").update(o).eq("id",n).select().single();if(u)throw u;return Xl(l)},o_=async n=>{const{error:r}=await ft.from("specials").delete().eq("id",n);if(r)throw r},bf=n=>({id:n.id,name:n.name,phone:n.phone,email:n.email||void 0,eventDate:n.event_date,description:n.description,status:n.status||"pending",submittedAt:n.submitted_at}),a_=async()=>{const{data:n,error:r}=await ft.from("bookings").select("*").order("submitted_at",{ascending:!1});if(r)throw r;return(n||[]).map(bf)},l_=async n=>{const{data:r,error:s}=await ft.from("bookings").insert({name:n.name,phone:n.phone,email:n.email||null,event_date:n.date,description:n.description,status:"pending"}).select().single();if(s)throw s;return bf(r)},u_=async(n,r)=>{const{error:s}=await ft.from("bookings").update({status:r}).eq("id",n);if(s)throw s},c_=async n=>{const{error:r}=await ft.from("bookings").delete().eq("id",n);if(r)throw r},d_="_home_o0h5f_1",h_="_section_o0h5f_5",f_="_sectionTitle_o0h5f_17",p_="_tabs_o0h5f_30",m_="_tab_o0h5f_30",g_="_active_o0h5f_66",v_="_specialsGrid_o0h5f_72",y_="_specialCard_o0h5f_89",w_="_past_o0h5f_101",__="_specialImage_o0h5f_104",k_="_specialBadge_o0h5f_108",S_="_upcoming_o0h5f_125",x_="_expired_o0h5f_128",b_="_specialContent_o0h5f_143",E_="_specialDates_o0h5f_173",j_="_expiredNotice_o0h5f_184",C_="_servicesGrid_o0h5f_200",T_="_serviceCard_o0h5f_217",R_="_serviceIcon_o0h5f_249",P_="_contactGrid_o0h5f_259",O_="_contactInfo_o0h5f_273",N_="_contactItem_o0h5f_284",I_="_contactIcon_o0h5f_329",A_="_contactForm_o0h5f_338",L_="_bookingForm_o0h5f_367",D_="_galleryGrid_o0h5f_407",$_="_galleryImage_o0h5f_424",U_="_lightbox_o0h5f_441",B_="_emptyState_o0h5f_461",M_="_emptyIcon_o0h5f_491",z_="_thankYou_o0h5f_501",F_="_thankYouIcon_o0h5f_534",W_="_floatingBtn_o0h5f_544",q_="_formGroup_o0h5f_584",V_="_errorInput_o0h5f_590",H_="_errorMessage_o0h5f_598",V={home:d_,section:h_,sectionTitle:f_,tabs:p_,tab:m_,active:g_,specialsGrid:v_,specialCard:y_,past:w_,specialImage:__,specialBadge:k_,upcoming:S_,expired:x_,specialContent:b_,specialDates:E_,expiredNotice:j_,servicesGrid:C_,serviceCard:T_,serviceIcon:R_,contactGrid:P_,contactInfo:O_,contactItem:N_,contactIcon:I_,contactForm:A_,bookingForm:L_,galleryGrid:D_,galleryImage:$_,lightbox:U_,emptyState:B_,emptyIcon:M_,thankYou:z_,thankYouIcon:F_,floatingBtn:W_,formGroup:q_,errorInput:V_,errorMessage:H_},G_=()=>{var H;ov();const[n,r]=$.useState([]),[s,o]=$.useState(!0),[l]=Gl(Kl.GALLERY_IMAGES,nf),[u,h]=$.useState("current"),[f,m]=$.useState(null),[v,y]=$.useState(null),_=ir(),k=ir(),E=ir(),[C,N]=$.useState({name:"",phone:"",email:"",date:"",description:""}),[j,U]=$.useState({name:"",email:"",phone:"",message:""}),[A,L]=$.useState(!1),[K,de]=$.useState(!1),[G,ae]=$.useState({});$.useEffect(()=>{(async()=>{try{o(!0);const q=await kf();r(q)}catch(q){console.error("Error fetching specials:",q)}finally{o(!1)}})()},[]);const _e=new Date;_e.setHours(0,0,0,0);const je=n.filter(I=>kv(_e,I.startDate,I.endDate)),Ye=n.filter(I=>Sv(_e,I.startDate)),lt=n.filter(I=>xv(_e,I.endDate)),le=f?l.filter(I=>I.category===f):[],Ee=()=>{const I={};return C.name.trim()?/^[a-zA-Z\s]+$/.test(C.name)||(I.bookingName="Name must contain only letters"):I.bookingName="Name is required",C.phone.trim()?ah(C.phone)||(I.bookingPhone="Phone number must be 10 digits"):I.bookingPhone="Phone number is required",C.date||(I.bookingDate="Date is required"),C.description.trim()||(I.bookingDescription="Description is required"),ae(q=>({...q,...I})),Object.keys(I).length===0},fe=async I=>{if(I.preventDefault(),ae(q=>{const b={...q};return Object.keys(b).forEach(D=>{D.startsWith("booking")&&delete b[D]}),b}),!!Ee()){L(!0);try{await wv({...C,phone:Sl(C.phone)}),await l_({name:C.name,phone:Sl(C.phone),email:C.email,date:C.date,description:C.description}),_.close(),E.open(),N({name:"",phone:"",email:"",date:"",description:""})}catch(q){alert("Failed to send booking request. Please try again or contact us directly."),console.error(q)}finally{L(!1)}}},Le=()=>{const I={};return j.name.trim()?/^[a-zA-Z\s]+$/.test(j.name)||(I.contactName="Name must contain only letters"):I.contactName="Name is required",j.email.trim()||(I.contactEmail="Email is required"),j.phone.trim()&&!ah(j.phone)&&(I.contactPhone="Phone number must be 10 digits"),j.message.trim()||(I.contactMessage="Message is required"),ae(q=>({...q,...I})),Object.keys(I).length===0},oe=async I=>{if(I.preventDefault(),ae(q=>{const b={...q};return Object.keys(b).forEach(D=>{D.startsWith("contact")&&delete b[D]}),b}),!!Le()){de(!0);try{await _v({...j,phone:Sl(j.phone)}),alert("Message sent successfully!"),U({name:"",email:"",phone:"",message:""})}catch(q){alert("Failed to send message. Please try again later."),console.error(q)}finally{de(!1)}}},ge=I=>{m(I),k.open()};return p.jsxs("div",{className:V.home,children:[p.jsx($g,{}),p.jsx(ev,{onBookingClick:_.open}),p.jsx("section",{id:"specials",className:V.section,children:p.jsxs("div",{className:"container",children:[p.jsx("h2",{className:V.sectionTitle,children:"Special Offers"}),p.jsxs("div",{className:V.tabs,children:[p.jsx("button",{className:`${V.tab} ${u==="current"?V.active:""}`,onClick:()=>h("current"),children:"Current"}),p.jsx("button",{className:`${V.tab} ${u==="upcoming"?V.active:""}`,onClick:()=>h("upcoming"),children:"Upcoming"}),p.jsx("button",{className:`${V.tab} ${u==="past"?V.active:""}`,onClick:()=>h("past"),children:"Past"})]}),p.jsx("div",{className:V.specialsGrid,children:s?p.jsx("div",{className:V.loading,children:"Loading specials..."}):p.jsxs(p.Fragment,{children:[u==="current"&&(je.length>0?je.map(I=>p.jsxs("div",{className:V.specialCard,children:[p.jsx("span",{className:V.specialBadge,children:"Special Offer"}),p.jsx("img",{src:I.imageUrl,alt:I.title,className:V.specialImage}),p.jsxs("div",{className:V.specialContent,children:[p.jsx("h3",{children:I.title}),I.description&&p.jsx("p",{children:I.description}),p.jsxs("div",{className:V.specialDates,children:[" ",or(I.startDate)," - ",or(I.endDate)]}),p.jsx(be,{onClick:_.open,children:"Order Now "})]})]},I.id)):p.jsxs("div",{className:V.emptyState,children:[p.jsx("span",{className:V.emptyIcon,children:""}),p.jsx("h3",{children:"No Active Specials"}),p.jsx("p",{children:"Check back soon for amazing deals!"})]})),u==="upcoming"&&(Ye.length>0?Ye.map(I=>p.jsxs("div",{className:V.specialCard,children:[p.jsx("span",{className:`${V.specialBadge} ${V.upcoming}`,children:"Coming Soon"}),p.jsx("img",{src:I.imageUrl,alt:I.title,className:V.specialImage}),p.jsxs("div",{className:V.specialContent,children:[p.jsx("h3",{children:I.title}),I.description&&p.jsx("p",{children:I.description}),p.jsxs("div",{className:V.specialDates,children:[" Starts ",or(I.startDate)]})]})]},I.id)):p.jsxs("div",{className:V.emptyState,children:[p.jsx("span",{className:V.emptyIcon,children:""}),p.jsx("h3",{children:"No Upcoming Specials"}),p.jsx("p",{children:"Stay tuned for exciting new offers!"})]})),u==="past"&&(lt.length>0?lt.map(I=>p.jsxs("div",{className:`${V.specialCard} ${V.past}`,children:[p.jsx("span",{className:`${V.specialBadge} ${V.expired}`,children:"Expired"}),p.jsx("img",{src:I.imageUrl,alt:I.title,className:V.specialImage}),p.jsxs("div",{className:V.specialContent,children:[p.jsx("h3",{children:I.title}),I.description&&p.jsx("p",{children:I.description}),p.jsxs("div",{className:V.specialDates,children:[" Ran from ",or(I.startDate)," to ",or(I.endDate)]}),p.jsx("div",{className:V.expiredNotice,children:"This offer has ended"})]})]},I.id)):p.jsxs("div",{className:V.emptyState,children:[p.jsx("span",{className:V.emptyIcon,children:""}),p.jsx("h3",{children:"No Past Specials"}),p.jsx("p",{children:"Previous special offers will appear here."})]}))]})})]})}),p.jsx("section",{id:"services",className:V.section,children:p.jsxs("div",{className:"container",children:[p.jsx("h2",{className:V.sectionTitle,children:"Our Services"}),p.jsx("div",{className:V.servicesGrid,children:As.map(I=>p.jsxs("div",{className:V.serviceCard,onClick:()=>ge(I.id),children:[p.jsx("span",{className:V.serviceIcon,children:I.icon}),p.jsx("h3",{children:I.name})]},I.id))})]})}),p.jsx("section",{id:"contact",className:V.section,children:p.jsxs("div",{className:"container",children:[p.jsx("h2",{className:V.sectionTitle,children:"Get in Touch"}),p.jsxs("div",{className:V.contactGrid,children:[p.jsxs("div",{className:V.contactInfo,children:[p.jsxs("a",{href:"tel:+27843002719",className:V.contactItem,children:[p.jsx("span",{className:V.contactIcon,children:""}),p.jsxs("div",{children:[p.jsx("h4",{children:"Phone"}),p.jsx("p",{children:"084 300 2719"})]})]}),p.jsxs("a",{href:"mailto:anchen101@gmail.com",className:V.contactItem,children:[p.jsx("span",{className:V.contactIcon,children:""}),p.jsxs("div",{children:[p.jsx("h4",{children:"Email"}),p.jsx("p",{children:"anchen101@gmail.com"})]})]})]}),p.jsxs("form",{className:V.contactForm,onSubmit:oe,children:[p.jsxs("div",{className:V.formGroup,children:[p.jsx("input",{type:"text",placeholder:"Your Name *",value:j.name,onChange:I=>U({...j,name:I.target.value}),className:G.contactName?V.errorInput:""}),G.contactName&&p.jsx("span",{className:V.errorMessage,children:G.contactName})]}),p.jsxs("div",{className:V.formGroup,children:[p.jsx("input",{type:"email",placeholder:"Your Email *",value:j.email,onChange:I=>U({...j,email:I.target.value}),className:G.contactEmail?V.errorInput:""}),G.contactEmail&&p.jsx("span",{className:V.errorMessage,children:G.contactEmail})]}),p.jsxs("div",{className:V.formGroup,children:[p.jsx("input",{type:"tel",placeholder:"Phone Number (e.g., 082 123 4567)",value:j.phone,onChange:I=>U({...j,phone:oh(I.target.value)}),className:G.contactPhone?V.errorInput:""}),G.contactPhone&&p.jsx("span",{className:V.errorMessage,children:G.contactPhone})]}),p.jsxs("div",{className:V.formGroup,children:[p.jsx("textarea",{placeholder:"Your Message *",rows:5,value:j.message,onChange:I=>U({...j,message:I.target.value}),className:G.contactMessage?V.errorInput:""}),G.contactMessage&&p.jsx("span",{className:V.errorMessage,children:G.contactMessage})]}),p.jsx(be,{type:"submit",fullWidth:!0,disabled:K,children:K?"Sending...":"Send Message"})]})]})]})}),p.jsx(sr,{isOpen:_.isOpen,onClose:_.close,title:"Book a Consultation",maxWidth:"800px",children:p.jsxs("form",{onSubmit:fe,className:V.bookingForm,children:[p.jsxs("div",{className:V.formGroup,children:[p.jsx("input",{type:"text",placeholder:"Your Name *",value:C.name,onChange:I=>N({...C,name:I.target.value}),className:G.bookingName?V.errorInput:""}),G.bookingName&&p.jsx("span",{className:V.errorMessage,children:G.bookingName})]}),p.jsxs("div",{className:V.formGroup,children:[p.jsx("input",{type:"tel",placeholder:"Phone Number (e.g., 082 123 4567) *",value:C.phone,onChange:I=>N({...C,phone:oh(I.target.value)}),className:G.bookingPhone?V.errorInput:""}),G.bookingPhone&&p.jsx("span",{className:V.errorMessage,children:G.bookingPhone})]}),p.jsx("input",{type:"email",placeholder:"Email (optional)",value:C.email,onChange:I=>N({...C,email:I.target.value})}),p.jsxs("div",{className:V.formGroup,children:[p.jsx("label",{htmlFor:"booking-date",children:"Event Date *"}),p.jsx("input",{id:"booking-date",type:"date",value:C.date,onChange:I=>N({...C,date:I.target.value}),min:new Date().toISOString().split("T")[0],className:G.bookingDate?V.errorInput:""}),G.bookingDate&&p.jsx("span",{className:V.errorMessage,children:G.bookingDate})]}),p.jsxs("div",{className:V.formGroup,children:[p.jsx("textarea",{placeholder:"Tell us about your event... *",rows:4,value:C.description,onChange:I=>N({...C,description:I.target.value}),className:G.bookingDescription?V.errorInput:""}),G.bookingDescription&&p.jsx("span",{className:V.errorMessage,children:G.bookingDescription})]}),p.jsx(be,{type:"submit",fullWidth:!0,disabled:A,children:A?"Sending...":"Submit Request"})]})}),p.jsx(sr,{isOpen:k.isOpen,onClose:k.close,title:f?(H=As.find(I=>I.id===f))==null?void 0:H.name:"",maxWidth:"900px",children:p.jsx("div",{className:V.galleryGrid,children:le.length>0?le.map(I=>p.jsx("img",{src:I.imageUrl,alt:I.title,className:V.galleryImage,onClick:()=>y(I.imageUrl)},I.id)):p.jsx("p",{children:"No images available for this category yet."})})}),v&&p.jsx("div",{className:V.lightbox,onClick:()=>y(null),children:p.jsx("img",{src:v,alt:"Full size"})}),p.jsx(sr,{isOpen:E.isOpen,onClose:E.close,title:"Thank You!",children:p.jsxs("div",{className:V.thankYou,children:[p.jsx("span",{className:V.thankYouIcon,children:""}),p.jsx("h3",{children:"Booking Request Received!"}),p.jsx("p",{children:"We'll get back to you shortly to confirm your consultation."}),p.jsx(be,{onClick:E.close,children:"Close"})]})}),p.jsx("button",{className:V.floatingBtn,onClick:_.open,"aria-label":"Book Now",children:""}),p.jsx(Mg,{})]})},Ef=$.createContext(void 0),K_=({children:n})=>{const[r,s]=$.useState(sessionStorage.getItem("adminAuthenticated")==="true"),[o,l]=$.useState(sessionStorage.getItem("adminUsername")),u=f=>{sessionStorage.setItem("adminAuthenticated","true"),sessionStorage.setItem("adminUsername",f),s(!0),l(f)},h=()=>{sessionStorage.clear(),s(!1),l(null)};return p.jsx(Ef.Provider,{value:{isAuthenticated:r,username:o,login:u,logout:h},children:n})},Zl=()=>{const n=$.useContext(Ef);if(!n)throw new Error("useAuth must be used within AuthProvider");return n},J_="_uploadContainer_115l0_1",Q_="_label_115l0_7",Y_="_dropzone_115l0_18",X_="_dragging_115l0_40",Z_="_hasPreview_115l0_46",e0="_hiddenInput_115l0_51",t0="_placeholder_115l0_55",r0="_icon_115l0_63",n0="_mainText_115l0_72",s0="_subText_115l0_83",i0="_previewContainer_115l0_93",o0="_preview_115l0_93",a0="_previewOverlay_115l0_118",l0="_changeText_115l0_134",u0="_removeBtn_115l0_145",ht={uploadContainer:J_,label:Q_,dropzone:Y_,dragging:X_,hasPreview:Z_,hiddenInput:e0,placeholder:t0,icon:r0,mainText:n0,subText:s0,previewContainer:i0,preview:o0,previewOverlay:a0,changeText:l0,removeBtn:u0},yo=({onImageSelect:n,preview:r,required:s=!1,label:o="Image"})=>{const[l,u]=$.useState(!1),[h,f]=$.useState(null),m=$.useRef(null),v=r||h,y=$.useCallback(A=>{if(A&&A.type.startsWith("image/")){n(A);const L=new FileReader;L.onloadend=()=>f(L.result),L.readAsDataURL(A)}else alert("Please select a valid image file")},[n]),_=A=>{A.preventDefault(),A.stopPropagation(),u(!0)},k=A=>{A.preventDefault(),A.stopPropagation(),u(!1)},E=A=>{A.preventDefault(),A.stopPropagation()},C=A=>{A.preventDefault(),A.stopPropagation(),u(!1);const L=A.dataTransfer.files;L&&L.length>0&&y(L[0])},N=()=>{var A;(A=m.current)==null||A.click()},j=A=>{const L=A.target.files;L&&L.length>0&&y(L[0])},U=A=>{A.stopPropagation(),f(null),m.current&&(m.current.value="")};return p.jsxs("div",{className:ht.uploadContainer,children:[p.jsxs("label",{className:ht.label,children:[o," ",s&&"*"]}),p.jsxs("div",{className:`${ht.dropzone} ${l?ht.dragging:""} ${v?ht.hasPreview:""}`,onDragEnter:_,onDragLeave:k,onDragOver:E,onDrop:C,onClick:N,children:[p.jsx("input",{ref:m,type:"file",accept:"image/*",onChange:j,className:ht.hiddenInput,required:s&&!v}),v?p.jsxs("div",{className:ht.previewContainer,children:[p.jsx("img",{src:v,alt:"Preview",className:ht.preview}),p.jsxs("div",{className:ht.previewOverlay,children:[p.jsx("span",{className:ht.changeText,children:"Click or drag to replace"}),p.jsx("button",{type:"button",className:ht.removeBtn,onClick:U,children:" Remove"})]})]}):p.jsxs("div",{className:ht.placeholder,children:[p.jsx("span",{className:ht.icon,children:""}),p.jsx("span",{className:ht.mainText,children:l?"Drop image here":"Drag & drop an image here"}),p.jsx("span",{className:ht.subText,children:"or click to browse"})]})]})]})},eu=n=>({username:n.username,email:n.email||void 0,password:n.password,role:n.role||"admin",securityQuestion:n.security_question,securityAnswer:n.security_answer,createdDate:n.created_date}),c0=async()=>{const{data:n,error:r}=await ft.from("users").select("*").order("created_date",{ascending:!0});if(r)throw r;return(n||[]).map(eu)},Nh=async n=>{const{data:r,error:s}=await ft.from("users").select("*").eq("username",n).single();if(s){if(s.code==="PGRST116")return null;throw s}return r?eu(r):null},d0=async n=>{const{data:r,error:s}=await ft.from("users").insert({username:n.username,email:n.email||null,password:n.password,role:"admin",security_question:n.securityQuestion,security_answer:n.securityAnswer.toLowerCase().trim()}).select().single();if(s)throw s;return eu(r)},h0=async(n,r)=>{const s={};r.email!==void 0&&(s.email=r.email||null),r.password&&(s.password=r.password),r.securityQuestion&&(s.security_question=r.securityQuestion),r.securityAnswer&&(s.security_answer=r.securityAnswer.toLowerCase().trim());const{error:o}=await ft.from("users").update(s).eq("username",n);if(o)throw o},f0=async n=>{const{error:r}=await ft.from("users").delete().eq("username",n);if(r)throw r},p0="_adminPage_1c7bu_1",m0="_header_1c7bu_6",g0="_headerContent_1c7bu_17",v0="_headerActions_1c7bu_41",y0="_username_1c7bu_53",w0="_tabs_1c7bu_64",_0="_container_1c7bu_70",k0="_tab_1c7bu_64",S0="_active_1c7bu_97",x0="_content_1c7bu_102",b0="_section_1c7bu_111",E0="_sectionHeader_1c7bu_123",j0="_actions_1c7bu_148",C0="_grid_1c7bu_159",T0="_card_1c7bu_176",R0="_cardImage_1c7bu_188",P0="_cardContent_1c7bu_199",O0="_cardMeta_1c7bu_229",N0="_category_1c7bu_240",I0="_empty_1c7bu_256",A0="_emptyIcon_1c7bu_263",L0="_usersList_1c7bu_274",D0="_userCard_1c7bu_285",$0="_userInfo_1c7bu_303",U0="_userMeta_1c7bu_327",B0="_form_1c7bu_337",M0="_formGroup_1c7bu_348",z0="_formRow_1c7bu_390",F0="_preview_1c7bu_402",W0="_cardActions_1c7bu_415",q0="_disabled_1c7bu_429",F={adminPage:p0,header:m0,headerContent:g0,headerActions:v0,username:y0,tabs:w0,container:_0,tab:k0,active:S0,content:x0,section:b0,sectionHeader:E0,actions:j0,grid:C0,card:T0,cardImage:R0,cardContent:P0,cardMeta:O0,category:N0,empty:I0,emptyIcon:A0,usersList:L0,userCard:D0,userInfo:$0,userMeta:U0,form:B0,formGroup:M0,formRow:z0,preview:F0,cardActions:W0,disabled:q0},V0=()=>{const n=Hl(),{logout:r,username:s}=Zl(),[o,l]=$.useState("specials"),[u,h]=$.useState([]),[f,m]=$.useState(!0),[v,y]=$.useState([]),[_,k]=$.useState(!1),[E,C]=$.useState([]),[N,j]=$.useState(!1),[U,A]=Gl(Kl.GALLERY_IMAGES,nf);$.useEffect(()=>{L()},[]),$.useEffect(()=>{o==="users"&&K(),o==="bookings"&&de()},[o]);const L=async()=>{try{m(!0);const R=await kf();h(R)}catch(R){console.error("Error fetching specials:",R),alert("Failed to load specials.")}finally{m(!1)}},K=async()=>{try{k(!0);const R=await c0();y(R)}catch(R){console.error("Error fetching users:",R)}finally{k(!1)}},de=async()=>{try{j(!0);const R=await a_();C(R)}catch(R){console.error("Error fetching bookings:",R)}finally{j(!1)}},G=ir(),ae=ir(),_e=ir(),je=ir(),Ye=ir(),lt=ir(),[le,Ee]=$.useState({title:"",description:"",startDate:"",endDate:"",image:null}),[fe,Le]=$.useState({category:"cakes",title:"",description:"",image:null}),[oe,ge]=$.useState({username:"",email:"",password:"",securityQuestion:"",securityAnswer:""}),[H,I]=$.useState(null),[q,b]=$.useState(null),[D,ue]=$.useState(null),[ce,pe]=$.useState(null),ve=()=>{r(),n("/madbatter-login")},Se=R=>{Ee({...le,image:R});const he=new FileReader;he.onloadend=()=>pe(he.result),he.readAsDataURL(R)},ke=async R=>{if(R.preventDefault(),!le.image){alert("Please select an image");return}try{m(!0),await s_({title:le.title,description:le.description,startDate:le.startDate,endDate:le.endDate},le.image),await L(),Nr(),G.close(),alert("Special added successfully!")}catch(he){console.error("Error adding special:",he),alert("Failed to add special.")}finally{m(!1)}},Ce=R=>{I(R),Ee({title:R.title,description:R.description||"",startDate:R.startDate,endDate:R.endDate,image:null}),pe(R.imageUrl),ae.open()},ut=async R=>{if(R.preventDefault(),!!H)try{m(!0),await i_(H.id,{title:le.title,description:le.description,startDate:le.startDate,endDate:le.endDate},le.image||void 0),await L(),Nr(),ae.close(),alert("Special updated successfully!")}catch(he){console.error("Error updating special:",he),alert("Failed to update special.")}finally{m(!1)}},sn=async R=>{if(window.confirm("Are you sure you want to delete this special?"))try{m(!0),await o_(R),await L(),alert("Special deleted successfully!")}catch(he){console.error("Error deleting special:",he),alert("Failed to delete special.")}finally{m(!1)}},Nr=()=>{Ee({title:"",description:"",startDate:"",endDate:"",image:null}),pe(null),I(null)},Ir=R=>{Le({...fe,image:R});const he=new FileReader;he.onloadend=()=>pe(he.result),he.readAsDataURL(R)},Wn=R=>{if(R.preventDefault(),!fe.image){alert("Please select an image");return}const he=new FileReader;he.onloadend=()=>{const Ge={id:Date.now().toString(),category:fe.category,title:fe.title,description:fe.description,imageUrl:he.result,fileName:fe.image.name,uploadDate:new Date().toISOString()};A([Ge,...U]),Ar(),_e.close(),alert("Image uploaded successfully!")},he.readAsDataURL(fe.image)},Qs=R=>{b(R),Le({category:R.category,title:R.title,description:R.description||"",image:null}),pe(R.imageUrl),je.open()},Ys=R=>{if(R.preventDefault(),!q)return;const he=Ge=>{const ei=U.map(Ft=>{var ur;return Ft.id===q.id?{...Ft,category:fe.category,title:fe.title,description:fe.description,imageUrl:Ge,fileName:((ur=fe.image)==null?void 0:ur.name)||Ft.fileName}:Ft});A(ei),Ar(),je.close(),alert("Image updated successfully!")};if(fe.image){const Ge=new FileReader;Ge.onloadend=()=>he(Ge.result),Ge.readAsDataURL(fe.image)}else he(q.imageUrl)},qn=R=>{window.confirm("Are you sure you want to delete this image?")&&(A(U.filter(Ge=>Ge.id!==R)),alert("Image deleted successfully!"))},Ar=()=>{Le({category:"cakes",title:"",description:"",image:null}),pe(null),b(null)},Vn=async R=>{R.preventDefault();try{await d0({username:oe.username,email:oe.email,password:oe.password,securityQuestion:oe.securityQuestion,securityAnswer:oe.securityAnswer}),await K(),Dr(),Ye.close(),alert("User created successfully!")}catch(he){console.error("Error adding user:",he),he.code==="23505"?alert("Username already exists!"):alert("Failed to create user.")}},Lr=R=>{ue(R),ge({username:R.username,email:R.email||"",password:"",securityQuestion:R.securityQuestion,securityAnswer:""}),lt.open()},lr=async R=>{if(R.preventDefault(),!!D)try{await h0(D.username,{email:oe.email,password:oe.password||void 0,securityQuestion:oe.securityQuestion||void 0,securityAnswer:oe.securityAnswer||void 0}),await K(),Dr(),lt.close(),alert("User updated successfully!")}catch(he){console.error("Error updating user:",he),alert("Failed to update user.")}},Hn=async R=>{if(v.length===1&&v[0].username===R){alert("Cannot delete the last user!");return}if(window.confirm(`Are you sure you want to delete user "${R}"?`))try{await f0(R),await K(),alert("User deleted successfully!")}catch(he){console.error("Error deleting user:",he),alert("Failed to delete user.")}},Dr=()=>{ge({username:"",email:"",password:"",securityQuestion:"",securityAnswer:""}),ue(null)},Xs=async(R,he)=>{try{await u_(R,he),await de()}catch(Ge){console.error("Error updating booking:",Ge),alert("Failed to update booking status.")}},Zs=async R=>{if(window.confirm("Are you sure you want to delete this booking?"))try{await c_(R),await de()}catch(he){console.error("Error deleting booking:",he),alert("Failed to delete booking.")}};return p.jsxs("div",{className:F.adminPage,children:[p.jsx("header",{className:F.header,children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:F.headerContent,children:[p.jsx("h1",{children:"Admin Dashboard"}),p.jsxs("div",{className:F.headerActions,children:[p.jsxs("span",{className:F.username,children:[" ",s]}),p.jsx("a",{href:"https://daniellelensly.github.io/Madbatter/",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:p.jsx(be,{variant:"outline",children:"View Site"})}),p.jsx(be,{variant:"danger",onClick:ve,children:"Logout"})]})]})})}),p.jsx("div",{className:F.tabs,children:p.jsxs("div",{className:"container",children:[p.jsx("button",{className:`${F.tab} ${o==="specials"?F.active:""}`,onClick:()=>l("specials"),children:" Specials"}),p.jsx("button",{className:`${F.tab} ${o==="gallery"?F.active:""}`,onClick:()=>l("gallery"),children:" Gallery"}),p.jsx("button",{className:`${F.tab} ${o==="users"?F.active:""}`,onClick:()=>l("users"),children:" Users"}),p.jsx("button",{className:`${F.tab} ${o==="bookings"?F.active:""}`,onClick:()=>l("bookings"),children:" Bookings"})]})}),p.jsx("main",{className:F.content,children:p.jsxs("div",{className:"container",children:[o==="specials"&&p.jsxs("div",{className:F.section,children:[p.jsxs("div",{className:F.sectionHeader,children:[p.jsx("h2",{children:"Manage Specials"}),p.jsx(be,{onClick:G.open,children:"+ Add Special"})]}),f?p.jsx("div",{className:F.loading,children:"Loading specials..."}):p.jsx("div",{className:F.grid,children:u.length>0?u.map(R=>p.jsxs("div",{className:F.card,children:[p.jsx("img",{src:R.imageUrl,alt:R.title,className:F.cardImage}),p.jsxs("div",{className:F.cardContent,children:[p.jsx("h3",{children:R.title}),p.jsx("p",{children:R.description}),p.jsxs("div",{className:F.cardMeta,children:[" ",or(R.startDate)," - ",or(R.endDate)]}),p.jsxs("div",{className:F.cardActions,children:[p.jsx(be,{size:"small",onClick:()=>Ce(R),children:"Edit"}),p.jsx(be,{size:"small",variant:"danger",onClick:()=>sn(R.id),children:"Delete"})]})]})]},R.id)):p.jsxs("div",{className:F.empty,children:[p.jsx("span",{className:F.emptyIcon,children:""}),p.jsx("p",{children:'No specials yet. Click "Add Special" to create one!'})]})})]}),o==="gallery"&&p.jsxs("div",{className:F.section,children:[p.jsxs("div",{className:F.sectionHeader,children:[p.jsx("h2",{children:"Manage Gallery"}),p.jsx(be,{onClick:_e.open,children:"+ Upload Image"})]}),p.jsx("div",{className:F.grid,children:U.length>0?U.map(R=>{var he;return p.jsxs("div",{className:F.card,children:[p.jsx("img",{src:R.imageUrl,alt:R.title,className:F.cardImage}),p.jsxs("div",{className:F.cardContent,children:[p.jsx("h3",{children:R.title}),p.jsx("p",{className:F.category,children:(he=As.find(Ge=>Ge.id===R.category))==null?void 0:he.name}),p.jsxs("div",{className:F.cardActions,children:[p.jsx(be,{size:"small",onClick:()=>Qs(R),children:"Edit"}),p.jsx(be,{size:"small",variant:"danger",onClick:()=>qn(R.id),children:"Delete"})]})]})]},R.id)}):p.jsxs("div",{className:F.empty,children:[p.jsx("span",{className:F.emptyIcon,children:""}),p.jsx("p",{children:'No images yet. Click "Upload Image" to add one!'})]})})]}),o==="users"&&p.jsxs("div",{className:F.section,children:[p.jsxs("div",{className:F.sectionHeader,children:[p.jsx("h2",{children:"Manage Users"}),p.jsx(be,{onClick:Ye.open,children:"+ Add User"})]}),_?p.jsx("div",{className:F.loading,children:"Loading users..."}):p.jsx("div",{className:F.usersList,children:v.map(R=>p.jsxs("div",{className:F.userCard,children:[p.jsxs("div",{className:F.userInfo,children:[p.jsxs("h3",{children:[" ",R.username]}),R.email&&p.jsxs("p",{children:[" ",R.email]}),p.jsxs("p",{className:F.userMeta,children:["Created: ",or(R.createdDate)]})]}),p.jsxs("div",{className:F.cardActions,children:[p.jsx(be,{size:"small",onClick:()=>Lr(R),children:"Edit"}),p.jsx(be,{variant:"danger",size:"small",onClick:()=>Hn(R.username),disabled:v.length===1,children:"Delete"})]})]},R.username))})]}),o==="bookings"&&p.jsxs("div",{className:F.section,children:[p.jsxs("div",{className:F.sectionHeader,children:[p.jsx("h2",{children:"Manage Bookings"}),p.jsx("div",{className:F.refreshBtn,children:p.jsx(be,{size:"small",variant:"outline",onClick:de,children:" Refresh"})})]}),N?p.jsx("div",{className:F.loading,children:"Loading bookings..."}):p.jsx("div",{className:F.bookingsList,children:E.length>0?E.map(R=>p.jsxs("div",{className:`${F.bookingCard} ${F[R.status]}`,children:[p.jsxs("div",{className:F.bookingHeader,children:[p.jsx("h3",{children:R.name}),p.jsx("span",{className:`${F.statusBadge} ${F[R.status]}`,children:R.status.toUpperCase()})]}),p.jsxs("div",{className:F.bookingDetails,children:[p.jsxs("p",{children:[p.jsx("strong",{children:"Date:"})," ",or(R.eventDate)]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Phone:"})," ",R.phone]}),R.email&&p.jsxs("p",{children:[p.jsx("strong",{children:"Email:"})," ",R.email]}),p.jsx("p",{className:F.bookingDesc,children:R.description}),p.jsxs("p",{className:F.submittedAt,children:["Submitted: ",new Date(R.submittedAt).toLocaleString()]})]}),p.jsxs("div",{className:F.bookingActions,children:[p.jsxs("select",{value:R.status,onChange:he=>Xs(R.id,he.target.value),className:F.statusSelect,children:[p.jsx("option",{value:"pending",children:"Pending"}),p.jsx("option",{value:"confirmed",children:"Confirmed"}),p.jsx("option",{value:"completed",children:"Completed"}),p.jsx("option",{value:"cancelled",children:"Cancelled"})]}),p.jsx(be,{size:"small",variant:"danger",onClick:()=>Zs(R.id),children:"Delete"})]})]},R.id)):p.jsxs("div",{className:F.empty,children:[p.jsx("span",{className:F.emptyIcon,children:""}),p.jsx("p",{children:"No bookings yet."})]})})]})]})}),p.jsx(sr,{isOpen:G.isOpen,onClose:()=>{G.close(),Nr()},title:"Add New Special",maxWidth:"700px",children:p.jsxs("form",{onSubmit:ke,className:F.form,children:[p.jsxs("div",{className:F.formGroup,children:[p.jsx("label",{children:"Title *"}),p.jsx("input",{type:"text",value:le.title,onChange:R=>Ee({...le,title:R.target.value}),required:!0})]}),p.jsxs("div",{className:F.formGroup,children:[p.jsx("label",{children:"Description"}),p.jsx("textarea",{value:le.description,onChange:R=>Ee({...le,description:R.target.value}),rows:3})]}),p.jsxs("div",{className:F.formRow,children:[p.jsxs("div",{className:F.formGroup,children:[p.jsx("label",{children:"Start Date *"}),p.jsx("input",{type:"date",value:le.startDate,onChange:R=>Ee({...le,startDate:R.target.value}),required:!0})]}),p.jsxs("div",{className:F.formGroup,children:[p.jsx("label",{children:"End Date *"}),p.jsx("input",{type:"date",value:le.endDate,onChange:R=>Ee({...le,endDate:R.target.value}),min:le.startDate,required:!0})]})]}),p.jsx(yo,{label:"Image",required:!0,preview:ce,onImageSelect:Se}),p.jsx(be,{type:"submit",fullWidth:!0,disabled:f,children:f?"Adding...":"Add Special"})]})}),p.jsx(sr,{isOpen:ae.isOpen,onClose:()=>{ae.close(),Nr()},title:"Edit Special",maxWidth:"700px",children:p.jsxs("form",{onSubmit:ut,className:F.form,children:[p.jsxs("div",{className:F.formGroup,children:[p.jsx("label",{children:"Title *"}),p.jsx("input",{type:"text",value:le.title,onChange:R=>Ee({...le,title:R.target.value}),required:!0})]}),p.jsxs("div",{className:F.formGroup,children:[p.jsx("label",{children:"Description"}),p.jsx("textarea",{value:le.description,onChange:R=>Ee({...le,description:R.target.value}),rows:3})]}),p.jsxs("div",{className:F.formRow,children:[p.jsxs("div",{className:F.formGroup,children:[p.jsx("label",{children:"Start Date *"}),p.jsx("input",{type:"date",value:le.startDate,onChange:R=>Ee({...le,startDate:R.target.value}),required:!0})]}),p.jsxs("div",{className:F.formGroup,children:[p.jsx("label",{children:"End Date *"}),p.jsx("input",{type:"date",value:le.endDate,onChange:R=>Ee({...le,endDate:R.target.value}),min:le.startDate,required:!0})]})]}),p.jsx(yo,{label:"Image (leave empty to keep current)",preview:ce,onImageSelect:Se}),p.jsx(be,{type:"submit",fullWidth:!0,disabled:f,children:f?"Saving...":"Save Changes"})]})}),p.jsx(sr,{isOpen:_e.isOpen,onClose:()=>{_e.close(),Ar()},title:"Upload Image",maxWidth:"700px",children:p.jsxs("form",{onSubmit:Wn,className:F.form,children:[p.jsxs("div",{className:F.formGroup,children:[p.jsx("label",{children:"Category *"}),p.jsx("select",{value:fe.category,onChange:R=>Le({...fe,category:R.target.value}),required:!0,children:As.map(R=>p.jsxs("option",{value:R.id,children:[R.icon," ",R.name]},R.id))})]}),p.jsxs("div",{className:F.formGroup,children:[p.jsx("label",{children:"Title *"}),p.jsx("input",{type:"text",value:fe.title,onChange:R=>Le({...fe,title:R.target.value}),required:!0})]}),p.jsxs("div",{className:F.formGroup,children:[p.jsx("label",{children:"Description"}),p.jsx("textarea",{value:fe.description,onChange:R=>Le({...fe,description:R.target.value}),rows:2})]}),p.jsx(yo,{label:"Image",required:!0,preview:ce,onImageSelect:Ir}),p.jsx(be,{type:"submit",fullWidth:!0,children:"Upload Image"})]})}),p.jsx(sr,{isOpen:je.isOpen,onClose:()=>{je.close(),Ar()},title:"Edit Image",maxWidth:"700px",children:p.jsxs("form",{onSubmit:Ys,className:F.form,children:[p.jsxs("div",{className:F.formGroup,children:[p.jsx("label",{children:"Category *"}),p.jsx("select",{value:fe.category,onChange:R=>Le({...fe,category:R.target.value}),required:!0,children:As.map(R=>p.jsxs("option",{value:R.id,children:[R.icon," ",R.name]},R.id))})]}),p.jsxs("div",{className:F.formGroup,children:[p.jsx("label",{children:"Title *"}),p.jsx("input",{type:"text",value:fe.title,onChange:R=>Le({...fe,title:R.target.value}),required:!0})]}),p.jsxs("div",{className:F.formGroup,children:[p.jsx("label",{children:"Description"}),p.jsx("textarea",{value:fe.description,onChange:R=>Le({...fe,description:R.target.value}),rows:2})]}),p.jsx(yo,{label:"Image (leave empty to keep current)",preview:ce,onImageSelect:Ir}),p.jsx(be,{type:"submit",fullWidth:!0,children:"Save Changes"})]})}),p.jsx(sr,{isOpen:Ye.isOpen,onClose:()=>{Ye.close(),Dr()},title:"Add New User",maxWidth:"700px",children:p.jsxs("form",{onSubmit:Vn,className:F.form,children:[p.jsxs("div",{className:F.formGroup,children:[p.jsx("label",{children:"Username *"}),p.jsx("input",{type:"text",value:oe.username,onChange:R=>ge({...oe,username:R.target.value}),required:!0})]}),p.jsxs("div",{className:F.formGroup,children:[p.jsx("label",{children:"Email (optional)"}),p.jsx("input",{type:"email",value:oe.email,onChange:R=>ge({...oe,email:R.target.value})})]}),p.jsxs("div",{className:F.formGroup,children:[p.jsx("label",{children:"Password *"}),p.jsx("input",{type:"password",value:oe.password,onChange:R=>ge({...oe,password:R.target.value}),required:!0})]}),p.jsxs("div",{className:F.formGroup,children:[p.jsx("label",{children:"Security Question *"}),p.jsx("input",{type:"text",value:oe.securityQuestion,onChange:R=>ge({...oe,securityQuestion:R.target.value}),placeholder:"e.g., What is your favorite color?",required:!0})]}),p.jsxs("div",{className:F.formGroup,children:[p.jsx("label",{children:"Security Answer *"}),p.jsx("input",{type:"text",value:oe.securityAnswer,onChange:R=>ge({...oe,securityAnswer:R.target.value}),placeholder:"Answer to your security question",required:!0})]}),p.jsx(be,{type:"submit",fullWidth:!0,children:"Create User"})]})}),p.jsx(sr,{isOpen:lt.isOpen,onClose:()=>{lt.close(),Dr()},title:`Edit User: ${D==null?void 0:D.username}`,maxWidth:"700px",children:p.jsxs("form",{onSubmit:lr,className:F.form,children:[p.jsxs("div",{className:F.formGroup,children:[p.jsx("label",{children:"Username"}),p.jsx("input",{type:"text",value:oe.username,disabled:!0,className:F.disabled}),p.jsx("small",{children:"Username cannot be changed"})]}),p.jsxs("div",{className:F.formGroup,children:[p.jsx("label",{children:"Email"}),p.jsx("input",{type:"email",value:oe.email,onChange:R=>ge({...oe,email:R.target.value})})]}),p.jsxs("div",{className:F.formGroup,children:[p.jsx("label",{children:"New Password (leave empty to keep current)"}),p.jsx("input",{type:"password",value:oe.password,onChange:R=>ge({...oe,password:R.target.value}),placeholder:"Enter new password"})]}),p.jsxs("div",{className:F.formGroup,children:[p.jsx("label",{children:"Security Question"}),p.jsx("input",{type:"text",value:oe.securityQuestion,onChange:R=>ge({...oe,securityQuestion:R.target.value})})]}),p.jsxs("div",{className:F.formGroup,children:[p.jsx("label",{children:"New Security Answer (leave empty to keep current)"}),p.jsx("input",{type:"text",value:oe.securityAnswer,onChange:R=>ge({...oe,securityAnswer:R.target.value}),placeholder:"Enter new security answer"})]}),p.jsx(be,{type:"submit",fullWidth:!0,children:"Save Changes"})]})})]})},H0="_loginPage_nt4im_1",G0="_loginContainer_nt4im_15",K0="_loginCard_nt4im_20",J0="_title_nt4im_32",Q0="_subtitle_nt4im_45",Y0="_form_nt4im_59",X0="_formGroup_nt4im_65",Z0="_error_nt4im_99",ek="_linkButton_nt4im_116",tk="_instruction_nt4im_136",rk="_securityQuestion_nt4im_148",Ve={loginPage:H0,loginContainer:G0,loginCard:K0,title:J0,subtitle:Q0,form:Y0,formGroup:X0,error:Z0,linkButton:ek,instruction:tk,securityQuestion:rk},nk=()=>{const n=Hl(),{login:r}=Zl(),[s,o]=$.useState("login"),[l,u]=$.useState("credentials"),[h,f]=$.useState({username:"",password:"",securityAnswer:""}),[m,v]=$.useState(""),[y,_]=$.useState(!1),[k,E]=$.useState(null),C=async A=>{A.preventDefault(),v(""),_(!0);try{const L=await Nh(h.username);if(!L){v("Username not found"),_(!1);return}if(L.password!==h.password){v("Incorrect password"),_(!1);return}r(L.username),n("/admin")}catch(L){console.error("Login error:",L),v("An error occurred. Please try again.")}finally{_(!1)}},N=async A=>{A.preventDefault(),v(""),_(!0);try{const L=await Nh(h.username);if(!L){v("Username not found"),_(!1);return}E(L),u("security")}catch(L){console.error("Recovery error:",L),v("An error occurred. Please try again.")}finally{_(!1)}},j=A=>{if(A.preventDefault(),v(""),!k)return;const L=h.securityAnswer.toLowerCase().trim(),K=k.securityAnswer.toLowerCase().trim();if(L!==K){v("Incorrect answer to security question");return}alert(`Your password is: ${k.password}

Please write it down and click OK to return to login.`),o("login"),u("credentials"),f({username:"",password:"",securityAnswer:""}),E(null)},U=()=>{o("login"),u("credentials"),f({username:"",password:"",securityAnswer:""}),E(null),v("")};return p.jsx("div",{className:Ve.loginPage,children:p.jsx("div",{className:Ve.loginContainer,children:p.jsxs("div",{className:Ve.loginCard,children:[p.jsx("h1",{className:Ve.title,children:"The Mad Batter"}),p.jsx("h2",{className:Ve.subtitle,children:s==="login"?"Admin Login":"Password Recovery"}),m&&p.jsx("div",{className:Ve.error,children:m}),s==="login"?p.jsxs("form",{onSubmit:C,className:Ve.form,children:[p.jsxs("div",{className:Ve.formGroup,children:[p.jsx("label",{children:"Username"}),p.jsx("input",{type:"text",value:h.username,onChange:A=>f({...h,username:A.target.value}),placeholder:"Enter your username",required:!0})]}),p.jsxs("div",{className:Ve.formGroup,children:[p.jsx("label",{children:"Password"}),p.jsx("input",{type:"password",value:h.password,onChange:A=>f({...h,password:A.target.value}),placeholder:"Enter your password",required:!0})]}),p.jsx(be,{type:"submit",fullWidth:!0,size:"large",disabled:y,children:y?"Logging in...":"Login"}),p.jsx("button",{type:"button",className:Ve.linkButton,onClick:()=>o("recover"),children:"Forgot your password?"})]}):p.jsx(p.Fragment,{children:l==="credentials"?p.jsxs("form",{onSubmit:N,className:Ve.form,children:[p.jsx("p",{className:Ve.instruction,children:"Enter your username to recover your password"}),p.jsxs("div",{className:Ve.formGroup,children:[p.jsx("label",{children:"Username"}),p.jsx("input",{type:"text",value:h.username,onChange:A=>f({...h,username:A.target.value}),placeholder:"Enter your username",required:!0})]}),p.jsx(be,{type:"submit",fullWidth:!0,size:"large",disabled:y,children:y?"Searching...":"Continue"}),p.jsx("button",{type:"button",className:Ve.linkButton,onClick:U,children:"Back to login"})]}):p.jsxs("form",{onSubmit:j,className:Ve.form,children:[p.jsx("p",{className:Ve.instruction,children:"Answer your security question to recover your password"}),p.jsxs("div",{className:Ve.securityQuestion,children:[p.jsx("strong",{children:"Security Question:"}),p.jsx("p",{children:k==null?void 0:k.securityQuestion})]}),p.jsxs("div",{className:Ve.formGroup,children:[p.jsx("label",{children:"Your Answer"}),p.jsx("input",{type:"text",value:h.securityAnswer,onChange:A=>f({...h,securityAnswer:A.target.value}),placeholder:"Enter your answer",required:!0})]}),p.jsx(be,{type:"submit",fullWidth:!0,size:"large",children:"Recover Password"}),p.jsx("button",{type:"button",className:Ve.linkButton,onClick:U,children:"Back to login"})]})})]})})})},sk=({children:n})=>{const{isAuthenticated:r}=Zl();return r?p.jsx(p.Fragment,{children:n}):p.jsx(Sg,{to:"/madbatter-login",replace:!0})};function ik(){return p.jsx(K_,{children:p.jsx(Cg,{basename:"/Madbatter",children:p.jsxs(bg,{children:[p.jsx(wo,{path:"/",element:p.jsx(G_,{})}),p.jsx(wo,{path:"/madbatter-login",element:p.jsx(nk,{})}),p.jsx(wo,{path:"/admin",element:p.jsx(sk,{children:p.jsx(V0,{})})})]})})})}class ok extends $.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,s){console.error("Error caught by boundary:",r,s)}render(){return this.state.hasError?p.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem",background:"linear-gradient(135deg, #f5f5f5 0%, #ffffff 100%)"},children:p.jsxs("div",{style:{maxWidth:"500px",textAlign:"center",background:"white",padding:"2rem",borderRadius:"1rem",boxShadow:"0 10px 40px rgba(0,0,0,0.1)"},children:[p.jsx("h1",{style:{color:"#c98276",fontSize:"3rem",margin:"0 0 1rem 0"},children:""}),p.jsx("h2",{style:{color:"#333",marginBottom:"1rem"},children:"Oops! Something went wrong"}),p.jsx("p",{style:{color:"#666",marginBottom:"2rem"},children:"We're sorry for the inconvenience. Please refresh the page to try again."}),p.jsx("button",{onClick:()=>window.location.reload(),style:{background:"linear-gradient(135deg, #c98276, #d29985)",color:"white",border:"none",padding:"0.75rem 2rem",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 4px 12px rgba(201, 130, 118, 0.3)"},children:"Refresh Page"}),!1]})}):this.props.children}}Nm.createRoot(document.getElementById("root")).render(p.jsx(Ah.StrictMode,{children:p.jsx(ok,{children:p.jsx(ik,{})})}));
//# sourceMappingURL=index-DCE4Y3Bu.js.map
