function Sm(n,r){for(var s=0;s<r.length;s++){const o=r[s];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in n)){const u=Object.getOwnPropertyDescriptor(o,l);u&&Object.defineProperty(n,l,u.get?u:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}})();function Oh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var gl={exports:{}},Rs={},vl={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ud;function xm(){if(Ud)return me;Ud=1;var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),k=Symbol.iterator;function _(E){return E===null||typeof E!="object"?null:(E=k&&E[k]||E["@@iterator"],typeof E=="function"?E:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,P={};function T(E,L,ue){this.props=E,this.context=L,this.refs=P,this.updater=ue||b}T.prototype.isReactComponent={},T.prototype.setState=function(E,L){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,L,"setState")},T.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function B(){}B.prototype=T.prototype;function A(E,L,ue){this.props=E,this.context=L,this.refs=P,this.updater=ue||b}var D=A.prototype=new B;D.constructor=A,j(D,T.prototype),D.isPureReactComponent=!0;var J=Array.isArray,de=Object.prototype.hasOwnProperty,G={current:null},ae={key:!0,ref:!0,__self:!0,__source:!0};function _e(E,L,ue){var ce,pe={},ve=null,Se=null;if(L!=null)for(ce in L.ref!==void 0&&(Se=L.ref),L.key!==void 0&&(ve=""+L.key),L)de.call(L,ce)&&!ae.hasOwnProperty(ce)&&(pe[ce]=L[ce]);var ke=arguments.length-2;if(ke===1)pe.children=ue;else if(1<ke){for(var je=Array(ke),ut=0;ut<ke;ut++)je[ut]=arguments[ut+2];pe.children=je}if(E&&E.defaultProps)for(ce in ke=E.defaultProps,ke)pe[ce]===void 0&&(pe[ce]=ke[ce]);return{$$typeof:n,type:E,key:ve,ref:Se,props:pe,_owner:G.current}}function Ee(E,L){return{$$typeof:n,type:E.type,key:L,ref:E.ref,props:E.props,_owner:E._owner}}function Ye(E){return typeof E=="object"&&E!==null&&E.$$typeof===n}function lt(E){var L={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(ue){return L[ue]})}var le=/\/+/g;function be(E,L){return typeof E=="object"&&E!==null&&E.key!=null?lt(""+E.key):L.toString(36)}function fe(E,L,ue,ce,pe){var ve=typeof E;(ve==="undefined"||ve==="boolean")&&(E=null);var Se=!1;if(E===null)Se=!0;else switch(ve){case"string":case"number":Se=!0;break;case"object":switch(E.$$typeof){case n:case r:Se=!0}}if(Se)return Se=E,pe=pe(Se),E=ce===""?"."+be(Se,0):ce,J(pe)?(ue="",E!=null&&(ue=E.replace(le,"$&/")+"/"),fe(pe,L,ue,"",function(ut){return ut})):pe!=null&&(Ye(pe)&&(pe=Ee(pe,ue+(!pe.key||Se&&Se.key===pe.key?"":(""+pe.key).replace(le,"$&/")+"/")+E)),L.push(pe)),1;if(Se=0,ce=ce===""?".":ce+":",J(E))for(var ke=0;ke<E.length;ke++){ve=E[ke];var je=ce+be(ve,ke);Se+=fe(ve,L,ue,je,pe)}else if(je=_(E),typeof je=="function")for(E=je.call(E),ke=0;!(ve=E.next()).done;)ve=ve.value,je=ce+be(ve,ke++),Se+=fe(ve,L,ue,je,pe);else if(ve==="object")throw L=String(E),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return Se}function Le(E,L,ue){if(E==null)return E;var ce=[],pe=0;return fe(E,ce,"","",function(ve){return L.call(ue,ve,pe++)}),ce}function oe(E){if(E._status===-1){var L=E._result;L=L(),L.then(function(ue){(E._status===0||E._status===-1)&&(E._status=1,E._result=ue)},function(ue){(E._status===0||E._status===-1)&&(E._status=2,E._result=ue)}),E._status===-1&&(E._status=0,E._result=L)}if(E._status===1)return E._result.default;throw E._result}var ge={current:null},H={transition:null},I={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:H,ReactCurrentOwner:G};function q(){throw Error("act(...) is not supported in production builds of React.")}return me.Children={map:Le,forEach:function(E,L,ue){Le(E,function(){L.apply(this,arguments)},ue)},count:function(E){var L=0;return Le(E,function(){L++}),L},toArray:function(E){return Le(E,function(L){return L})||[]},only:function(E){if(!Ye(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},me.Component=T,me.Fragment=s,me.Profiler=l,me.PureComponent=A,me.StrictMode=o,me.Suspense=p,me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,me.act=q,me.cloneElement=function(E,L,ue){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var ce=j({},E.props),pe=E.key,ve=E.ref,Se=E._owner;if(L!=null){if(L.ref!==void 0&&(ve=L.ref,Se=G.current),L.key!==void 0&&(pe=""+L.key),E.type&&E.type.defaultProps)var ke=E.type.defaultProps;for(je in L)de.call(L,je)&&!ae.hasOwnProperty(je)&&(ce[je]=L[je]===void 0&&ke!==void 0?ke[je]:L[je])}var je=arguments.length-2;if(je===1)ce.children=ue;else if(1<je){ke=Array(je);for(var ut=0;ut<je;ut++)ke[ut]=arguments[ut+2];ce.children=ke}return{$$typeof:n,type:E.type,key:pe,ref:ve,props:ce,_owner:Se}},me.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:u,_context:E},E.Consumer=E},me.createElement=_e,me.createFactory=function(E){var L=_e.bind(null,E);return L.type=E,L},me.createRef=function(){return{current:null}},me.forwardRef=function(E){return{$$typeof:f,render:E}},me.isValidElement=Ye,me.lazy=function(E){return{$$typeof:y,_payload:{_status:-1,_result:E},_init:oe}},me.memo=function(E,L){return{$$typeof:v,type:E,compare:L===void 0?null:L}},me.startTransition=function(E){var L=H.transition;H.transition={};try{E()}finally{H.transition=L}},me.unstable_act=q,me.useCallback=function(E,L){return ge.current.useCallback(E,L)},me.useContext=function(E){return ge.current.useContext(E)},me.useDebugValue=function(){},me.useDeferredValue=function(E){return ge.current.useDeferredValue(E)},me.useEffect=function(E,L){return ge.current.useEffect(E,L)},me.useId=function(){return ge.current.useId()},me.useImperativeHandle=function(E,L,ue){return ge.current.useImperativeHandle(E,L,ue)},me.useInsertionEffect=function(E,L){return ge.current.useInsertionEffect(E,L)},me.useLayoutEffect=function(E,L){return ge.current.useLayoutEffect(E,L)},me.useMemo=function(E,L){return ge.current.useMemo(E,L)},me.useReducer=function(E,L,ue){return ge.current.useReducer(E,L,ue)},me.useRef=function(E){return ge.current.useRef(E)},me.useState=function(E){return ge.current.useState(E)},me.useSyncExternalStore=function(E,L,ue){return ge.current.useSyncExternalStore(E,L,ue)},me.useTransition=function(){return ge.current.useTransition()},me.version="18.3.1",me}var Bd;function Fl(){return Bd||(Bd=1,vl.exports=xm()),vl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Md;function bm(){if(Md)return Rs;Md=1;var n=Fl(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(f,p,v){var y,k={},_=null,b=null;v!==void 0&&(_=""+v),p.key!==void 0&&(_=""+p.key),p.ref!==void 0&&(b=p.ref);for(y in p)o.call(p,y)&&!u.hasOwnProperty(y)&&(k[y]=p[y]);if(f&&f.defaultProps)for(y in p=f.defaultProps,p)k[y]===void 0&&(k[y]=p[y]);return{$$typeof:r,type:f,key:_,ref:b,props:k,_owner:l.current}}return Rs.Fragment=s,Rs.jsx=h,Rs.jsxs=h,Rs}var zd;function Em(){return zd||(zd=1,gl.exports=bm()),gl.exports}var m=Em(),$=Fl();const Ph=Oh($),jm=Sm({__proto__:null,default:Ph},[$]);var lo={},yl={exports:{}},yt={},wl={exports:{}},_l={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fd;function Cm(){return Fd||(Fd=1,(function(n){function r(H,I){var q=H.length;H.push(I);e:for(;0<q;){var E=q-1>>>1,L=H[E];if(0<l(L,I))H[E]=I,H[q]=L,q=E;else break e}}function s(H){return H.length===0?null:H[0]}function o(H){if(H.length===0)return null;var I=H[0],q=H.pop();if(q!==I){H[0]=q;e:for(var E=0,L=H.length,ue=L>>>1;E<ue;){var ce=2*(E+1)-1,pe=H[ce],ve=ce+1,Se=H[ve];if(0>l(pe,q))ve<L&&0>l(Se,pe)?(H[E]=Se,H[ve]=q,E=ve):(H[E]=pe,H[ce]=q,E=ce);else if(ve<L&&0>l(Se,q))H[E]=Se,H[ve]=q,E=ve;else break e}}return I}function l(H,I){var q=H.sortIndex-I.sortIndex;return q!==0?q:H.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();n.unstable_now=function(){return h.now()-f}}var p=[],v=[],y=1,k=null,_=3,b=!1,j=!1,P=!1,T=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(H){for(var I=s(v);I!==null;){if(I.callback===null)o(v);else if(I.startTime<=H)o(v),I.sortIndex=I.expirationTime,r(p,I);else break;I=s(v)}}function J(H){if(P=!1,D(H),!j)if(s(p)!==null)j=!0,oe(de);else{var I=s(v);I!==null&&ge(J,I.startTime-H)}}function de(H,I){j=!1,P&&(P=!1,B(_e),_e=-1),b=!0;var q=_;try{for(D(I),k=s(p);k!==null&&(!(k.expirationTime>I)||H&&!lt());){var E=k.callback;if(typeof E=="function"){k.callback=null,_=k.priorityLevel;var L=E(k.expirationTime<=I);I=n.unstable_now(),typeof L=="function"?k.callback=L:k===s(p)&&o(p),D(I)}else o(p);k=s(p)}if(k!==null)var ue=!0;else{var ce=s(v);ce!==null&&ge(J,ce.startTime-I),ue=!1}return ue}finally{k=null,_=q,b=!1}}var G=!1,ae=null,_e=-1,Ee=5,Ye=-1;function lt(){return!(n.unstable_now()-Ye<Ee)}function le(){if(ae!==null){var H=n.unstable_now();Ye=H;var I=!0;try{I=ae(!0,H)}finally{I?be():(G=!1,ae=null)}}else G=!1}var be;if(typeof A=="function")be=function(){A(le)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,Le=fe.port2;fe.port1.onmessage=le,be=function(){Le.postMessage(null)}}else be=function(){T(le,0)};function oe(H){ae=H,G||(G=!0,be())}function ge(H,I){_e=T(function(){H(n.unstable_now())},I)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){j||b||(j=!0,oe(de))},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ee=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return s(p)},n.unstable_next=function(H){switch(_){case 1:case 2:case 3:var I=3;break;default:I=_}var q=_;_=I;try{return H()}finally{_=q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,I){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var q=_;_=H;try{return I()}finally{_=q}},n.unstable_scheduleCallback=function(H,I,q){var E=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?E+q:E):q=E,H){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=q+L,H={id:y++,callback:I,priorityLevel:H,startTime:q,expirationTime:L,sortIndex:-1},q>E?(H.sortIndex=q,r(v,H),s(p)===null&&H===s(v)&&(P?(B(_e),_e=-1):P=!0,ge(J,q-E))):(H.sortIndex=L,r(p,H),j||b||(j=!0,oe(de))),H},n.unstable_shouldYield=lt,n.unstable_wrapCallback=function(H){var I=_;return function(){var q=_;_=I;try{return H.apply(this,arguments)}finally{_=q}}}})(_l)),_l}var Wd;function Tm(){return Wd||(Wd=1,wl.exports=Cm()),wl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qd;function Rm(){if(qd)return yt;qd=1;var n=Fl(),r=Tm();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function u(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},k={};function _(e){return p.call(k,e)?!0:p.call(y,e)?!1:v.test(e)?k[e]=!0:(y[e]=!0,!1)}function b(e,t,i,a){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function j(e,t,i,a){if(t===null||typeof t>"u"||b(e,t,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function P(e,t,i,a,c,d,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=g}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new P(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];T[t]=new P(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new P(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new P(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new P(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new P(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){T[e]=new P(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){T[e]=new P(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){T[e]=new P(e,5,!1,e.toLowerCase(),null,!1,!1)});var B=/[\-:]([a-z])/g;function A(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(B,A);T[t]=new P(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(B,A);T[t]=new P(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(B,A);T[t]=new P(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new P(e,1,!1,e.toLowerCase(),null,!1,!1)}),T.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){T[e]=new P(e,1,!1,e.toLowerCase(),null,!0,!0)});function D(e,t,i,a){var c=T.hasOwnProperty(t)?T[t]:null;(c!==null?c.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(j(t,i,c,a)&&(i=null),a||c===null?_(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):c.mustUseProperty?e[c.propertyName]=i===null?c.type===3?!1:"":i:(t=c.attributeName,a=c.attributeNamespace,i===null?e.removeAttribute(t):(c=c.type,i=c===3||c===4&&i===!0?"":""+i,a?e.setAttributeNS(a,t,i):e.setAttribute(t,i))))}var J=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,de=Symbol.for("react.element"),G=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),_e=Symbol.for("react.strict_mode"),Ee=Symbol.for("react.profiler"),Ye=Symbol.for("react.provider"),lt=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),Le=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),H=Symbol.iterator;function I(e){return e===null||typeof e!="object"?null:(e=H&&e[H]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,E;function L(e){if(E===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);E=t&&t[1]||""}return`
`+E+e}var ue=!1;function ce(e,t){if(!e||ue)return"";ue=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(N){var a=N}Reflect.construct(e,[],t)}else{try{t.call()}catch(N){a=N}e.call(t.prototype)}else{try{throw Error()}catch(N){a=N}e()}}catch(N){if(N&&a&&typeof N.stack=="string"){for(var c=N.stack.split(`
`),d=a.stack.split(`
`),g=c.length-1,w=d.length-1;1<=g&&0<=w&&c[g]!==d[w];)w--;for(;1<=g&&0<=w;g--,w--)if(c[g]!==d[w]){if(g!==1||w!==1)do if(g--,w--,0>w||c[g]!==d[w]){var S=`
`+c[g].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=g&&0<=w);break}}}finally{ue=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?L(e):""}function pe(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=ce(e.type,!1),e;case 11:return e=ce(e.type.render,!1),e;case 1:return e=ce(e.type,!0),e;default:return""}}function ve(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ae:return"Fragment";case G:return"Portal";case Ee:return"Profiler";case _e:return"StrictMode";case be:return"Suspense";case fe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case lt:return(e.displayName||"Context")+".Consumer";case Ye:return(e._context.displayName||"Context")+".Provider";case le:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Le:return t=e.displayName||null,t!==null?t:ve(e.type)||"Memo";case oe:t=e._payload,e=e._init;try{return ve(e(t))}catch{}}return null}function Se(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(t);case 8:return t===_e?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ke(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function je(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ut(e){var t=je(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,d=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,d.call(this,g)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sn(e){e._valueTracker||(e._valueTracker=ut(e))}function Nr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=je(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function Ir(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wn(e,t){var i=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Qs(e,t){var i=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;i=ke(t.value!=null?t.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ys(e,t){t=t.checked,t!=null&&D(e,"checked",t,!1)}function qn(e,t){Ys(e,t);var i=ke(t.value),a=t.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vn(e,t.type,i):t.hasOwnProperty("defaultValue")&&Vn(e,t.type,ke(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ar(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Vn(e,t,i){(t!=="number"||Ir(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Lr=Array.isArray;function lr(e,t,i,a){if(e=e.options,t){t={};for(var c=0;c<i.length;c++)t["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=t.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&a&&(e[i].defaultSelected=!0)}else{for(i=""+ke(i),t=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Hn(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Dr(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(s(92));if(Lr(i)){if(1<i.length)throw Error(s(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:ke(i)}}function Xs(e,t){var i=ke(t.value),a=ke(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function Zs(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function R(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?R(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ge,ei=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,a,c){MSApp.execUnsafeLocalFunction(function(){return e(t,i,a,c)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ge=Ge||document.createElement("div"),Ge.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ge.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zt(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var ur={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jf=["Webkit","ms","Moz","O"];Object.keys(ur).forEach(function(e){jf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ur[t]=ur[e]})});function Zl(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||ur.hasOwnProperty(e)&&ur[e]?(""+t).trim():t+"px"}function eu(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var a=i.indexOf("--")===0,c=Zl(i,t[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,c):e[i]=c}}var Cf=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function To(e,t){if(t){if(Cf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function Ro(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oo=null;function Po(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var No=null,on=null,an=null;function tu(e){if(e=ps(e)){if(typeof No!="function")throw Error(s(280));var t=e.stateNode;t&&(t=xi(t),No(e.stateNode,e.type,t))}}function ru(e){on?an?an.push(e):an=[e]:on=e}function nu(){if(on){var e=on,t=an;if(an=on=null,tu(e),t)for(e=0;e<t.length;e++)tu(t[e])}}function su(e,t){return e(t)}function iu(){}var Io=!1;function ou(e,t,i){if(Io)return e(t,i);Io=!0;try{return su(e,t,i)}finally{Io=!1,(on!==null||an!==null)&&(iu(),nu())}}function Gn(e,t){var i=e.stateNode;if(i===null)return null;var a=xi(i);if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,t,typeof i));return i}var Ao=!1;if(f)try{var Kn={};Object.defineProperty(Kn,"passive",{get:function(){Ao=!0}}),window.addEventListener("test",Kn,Kn),window.removeEventListener("test",Kn,Kn)}catch{Ao=!1}function Tf(e,t,i,a,c,d,g,w,S){var N=Array.prototype.slice.call(arguments,3);try{t.apply(i,N)}catch(M){this.onError(M)}}var Jn=!1,ti=null,ri=!1,Lo=null,Rf={onError:function(e){Jn=!0,ti=e}};function Of(e,t,i,a,c,d,g,w,S){Jn=!1,ti=null,Tf.apply(Rf,arguments)}function Pf(e,t,i,a,c,d,g,w,S){if(Of.apply(this,arguments),Jn){if(Jn){var N=ti;Jn=!1,ti=null}else throw Error(s(198));ri||(ri=!0,Lo=N)}}function $r(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function au(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lu(e){if($r(e)!==e)throw Error(s(188))}function Nf(e){var t=e.alternate;if(!t){if(t=$r(e),t===null)throw Error(s(188));return t!==e?null:e}for(var i=e,a=t;;){var c=i.return;if(c===null)break;var d=c.alternate;if(d===null){if(a=c.return,a!==null){i=a;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===i)return lu(c),e;if(d===a)return lu(c),t;d=d.sibling}throw Error(s(188))}if(i.return!==a.return)i=c,a=d;else{for(var g=!1,w=c.child;w;){if(w===i){g=!0,i=c,a=d;break}if(w===a){g=!0,a=c,i=d;break}w=w.sibling}if(!g){for(w=d.child;w;){if(w===i){g=!0,i=d,a=c;break}if(w===a){g=!0,a=d,i=c;break}w=w.sibling}if(!g)throw Error(s(189))}}if(i.alternate!==a)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:t}function uu(e){return e=Nf(e),e!==null?cu(e):null}function cu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cu(e);if(t!==null)return t;e=e.sibling}return null}var du=r.unstable_scheduleCallback,hu=r.unstable_cancelCallback,If=r.unstable_shouldYield,Af=r.unstable_requestPaint,Ue=r.unstable_now,Lf=r.unstable_getCurrentPriorityLevel,Do=r.unstable_ImmediatePriority,fu=r.unstable_UserBlockingPriority,ni=r.unstable_NormalPriority,Df=r.unstable_LowPriority,pu=r.unstable_IdlePriority,si=null,Ft=null;function $f(e){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(si,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:Mf,Uf=Math.log,Bf=Math.LN2;function Mf(e){return e>>>=0,e===0?32:31-(Uf(e)/Bf|0)|0}var ii=64,oi=4194304;function Qn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ai(e,t){var i=e.pendingLanes;if(i===0)return 0;var a=0,c=e.suspendedLanes,d=e.pingedLanes,g=i&268435455;if(g!==0){var w=g&~c;w!==0?a=Qn(w):(d&=g,d!==0&&(a=Qn(d)))}else g=i&~c,g!==0?a=Qn(g):d!==0&&(a=Qn(d));if(a===0)return 0;if(t!==0&&t!==a&&(t&c)===0&&(c=a&-a,d=t&-t,c>=d||c===16&&(d&4194240)!==0))return t;if((a&4)!==0&&(a|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)i=31-Pt(t),c=1<<i,a|=e[i],t&=~c;return a}function zf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ff(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes;0<d;){var g=31-Pt(d),w=1<<g,S=c[g];S===-1?((w&i)===0||(w&a)!==0)&&(c[g]=zf(w,t)):S<=t&&(e.expiredLanes|=w),d&=~w}}function $o(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mu(){var e=ii;return ii<<=1,(ii&4194240)===0&&(ii=64),e}function Uo(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Yn(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=i}function Wf(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var c=31-Pt(i),d=1<<c;t[c]=0,a[c]=-1,e[c]=-1,i&=~d}}function Bo(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-Pt(i),c=1<<a;c&t|e[a]&t&&(e[a]|=t),i&=~c}}var xe=0;function gu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var vu,Mo,yu,wu,_u,zo=!1,li=[],cr=null,dr=null,hr=null,Xn=new Map,Zn=new Map,fr=[],qf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ku(e,t){switch(e){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":Xn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zn.delete(t.pointerId)}}function es(e,t,i,a,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:d,targetContainers:[c]},t!==null&&(t=ps(t),t!==null&&Mo(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Vf(e,t,i,a,c){switch(t){case"focusin":return cr=es(cr,e,t,i,a,c),!0;case"dragenter":return dr=es(dr,e,t,i,a,c),!0;case"mouseover":return hr=es(hr,e,t,i,a,c),!0;case"pointerover":var d=c.pointerId;return Xn.set(d,es(Xn.get(d)||null,e,t,i,a,c)),!0;case"gotpointercapture":return d=c.pointerId,Zn.set(d,es(Zn.get(d)||null,e,t,i,a,c)),!0}return!1}function Su(e){var t=Ur(e.target);if(t!==null){var i=$r(t);if(i!==null){if(t=i.tag,t===13){if(t=au(i),t!==null){e.blockedOn=t,_u(e.priority,function(){yu(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ui(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Wo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);Oo=a,i.target.dispatchEvent(a),Oo=null}else return t=ps(i),t!==null&&Mo(t),e.blockedOn=i,!1;t.shift()}return!0}function xu(e,t,i){ui(e)&&i.delete(t)}function Hf(){zo=!1,cr!==null&&ui(cr)&&(cr=null),dr!==null&&ui(dr)&&(dr=null),hr!==null&&ui(hr)&&(hr=null),Xn.forEach(xu),Zn.forEach(xu)}function ts(e,t){e.blockedOn===t&&(e.blockedOn=null,zo||(zo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Hf)))}function rs(e){function t(c){return ts(c,e)}if(0<li.length){ts(li[0],e);for(var i=1;i<li.length;i++){var a=li[i];a.blockedOn===e&&(a.blockedOn=null)}}for(cr!==null&&ts(cr,e),dr!==null&&ts(dr,e),hr!==null&&ts(hr,e),Xn.forEach(t),Zn.forEach(t),i=0;i<fr.length;i++)a=fr[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<fr.length&&(i=fr[0],i.blockedOn===null);)Su(i),i.blockedOn===null&&fr.shift()}var ln=J.ReactCurrentBatchConfig,ci=!0;function Gf(e,t,i,a){var c=xe,d=ln.transition;ln.transition=null;try{xe=1,Fo(e,t,i,a)}finally{xe=c,ln.transition=d}}function Kf(e,t,i,a){var c=xe,d=ln.transition;ln.transition=null;try{xe=4,Fo(e,t,i,a)}finally{xe=c,ln.transition=d}}function Fo(e,t,i,a){if(ci){var c=Wo(e,t,i,a);if(c===null)oa(e,t,a,di,i),ku(e,a);else if(Vf(c,e,t,i,a))a.stopPropagation();else if(ku(e,a),t&4&&-1<qf.indexOf(e)){for(;c!==null;){var d=ps(c);if(d!==null&&vu(d),d=Wo(e,t,i,a),d===null&&oa(e,t,a,di,i),d===c)break;c=d}c!==null&&a.stopPropagation()}else oa(e,t,a,null,i)}}var di=null;function Wo(e,t,i,a){if(di=null,e=Po(a),e=Ur(e),e!==null)if(t=$r(e),t===null)e=null;else if(i=t.tag,i===13){if(e=au(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return di=e,null}function bu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lf()){case Do:return 1;case fu:return 4;case ni:case Df:return 16;case pu:return 536870912;default:return 16}default:return 16}}var pr=null,qo=null,hi=null;function Eu(){if(hi)return hi;var e,t=qo,i=t.length,a,c="value"in pr?pr.value:pr.textContent,d=c.length;for(e=0;e<i&&t[e]===c[e];e++);var g=i-e;for(a=1;a<=g&&t[i-a]===c[d-a];a++);return hi=c.slice(e,1<a?1-a:void 0)}function fi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pi(){return!0}function ju(){return!1}function wt(e){function t(i,a,c,d,g){this._reactName=i,this._targetInst=c,this.type=a,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(i=e[w],this[w]=i?i(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?pi:ju,this.isPropagationStopped=ju,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),t}var un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vo=wt(un),ns=q({},un,{view:0,detail:0}),Jf=wt(ns),Ho,Go,ss,mi=q({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ss&&(ss&&e.type==="mousemove"?(Ho=e.screenX-ss.screenX,Go=e.screenY-ss.screenY):Go=Ho=0,ss=e),Ho)},movementY:function(e){return"movementY"in e?e.movementY:Go}}),Cu=wt(mi),Qf=q({},mi,{dataTransfer:0}),Yf=wt(Qf),Xf=q({},ns,{relatedTarget:0}),Ko=wt(Xf),Zf=q({},un,{animationName:0,elapsedTime:0,pseudoElement:0}),ep=wt(Zf),tp=q({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rp=wt(tp),np=q({},un,{data:0}),Tu=wt(np),sp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ip={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},op={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ap(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=op[e])?!!t[e]:!1}function Jo(){return ap}var lp=q({},ns,{key:function(e){if(e.key){var t=sp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ip[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jo,charCode:function(e){return e.type==="keypress"?fi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),up=wt(lp),cp=q({},mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ru=wt(cp),dp=q({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jo}),hp=wt(dp),fp=q({},un,{propertyName:0,elapsedTime:0,pseudoElement:0}),pp=wt(fp),mp=q({},mi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gp=wt(mp),vp=[9,13,27,32],Qo=f&&"CompositionEvent"in window,is=null;f&&"documentMode"in document&&(is=document.documentMode);var yp=f&&"TextEvent"in window&&!is,Ou=f&&(!Qo||is&&8<is&&11>=is),Pu=" ",Nu=!1;function Iu(e,t){switch(e){case"keyup":return vp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Au(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cn=!1;function wp(e,t){switch(e){case"compositionend":return Au(t);case"keypress":return t.which!==32?null:(Nu=!0,Pu);case"textInput":return e=t.data,e===Pu&&Nu?null:e;default:return null}}function _p(e,t){if(cn)return e==="compositionend"||!Qo&&Iu(e,t)?(e=Eu(),hi=qo=pr=null,cn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ou&&t.locale!=="ko"?null:t.data;default:return null}}var kp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kp[e.type]:t==="textarea"}function Du(e,t,i,a){ru(a),t=_i(t,"onChange"),0<t.length&&(i=new Vo("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var os=null,as=null;function Sp(e){ec(e,0)}function gi(e){var t=mn(e);if(Nr(t))return e}function xp(e,t){if(e==="change")return t}var $u=!1;if(f){var Yo;if(f){var Xo="oninput"in document;if(!Xo){var Uu=document.createElement("div");Uu.setAttribute("oninput","return;"),Xo=typeof Uu.oninput=="function"}Yo=Xo}else Yo=!1;$u=Yo&&(!document.documentMode||9<document.documentMode)}function Bu(){os&&(os.detachEvent("onpropertychange",Mu),as=os=null)}function Mu(e){if(e.propertyName==="value"&&gi(as)){var t=[];Du(t,as,e,Po(e)),ou(Sp,t)}}function bp(e,t,i){e==="focusin"?(Bu(),os=t,as=i,os.attachEvent("onpropertychange",Mu)):e==="focusout"&&Bu()}function Ep(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gi(as)}function jp(e,t){if(e==="click")return gi(t)}function Cp(e,t){if(e==="input"||e==="change")return gi(t)}function Tp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nt=typeof Object.is=="function"?Object.is:Tp;function ls(e,t){if(Nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var c=i[a];if(!p.call(t,c)||!Nt(e[c],t[c]))return!1}return!0}function zu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fu(e,t){var i=zu(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=zu(i)}}function Wu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qu(){for(var e=window,t=Ir();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Ir(e.document)}return t}function Zo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Rp(e){var t=qu(),i=e.focusedElem,a=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&Wu(i.ownerDocument.documentElement,i)){if(a!==null&&Zo(i)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=i.textContent.length,d=Math.min(a.start,c);a=a.end===void 0?d:Math.min(a.end,c),!e.extend&&d>a&&(c=a,a=d,d=c),c=Fu(i,d);var g=Fu(i,a);c&&g&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),d>a?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Op=f&&"documentMode"in document&&11>=document.documentMode,dn=null,ea=null,us=null,ta=!1;function Vu(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ta||dn==null||dn!==Ir(a)||(a=dn,"selectionStart"in a&&Zo(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),us&&ls(us,a)||(us=a,a=_i(ea,"onSelect"),0<a.length&&(t=new Vo("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=dn)))}function vi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var hn={animationend:vi("Animation","AnimationEnd"),animationiteration:vi("Animation","AnimationIteration"),animationstart:vi("Animation","AnimationStart"),transitionend:vi("Transition","TransitionEnd")},ra={},Hu={};f&&(Hu=document.createElement("div").style,"AnimationEvent"in window||(delete hn.animationend.animation,delete hn.animationiteration.animation,delete hn.animationstart.animation),"TransitionEvent"in window||delete hn.transitionend.transition);function yi(e){if(ra[e])return ra[e];if(!hn[e])return e;var t=hn[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Hu)return ra[e]=t[i];return e}var Gu=yi("animationend"),Ku=yi("animationiteration"),Ju=yi("animationstart"),Qu=yi("transitionend"),Yu=new Map,Xu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mr(e,t){Yu.set(e,t),u(t,[e])}for(var na=0;na<Xu.length;na++){var sa=Xu[na],Pp=sa.toLowerCase(),Np=sa[0].toUpperCase()+sa.slice(1);mr(Pp,"on"+Np)}mr(Gu,"onAnimationEnd"),mr(Ku,"onAnimationIteration"),mr(Ju,"onAnimationStart"),mr("dblclick","onDoubleClick"),mr("focusin","onFocus"),mr("focusout","onBlur"),mr(Qu,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ip=new Set("cancel close invalid load scroll toggle".split(" ").concat(cs));function Zu(e,t,i){var a=e.type||"unknown-event";e.currentTarget=i,Pf(a,t,void 0,e),e.currentTarget=null}function ec(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],c=a.event;a=a.listeners;e:{var d=void 0;if(t)for(var g=a.length-1;0<=g;g--){var w=a[g],S=w.instance,N=w.currentTarget;if(w=w.listener,S!==d&&c.isPropagationStopped())break e;Zu(c,w,N),d=S}else for(g=0;g<a.length;g++){if(w=a[g],S=w.instance,N=w.currentTarget,w=w.listener,S!==d&&c.isPropagationStopped())break e;Zu(c,w,N),d=S}}}if(ri)throw e=Lo,ri=!1,Lo=null,e}function Oe(e,t){var i=t[ha];i===void 0&&(i=t[ha]=new Set);var a=e+"__bubble";i.has(a)||(tc(t,e,2,!1),i.add(a))}function ia(e,t,i){var a=0;t&&(a|=4),tc(i,e,a,t)}var wi="_reactListening"+Math.random().toString(36).slice(2);function ds(e){if(!e[wi]){e[wi]=!0,o.forEach(function(i){i!=="selectionchange"&&(Ip.has(i)||ia(i,!1,e),ia(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wi]||(t[wi]=!0,ia("selectionchange",!1,t))}}function tc(e,t,i,a){switch(bu(t)){case 1:var c=Gf;break;case 4:c=Kf;break;default:c=Fo}i=c.bind(null,t,i,e),c=void 0,!Ao||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(t,i,{capture:!0,passive:c}):e.addEventListener(t,i,!0):c!==void 0?e.addEventListener(t,i,{passive:c}):e.addEventListener(t,i,!1)}function oa(e,t,i,a,c){var d=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var w=a.stateNode.containerInfo;if(w===c||w.nodeType===8&&w.parentNode===c)break;if(g===4)for(g=a.return;g!==null;){var S=g.tag;if((S===3||S===4)&&(S=g.stateNode.containerInfo,S===c||S.nodeType===8&&S.parentNode===c))return;g=g.return}for(;w!==null;){if(g=Ur(w),g===null)return;if(S=g.tag,S===5||S===6){a=d=g;continue e}w=w.parentNode}}a=a.return}ou(function(){var N=d,M=Po(i),z=[];e:{var U=Yu.get(e);if(U!==void 0){var K=Vo,Y=e;switch(e){case"keypress":if(fi(i)===0)break e;case"keydown":case"keyup":K=up;break;case"focusin":Y="focus",K=Ko;break;case"focusout":Y="blur",K=Ko;break;case"beforeblur":case"afterblur":K=Ko;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Cu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Yf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=hp;break;case Gu:case Ku:case Ju:K=ep;break;case Qu:K=pp;break;case"scroll":K=Jf;break;case"wheel":K=gp;break;case"copy":case"cut":case"paste":K=rp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Ru}var X=(t&4)!==0,Be=!X&&e==="scroll",C=X?U!==null?U+"Capture":null:U;X=[];for(var x=N,O;x!==null;){O=x;var W=O.stateNode;if(O.tag===5&&W!==null&&(O=W,C!==null&&(W=Gn(x,C),W!=null&&X.push(hs(x,W,O)))),Be)break;x=x.return}0<X.length&&(U=new K(U,Y,null,i,M),z.push({event:U,listeners:X}))}}if((t&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",U&&i!==Oo&&(Y=i.relatedTarget||i.fromElement)&&(Ur(Y)||Y[Kt]))break e;if((K||U)&&(U=M.window===M?M:(U=M.ownerDocument)?U.defaultView||U.parentWindow:window,K?(Y=i.relatedTarget||i.toElement,K=N,Y=Y?Ur(Y):null,Y!==null&&(Be=$r(Y),Y!==Be||Y.tag!==5&&Y.tag!==6)&&(Y=null)):(K=null,Y=N),K!==Y)){if(X=Cu,W="onMouseLeave",C="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(X=Ru,W="onPointerLeave",C="onPointerEnter",x="pointer"),Be=K==null?U:mn(K),O=Y==null?U:mn(Y),U=new X(W,x+"leave",K,i,M),U.target=Be,U.relatedTarget=O,W=null,Ur(M)===N&&(X=new X(C,x+"enter",Y,i,M),X.target=O,X.relatedTarget=Be,W=X),Be=W,K&&Y)t:{for(X=K,C=Y,x=0,O=X;O;O=fn(O))x++;for(O=0,W=C;W;W=fn(W))O++;for(;0<x-O;)X=fn(X),x--;for(;0<O-x;)C=fn(C),O--;for(;x--;){if(X===C||C!==null&&X===C.alternate)break t;X=fn(X),C=fn(C)}X=null}else X=null;K!==null&&rc(z,U,K,X,!1),Y!==null&&Be!==null&&rc(z,Be,Y,X,!0)}}e:{if(U=N?mn(N):window,K=U.nodeName&&U.nodeName.toLowerCase(),K==="select"||K==="input"&&U.type==="file")var Z=xp;else if(Lu(U))if($u)Z=Cp;else{Z=Ep;var te=bp}else(K=U.nodeName)&&K.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(Z=jp);if(Z&&(Z=Z(e,N))){Du(z,Z,i,M);break e}te&&te(e,U,N),e==="focusout"&&(te=U._wrapperState)&&te.controlled&&U.type==="number"&&Vn(U,"number",U.value)}switch(te=N?mn(N):window,e){case"focusin":(Lu(te)||te.contentEditable==="true")&&(dn=te,ea=N,us=null);break;case"focusout":us=ea=dn=null;break;case"mousedown":ta=!0;break;case"contextmenu":case"mouseup":case"dragend":ta=!1,Vu(z,i,M);break;case"selectionchange":if(Op)break;case"keydown":case"keyup":Vu(z,i,M)}var re;if(Qo)e:{switch(e){case"compositionstart":var ie="onCompositionStart";break e;case"compositionend":ie="onCompositionEnd";break e;case"compositionupdate":ie="onCompositionUpdate";break e}ie=void 0}else cn?Iu(e,i)&&(ie="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ie="onCompositionStart");ie&&(Ou&&i.locale!=="ko"&&(cn||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&cn&&(re=Eu()):(pr=M,qo="value"in pr?pr.value:pr.textContent,cn=!0)),te=_i(N,ie),0<te.length&&(ie=new Tu(ie,e,null,i,M),z.push({event:ie,listeners:te}),re?ie.data=re:(re=Au(i),re!==null&&(ie.data=re)))),(re=yp?wp(e,i):_p(e,i))&&(N=_i(N,"onBeforeInput"),0<N.length&&(M=new Tu("onBeforeInput","beforeinput",null,i,M),z.push({event:M,listeners:N}),M.data=re))}ec(z,t)})}function hs(e,t,i){return{instance:e,listener:t,currentTarget:i}}function _i(e,t){for(var i=t+"Capture",a=[];e!==null;){var c=e,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=Gn(e,i),d!=null&&a.unshift(hs(e,d,c)),d=Gn(e,t),d!=null&&a.push(hs(e,d,c))),e=e.return}return a}function fn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function rc(e,t,i,a,c){for(var d=t._reactName,g=[];i!==null&&i!==a;){var w=i,S=w.alternate,N=w.stateNode;if(S!==null&&S===a)break;w.tag===5&&N!==null&&(w=N,c?(S=Gn(i,d),S!=null&&g.unshift(hs(i,S,w))):c||(S=Gn(i,d),S!=null&&g.push(hs(i,S,w)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var Ap=/\r\n?/g,Lp=/\u0000|\uFFFD/g;function nc(e){return(typeof e=="string"?e:""+e).replace(Ap,`
`).replace(Lp,"")}function ki(e,t,i){if(t=nc(t),nc(e)!==t&&i)throw Error(s(425))}function Si(){}var aa=null,la=null;function ua(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ca=typeof setTimeout=="function"?setTimeout:void 0,Dp=typeof clearTimeout=="function"?clearTimeout:void 0,sc=typeof Promise=="function"?Promise:void 0,$p=typeof queueMicrotask=="function"?queueMicrotask:typeof sc<"u"?function(e){return sc.resolve(null).then(e).catch(Up)}:ca;function Up(e){setTimeout(function(){throw e})}function da(e,t){var i=t,a=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(a===0){e.removeChild(c),rs(t);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=c}while(i);rs(t)}function gr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ic(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var pn=Math.random().toString(36).slice(2),Wt="__reactFiber$"+pn,fs="__reactProps$"+pn,Kt="__reactContainer$"+pn,ha="__reactEvents$"+pn,Bp="__reactListeners$"+pn,Mp="__reactHandles$"+pn;function Ur(e){var t=e[Wt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Kt]||i[Wt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=ic(e);e!==null;){if(i=e[Wt])return i;e=ic(e)}return t}e=i,i=e.parentNode}return null}function ps(e){return e=e[Wt]||e[Kt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function xi(e){return e[fs]||null}var fa=[],gn=-1;function vr(e){return{current:e}}function Pe(e){0>gn||(e.current=fa[gn],fa[gn]=null,gn--)}function Ce(e,t){gn++,fa[gn]=e.current,e.current=t}var yr={},nt=vr(yr),ft=vr(!1),Br=yr;function vn(e,t){var i=e.type.contextTypes;if(!i)return yr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in i)c[d]=t[d];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function pt(e){return e=e.childContextTypes,e!=null}function bi(){Pe(ft),Pe(nt)}function oc(e,t,i){if(nt.current!==yr)throw Error(s(168));Ce(nt,t),Ce(ft,i)}function ac(e,t,i){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var c in a)if(!(c in t))throw Error(s(108,Se(e)||"Unknown",c));return q({},i,a)}function Ei(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yr,Br=nt.current,Ce(nt,e),Ce(ft,ft.current),!0}function lc(e,t,i){var a=e.stateNode;if(!a)throw Error(s(169));i?(e=ac(e,t,Br),a.__reactInternalMemoizedMergedChildContext=e,Pe(ft),Pe(nt),Ce(nt,e)):Pe(ft),Ce(ft,i)}var Jt=null,ji=!1,pa=!1;function uc(e){Jt===null?Jt=[e]:Jt.push(e)}function zp(e){ji=!0,uc(e)}function wr(){if(!pa&&Jt!==null){pa=!0;var e=0,t=xe;try{var i=Jt;for(xe=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}Jt=null,ji=!1}catch(c){throw Jt!==null&&(Jt=Jt.slice(e+1)),du(Do,wr),c}finally{xe=t,pa=!1}}return null}var yn=[],wn=0,Ci=null,Ti=0,Et=[],jt=0,Mr=null,Qt=1,Yt="";function zr(e,t){yn[wn++]=Ti,yn[wn++]=Ci,Ci=e,Ti=t}function cc(e,t,i){Et[jt++]=Qt,Et[jt++]=Yt,Et[jt++]=Mr,Mr=e;var a=Qt;e=Yt;var c=32-Pt(a)-1;a&=~(1<<c),i+=1;var d=32-Pt(t)+c;if(30<d){var g=c-c%5;d=(a&(1<<g)-1).toString(32),a>>=g,c-=g,Qt=1<<32-Pt(t)+c|i<<c|a,Yt=d+e}else Qt=1<<d|i<<c|a,Yt=e}function ma(e){e.return!==null&&(zr(e,1),cc(e,1,0))}function ga(e){for(;e===Ci;)Ci=yn[--wn],yn[wn]=null,Ti=yn[--wn],yn[wn]=null;for(;e===Mr;)Mr=Et[--jt],Et[jt]=null,Yt=Et[--jt],Et[jt]=null,Qt=Et[--jt],Et[jt]=null}var _t=null,kt=null,Ne=!1,It=null;function dc(e,t){var i=Ot(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function hc(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,_t=e,kt=gr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,_t=e,kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Mr!==null?{id:Qt,overflow:Yt}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Ot(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,_t=e,kt=null,!0):!1;default:return!1}}function va(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ya(e){if(Ne){var t=kt;if(t){var i=t;if(!hc(e,t)){if(va(e))throw Error(s(418));t=gr(i.nextSibling);var a=_t;t&&hc(e,t)?dc(a,i):(e.flags=e.flags&-4097|2,Ne=!1,_t=e)}}else{if(va(e))throw Error(s(418));e.flags=e.flags&-4097|2,Ne=!1,_t=e}}}function fc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_t=e}function Ri(e){if(e!==_t)return!1;if(!Ne)return fc(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ua(e.type,e.memoizedProps)),t&&(t=kt)){if(va(e))throw pc(),Error(s(418));for(;t;)dc(e,t),t=gr(t.nextSibling)}if(fc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){kt=gr(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}kt=null}}else kt=_t?gr(e.stateNode.nextSibling):null;return!0}function pc(){for(var e=kt;e;)e=gr(e.nextSibling)}function _n(){kt=_t=null,Ne=!1}function wa(e){It===null?It=[e]:It.push(e)}var Fp=J.ReactCurrentBatchConfig;function ms(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(s(309));var a=i.stateNode}if(!a)throw Error(s(147,e));var c=a,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(g){var w=c.refs;g===null?delete w[d]:w[d]=g},t._stringRef=d,t)}if(typeof e!="string")throw Error(s(284));if(!i._owner)throw Error(s(290,e))}return e}function Oi(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mc(e){var t=e._init;return t(e._payload)}function gc(e){function t(C,x){if(e){var O=C.deletions;O===null?(C.deletions=[x],C.flags|=16):O.push(x)}}function i(C,x){if(!e)return null;for(;x!==null;)t(C,x),x=x.sibling;return null}function a(C,x){for(C=new Map;x!==null;)x.key!==null?C.set(x.key,x):C.set(x.index,x),x=x.sibling;return C}function c(C,x){return C=Cr(C,x),C.index=0,C.sibling=null,C}function d(C,x,O){return C.index=O,e?(O=C.alternate,O!==null?(O=O.index,O<x?(C.flags|=2,x):O):(C.flags|=2,x)):(C.flags|=1048576,x)}function g(C){return e&&C.alternate===null&&(C.flags|=2),C}function w(C,x,O,W){return x===null||x.tag!==6?(x=cl(O,C.mode,W),x.return=C,x):(x=c(x,O),x.return=C,x)}function S(C,x,O,W){var Z=O.type;return Z===ae?M(C,x,O.props.children,W,O.key):x!==null&&(x.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===oe&&mc(Z)===x.type)?(W=c(x,O.props),W.ref=ms(C,x,O),W.return=C,W):(W=eo(O.type,O.key,O.props,null,C.mode,W),W.ref=ms(C,x,O),W.return=C,W)}function N(C,x,O,W){return x===null||x.tag!==4||x.stateNode.containerInfo!==O.containerInfo||x.stateNode.implementation!==O.implementation?(x=dl(O,C.mode,W),x.return=C,x):(x=c(x,O.children||[]),x.return=C,x)}function M(C,x,O,W,Z){return x===null||x.tag!==7?(x=Jr(O,C.mode,W,Z),x.return=C,x):(x=c(x,O),x.return=C,x)}function z(C,x,O){if(typeof x=="string"&&x!==""||typeof x=="number")return x=cl(""+x,C.mode,O),x.return=C,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case de:return O=eo(x.type,x.key,x.props,null,C.mode,O),O.ref=ms(C,null,x),O.return=C,O;case G:return x=dl(x,C.mode,O),x.return=C,x;case oe:var W=x._init;return z(C,W(x._payload),O)}if(Lr(x)||I(x))return x=Jr(x,C.mode,O,null),x.return=C,x;Oi(C,x)}return null}function U(C,x,O,W){var Z=x!==null?x.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return Z!==null?null:w(C,x,""+O,W);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case de:return O.key===Z?S(C,x,O,W):null;case G:return O.key===Z?N(C,x,O,W):null;case oe:return Z=O._init,U(C,x,Z(O._payload),W)}if(Lr(O)||I(O))return Z!==null?null:M(C,x,O,W,null);Oi(C,O)}return null}function K(C,x,O,W,Z){if(typeof W=="string"&&W!==""||typeof W=="number")return C=C.get(O)||null,w(x,C,""+W,Z);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case de:return C=C.get(W.key===null?O:W.key)||null,S(x,C,W,Z);case G:return C=C.get(W.key===null?O:W.key)||null,N(x,C,W,Z);case oe:var te=W._init;return K(C,x,O,te(W._payload),Z)}if(Lr(W)||I(W))return C=C.get(O)||null,M(x,C,W,Z,null);Oi(x,W)}return null}function Y(C,x,O,W){for(var Z=null,te=null,re=x,ie=x=0,Qe=null;re!==null&&ie<O.length;ie++){re.index>ie?(Qe=re,re=null):Qe=re.sibling;var we=U(C,re,O[ie],W);if(we===null){re===null&&(re=Qe);break}e&&re&&we.alternate===null&&t(C,re),x=d(we,x,ie),te===null?Z=we:te.sibling=we,te=we,re=Qe}if(ie===O.length)return i(C,re),Ne&&zr(C,ie),Z;if(re===null){for(;ie<O.length;ie++)re=z(C,O[ie],W),re!==null&&(x=d(re,x,ie),te===null?Z=re:te.sibling=re,te=re);return Ne&&zr(C,ie),Z}for(re=a(C,re);ie<O.length;ie++)Qe=K(re,C,ie,O[ie],W),Qe!==null&&(e&&Qe.alternate!==null&&re.delete(Qe.key===null?ie:Qe.key),x=d(Qe,x,ie),te===null?Z=Qe:te.sibling=Qe,te=Qe);return e&&re.forEach(function(Tr){return t(C,Tr)}),Ne&&zr(C,ie),Z}function X(C,x,O,W){var Z=I(O);if(typeof Z!="function")throw Error(s(150));if(O=Z.call(O),O==null)throw Error(s(151));for(var te=Z=null,re=x,ie=x=0,Qe=null,we=O.next();re!==null&&!we.done;ie++,we=O.next()){re.index>ie?(Qe=re,re=null):Qe=re.sibling;var Tr=U(C,re,we.value,W);if(Tr===null){re===null&&(re=Qe);break}e&&re&&Tr.alternate===null&&t(C,re),x=d(Tr,x,ie),te===null?Z=Tr:te.sibling=Tr,te=Tr,re=Qe}if(we.done)return i(C,re),Ne&&zr(C,ie),Z;if(re===null){for(;!we.done;ie++,we=O.next())we=z(C,we.value,W),we!==null&&(x=d(we,x,ie),te===null?Z=we:te.sibling=we,te=we);return Ne&&zr(C,ie),Z}for(re=a(C,re);!we.done;ie++,we=O.next())we=K(re,C,ie,we.value,W),we!==null&&(e&&we.alternate!==null&&re.delete(we.key===null?ie:we.key),x=d(we,x,ie),te===null?Z=we:te.sibling=we,te=we);return e&&re.forEach(function(km){return t(C,km)}),Ne&&zr(C,ie),Z}function Be(C,x,O,W){if(typeof O=="object"&&O!==null&&O.type===ae&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case de:e:{for(var Z=O.key,te=x;te!==null;){if(te.key===Z){if(Z=O.type,Z===ae){if(te.tag===7){i(C,te.sibling),x=c(te,O.props.children),x.return=C,C=x;break e}}else if(te.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===oe&&mc(Z)===te.type){i(C,te.sibling),x=c(te,O.props),x.ref=ms(C,te,O),x.return=C,C=x;break e}i(C,te);break}else t(C,te);te=te.sibling}O.type===ae?(x=Jr(O.props.children,C.mode,W,O.key),x.return=C,C=x):(W=eo(O.type,O.key,O.props,null,C.mode,W),W.ref=ms(C,x,O),W.return=C,C=W)}return g(C);case G:e:{for(te=O.key;x!==null;){if(x.key===te)if(x.tag===4&&x.stateNode.containerInfo===O.containerInfo&&x.stateNode.implementation===O.implementation){i(C,x.sibling),x=c(x,O.children||[]),x.return=C,C=x;break e}else{i(C,x);break}else t(C,x);x=x.sibling}x=dl(O,C.mode,W),x.return=C,C=x}return g(C);case oe:return te=O._init,Be(C,x,te(O._payload),W)}if(Lr(O))return Y(C,x,O,W);if(I(O))return X(C,x,O,W);Oi(C,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,x!==null&&x.tag===6?(i(C,x.sibling),x=c(x,O),x.return=C,C=x):(i(C,x),x=cl(O,C.mode,W),x.return=C,C=x),g(C)):i(C,x)}return Be}var kn=gc(!0),vc=gc(!1),Pi=vr(null),Ni=null,Sn=null,_a=null;function ka(){_a=Sn=Ni=null}function Sa(e){var t=Pi.current;Pe(Pi),e._currentValue=t}function xa(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function xn(e,t){Ni=e,_a=Sn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(mt=!0),e.firstContext=null)}function Ct(e){var t=e._currentValue;if(_a!==e)if(e={context:e,memoizedValue:t,next:null},Sn===null){if(Ni===null)throw Error(s(308));Sn=e,Ni.dependencies={lanes:0,firstContext:e}}else Sn=Sn.next=e;return t}var Fr=null;function ba(e){Fr===null?Fr=[e]:Fr.push(e)}function yc(e,t,i,a){var c=t.interleaved;return c===null?(i.next=i,ba(t)):(i.next=c.next,c.next=i),t.interleaved=i,Xt(e,a)}function Xt(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var _r=!1;function Ea(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function kr(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(ye&2)!==0){var c=a.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),a.pending=t,Xt(e,i)}return c=a.interleaved,c===null?(t.next=t,ba(a)):(t.next=c.next,c.next=t),a.interleaved=t,Xt(e,i)}function Ii(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,Bo(e,i)}}function _c(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var c=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};d===null?c=d=g:d=d.next=g,i=i.next}while(i!==null);d===null?c=d=t:d=d.next=t}else c=d=t;i={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Ai(e,t,i,a){var c=e.updateQueue;_r=!1;var d=c.firstBaseUpdate,g=c.lastBaseUpdate,w=c.shared.pending;if(w!==null){c.shared.pending=null;var S=w,N=S.next;S.next=null,g===null?d=N:g.next=N,g=S;var M=e.alternate;M!==null&&(M=M.updateQueue,w=M.lastBaseUpdate,w!==g&&(w===null?M.firstBaseUpdate=N:w.next=N,M.lastBaseUpdate=S))}if(d!==null){var z=c.baseState;g=0,M=N=S=null,w=d;do{var U=w.lane,K=w.eventTime;if((a&U)===U){M!==null&&(M=M.next={eventTime:K,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var Y=e,X=w;switch(U=t,K=i,X.tag){case 1:if(Y=X.payload,typeof Y=="function"){z=Y.call(K,z,U);break e}z=Y;break e;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=X.payload,U=typeof Y=="function"?Y.call(K,z,U):Y,U==null)break e;z=q({},z,U);break e;case 2:_r=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,U=c.effects,U===null?c.effects=[w]:U.push(w))}else K={eventTime:K,lane:U,tag:w.tag,payload:w.payload,callback:w.callback,next:null},M===null?(N=M=K,S=z):M=M.next=K,g|=U;if(w=w.next,w===null){if(w=c.shared.pending,w===null)break;U=w,w=U.next,U.next=null,c.lastBaseUpdate=U,c.shared.pending=null}}while(!0);if(M===null&&(S=z),c.baseState=S,c.firstBaseUpdate=N,c.lastBaseUpdate=M,t=c.shared.interleaved,t!==null){c=t;do g|=c.lane,c=c.next;while(c!==t)}else d===null&&(c.shared.lanes=0);Vr|=g,e.lanes=g,e.memoizedState=z}}function kc(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],c=a.callback;if(c!==null){if(a.callback=null,a=i,typeof c!="function")throw Error(s(191,c));c.call(a)}}}var gs={},qt=vr(gs),vs=vr(gs),ys=vr(gs);function Wr(e){if(e===gs)throw Error(s(174));return e}function ja(e,t){switch(Ce(ys,t),Ce(vs,e),Ce(qt,gs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:he(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=he(t,e)}Pe(qt),Ce(qt,t)}function bn(){Pe(qt),Pe(vs),Pe(ys)}function Sc(e){Wr(ys.current);var t=Wr(qt.current),i=he(t,e.type);t!==i&&(Ce(vs,e),Ce(qt,i))}function Ca(e){vs.current===e&&(Pe(qt),Pe(vs))}var Ie=vr(0);function Li(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ta=[];function Ra(){for(var e=0;e<Ta.length;e++)Ta[e]._workInProgressVersionPrimary=null;Ta.length=0}var Di=J.ReactCurrentDispatcher,Oa=J.ReactCurrentBatchConfig,qr=0,Ae=null,We=null,Ke=null,$i=!1,ws=!1,_s=0,Wp=0;function st(){throw Error(s(321))}function Pa(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Nt(e[i],t[i]))return!1;return!0}function Na(e,t,i,a,c,d){if(qr=d,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Di.current=e===null||e.memoizedState===null?Gp:Kp,e=i(a,c),ws){d=0;do{if(ws=!1,_s=0,25<=d)throw Error(s(301));d+=1,Ke=We=null,t.updateQueue=null,Di.current=Jp,e=i(a,c)}while(ws)}if(Di.current=Mi,t=We!==null&&We.next!==null,qr=0,Ke=We=Ae=null,$i=!1,t)throw Error(s(300));return e}function Ia(){var e=_s!==0;return _s=0,e}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Ae.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Tt(){if(We===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=Ke===null?Ae.memoizedState:Ke.next;if(t!==null)Ke=t,We=e;else{if(e===null)throw Error(s(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ke===null?Ae.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function ks(e,t){return typeof t=="function"?t(e):t}function Aa(e){var t=Tt(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var a=We,c=a.baseQueue,d=i.pending;if(d!==null){if(c!==null){var g=c.next;c.next=d.next,d.next=g}a.baseQueue=c=d,i.pending=null}if(c!==null){d=c.next,a=a.baseState;var w=g=null,S=null,N=d;do{var M=N.lane;if((qr&M)===M)S!==null&&(S=S.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),a=N.hasEagerState?N.eagerState:e(a,N.action);else{var z={lane:M,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};S===null?(w=S=z,g=a):S=S.next=z,Ae.lanes|=M,Vr|=M}N=N.next}while(N!==null&&N!==d);S===null?g=a:S.next=w,Nt(a,t.memoizedState)||(mt=!0),t.memoizedState=a,t.baseState=g,t.baseQueue=S,i.lastRenderedState=a}if(e=i.interleaved,e!==null){c=e;do d=c.lane,Ae.lanes|=d,Vr|=d,c=c.next;while(c!==e)}else c===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function La(e){var t=Tt(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var a=i.dispatch,c=i.pending,d=t.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do d=e(d,g.action),g=g.next;while(g!==c);Nt(d,t.memoizedState)||(mt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),i.lastRenderedState=d}return[d,a]}function xc(){}function bc(e,t){var i=Ae,a=Tt(),c=t(),d=!Nt(a.memoizedState,c);if(d&&(a.memoizedState=c,mt=!0),a=a.queue,Da(Cc.bind(null,i,a,e),[e]),a.getSnapshot!==t||d||Ke!==null&&Ke.memoizedState.tag&1){if(i.flags|=2048,Ss(9,jc.bind(null,i,a,c,t),void 0,null),Je===null)throw Error(s(349));(qr&30)!==0||Ec(i,t,c)}return c}function Ec(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function jc(e,t,i,a){t.value=i,t.getSnapshot=a,Tc(t)&&Rc(e)}function Cc(e,t,i){return i(function(){Tc(t)&&Rc(e)})}function Tc(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Nt(e,i)}catch{return!0}}function Rc(e){var t=Xt(e,1);t!==null&&$t(t,e,1,-1)}function Oc(e){var t=Vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:e},t.queue=e,e=e.dispatch=Hp.bind(null,Ae,e),[t.memoizedState,e]}function Ss(e,t,i,a){return e={tag:e,create:t,destroy:i,deps:a,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e)),e}function Pc(){return Tt().memoizedState}function Ui(e,t,i,a){var c=Vt();Ae.flags|=e,c.memoizedState=Ss(1|t,i,void 0,a===void 0?null:a)}function Bi(e,t,i,a){var c=Tt();a=a===void 0?null:a;var d=void 0;if(We!==null){var g=We.memoizedState;if(d=g.destroy,a!==null&&Pa(a,g.deps)){c.memoizedState=Ss(t,i,d,a);return}}Ae.flags|=e,c.memoizedState=Ss(1|t,i,d,a)}function Nc(e,t){return Ui(8390656,8,e,t)}function Da(e,t){return Bi(2048,8,e,t)}function Ic(e,t){return Bi(4,2,e,t)}function Ac(e,t){return Bi(4,4,e,t)}function Lc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Dc(e,t,i){return i=i!=null?i.concat([e]):null,Bi(4,4,Lc.bind(null,t,e),i)}function $a(){}function $c(e,t){var i=Tt();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&Pa(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function Uc(e,t){var i=Tt();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&Pa(t,a[1])?a[0]:(e=e(),i.memoizedState=[e,t],e)}function Bc(e,t,i){return(qr&21)===0?(e.baseState&&(e.baseState=!1,mt=!0),e.memoizedState=i):(Nt(i,t)||(i=mu(),Ae.lanes|=i,Vr|=i,e.baseState=!0),t)}function qp(e,t){var i=xe;xe=i!==0&&4>i?i:4,e(!0);var a=Oa.transition;Oa.transition={};try{e(!1),t()}finally{xe=i,Oa.transition=a}}function Mc(){return Tt().memoizedState}function Vp(e,t,i){var a=Er(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},zc(e))Fc(t,i);else if(i=yc(e,t,i,a),i!==null){var c=dt();$t(i,e,a,c),Wc(i,t,a)}}function Hp(e,t,i){var a=Er(e),c={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(zc(e))Fc(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var g=t.lastRenderedState,w=d(g,i);if(c.hasEagerState=!0,c.eagerState=w,Nt(w,g)){var S=t.interleaved;S===null?(c.next=c,ba(t)):(c.next=S.next,S.next=c),t.interleaved=c;return}}catch{}finally{}i=yc(e,t,c,a),i!==null&&(c=dt(),$t(i,e,a,c),Wc(i,t,a))}}function zc(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function Fc(e,t){ws=$i=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Wc(e,t,i){if((i&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,Bo(e,i)}}var Mi={readContext:Ct,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},Gp={readContext:Ct,useCallback:function(e,t){return Vt().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:Nc,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Ui(4194308,4,Lc.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Ui(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ui(4,2,e,t)},useMemo:function(e,t){var i=Vt();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var a=Vt();return t=i!==void 0?i(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Vp.bind(null,Ae,e),[a.memoizedState,e]},useRef:function(e){var t=Vt();return e={current:e},t.memoizedState=e},useState:Oc,useDebugValue:$a,useDeferredValue:function(e){return Vt().memoizedState=e},useTransition:function(){var e=Oc(!1),t=e[0];return e=qp.bind(null,e[1]),Vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var a=Ae,c=Vt();if(Ne){if(i===void 0)throw Error(s(407));i=i()}else{if(i=t(),Je===null)throw Error(s(349));(qr&30)!==0||Ec(a,t,i)}c.memoizedState=i;var d={value:i,getSnapshot:t};return c.queue=d,Nc(Cc.bind(null,a,d,e),[e]),a.flags|=2048,Ss(9,jc.bind(null,a,d,i,t),void 0,null),i},useId:function(){var e=Vt(),t=Je.identifierPrefix;if(Ne){var i=Yt,a=Qt;i=(a&~(1<<32-Pt(a)-1)).toString(32)+i,t=":"+t+"R"+i,i=_s++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=Wp++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Kp={readContext:Ct,useCallback:$c,useContext:Ct,useEffect:Da,useImperativeHandle:Dc,useInsertionEffect:Ic,useLayoutEffect:Ac,useMemo:Uc,useReducer:Aa,useRef:Pc,useState:function(){return Aa(ks)},useDebugValue:$a,useDeferredValue:function(e){var t=Tt();return Bc(t,We.memoizedState,e)},useTransition:function(){var e=Aa(ks)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:xc,useSyncExternalStore:bc,useId:Mc,unstable_isNewReconciler:!1},Jp={readContext:Ct,useCallback:$c,useContext:Ct,useEffect:Da,useImperativeHandle:Dc,useInsertionEffect:Ic,useLayoutEffect:Ac,useMemo:Uc,useReducer:La,useRef:Pc,useState:function(){return La(ks)},useDebugValue:$a,useDeferredValue:function(e){var t=Tt();return We===null?t.memoizedState=e:Bc(t,We.memoizedState,e)},useTransition:function(){var e=La(ks)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:xc,useSyncExternalStore:bc,useId:Mc,unstable_isNewReconciler:!1};function At(e,t){if(e&&e.defaultProps){t=q({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function Ua(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:q({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var zi={isMounted:function(e){return(e=e._reactInternals)?$r(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var a=dt(),c=Er(e),d=Zt(a,c);d.payload=t,i!=null&&(d.callback=i),t=kr(e,d,c),t!==null&&($t(t,e,c,a),Ii(t,e,c))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=dt(),c=Er(e),d=Zt(a,c);d.tag=1,d.payload=t,i!=null&&(d.callback=i),t=kr(e,d,c),t!==null&&($t(t,e,c,a),Ii(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=dt(),a=Er(e),c=Zt(i,a);c.tag=2,t!=null&&(c.callback=t),t=kr(e,c,a),t!==null&&($t(t,e,a,i),Ii(t,e,a))}};function qc(e,t,i,a,c,d,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,d,g):t.prototype&&t.prototype.isPureReactComponent?!ls(i,a)||!ls(c,d):!0}function Vc(e,t,i){var a=!1,c=yr,d=t.contextType;return typeof d=="object"&&d!==null?d=Ct(d):(c=pt(t)?Br:nt.current,a=t.contextTypes,d=(a=a!=null)?vn(e,c):yr),t=new t(i,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zi,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=d),t}function Hc(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&zi.enqueueReplaceState(t,t.state,null)}function Ba(e,t,i,a){var c=e.stateNode;c.props=i,c.state=e.memoizedState,c.refs={},Ea(e);var d=t.contextType;typeof d=="object"&&d!==null?c.context=Ct(d):(d=pt(t)?Br:nt.current,c.context=vn(e,d)),c.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(Ua(e,t,d,i),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&zi.enqueueReplaceState(c,c.state,null),Ai(e,i,c,a),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function En(e,t){try{var i="",a=t;do i+=pe(a),a=a.return;while(a);var c=i}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:c,digest:null}}function Ma(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function za(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Qp=typeof WeakMap=="function"?WeakMap:Map;function Gc(e,t,i){i=Zt(-1,i),i.tag=3,i.payload={element:null};var a=t.value;return i.callback=function(){Ki||(Ki=!0,rl=a),za(e,t)},i}function Kc(e,t,i){i=Zt(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var c=t.value;i.payload=function(){return a(c)},i.callback=function(){za(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(i.callback=function(){za(e,t),typeof a!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),i}function Jc(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new Qp;var c=new Set;a.set(t,c)}else c=a.get(t),c===void 0&&(c=new Set,a.set(t,c));c.has(i)||(c.add(i),e=cm.bind(null,e,t,i),t.then(e,e))}function Qc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Yc(e,t,i,a,c){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Zt(-1,1),t.tag=2,kr(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=c,e)}var Yp=J.ReactCurrentOwner,mt=!1;function ct(e,t,i,a){t.child=e===null?vc(t,null,i,a):kn(t,e.child,i,a)}function Xc(e,t,i,a,c){i=i.render;var d=t.ref;return xn(t,c),a=Na(e,t,i,a,d,c),i=Ia(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,er(e,t,c)):(Ne&&i&&ma(t),t.flags|=1,ct(e,t,a,c),t.child)}function Zc(e,t,i,a,c){if(e===null){var d=i.type;return typeof d=="function"&&!ul(d)&&d.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=d,ed(e,t,d,a,c)):(e=eo(i.type,null,a,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&c)===0){var g=d.memoizedProps;if(i=i.compare,i=i!==null?i:ls,i(g,a)&&e.ref===t.ref)return er(e,t,c)}return t.flags|=1,e=Cr(d,a),e.ref=t.ref,e.return=t,t.child=e}function ed(e,t,i,a,c){if(e!==null){var d=e.memoizedProps;if(ls(d,a)&&e.ref===t.ref)if(mt=!1,t.pendingProps=a=d,(e.lanes&c)!==0)(e.flags&131072)!==0&&(mt=!0);else return t.lanes=e.lanes,er(e,t,c)}return Fa(e,t,i,a,c)}function td(e,t,i){var a=t.pendingProps,c=a.children,d=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(Cn,St),St|=i;else{if((i&1073741824)===0)return e=d!==null?d.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ce(Cn,St),St|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:i,Ce(Cn,St),St|=a}else d!==null?(a=d.baseLanes|i,t.memoizedState=null):a=i,Ce(Cn,St),St|=a;return ct(e,t,c,i),t.child}function rd(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Fa(e,t,i,a,c){var d=pt(i)?Br:nt.current;return d=vn(t,d),xn(t,c),i=Na(e,t,i,a,d,c),a=Ia(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,er(e,t,c)):(Ne&&a&&ma(t),t.flags|=1,ct(e,t,i,c),t.child)}function nd(e,t,i,a,c){if(pt(i)){var d=!0;Ei(t)}else d=!1;if(xn(t,c),t.stateNode===null)Wi(e,t),Vc(t,i,a),Ba(t,i,a,c),a=!0;else if(e===null){var g=t.stateNode,w=t.memoizedProps;g.props=w;var S=g.context,N=i.contextType;typeof N=="object"&&N!==null?N=Ct(N):(N=pt(i)?Br:nt.current,N=vn(t,N));var M=i.getDerivedStateFromProps,z=typeof M=="function"||typeof g.getSnapshotBeforeUpdate=="function";z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==a||S!==N)&&Hc(t,g,a,N),_r=!1;var U=t.memoizedState;g.state=U,Ai(t,a,g,c),S=t.memoizedState,w!==a||U!==S||ft.current||_r?(typeof M=="function"&&(Ua(t,i,M,a),S=t.memoizedState),(w=_r||qc(t,i,w,a,U,S,N))?(z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=S),g.props=a,g.state=S,g.context=N,a=w):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{g=t.stateNode,wc(e,t),w=t.memoizedProps,N=t.type===t.elementType?w:At(t.type,w),g.props=N,z=t.pendingProps,U=g.context,S=i.contextType,typeof S=="object"&&S!==null?S=Ct(S):(S=pt(i)?Br:nt.current,S=vn(t,S));var K=i.getDerivedStateFromProps;(M=typeof K=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==z||U!==S)&&Hc(t,g,a,S),_r=!1,U=t.memoizedState,g.state=U,Ai(t,a,g,c);var Y=t.memoizedState;w!==z||U!==Y||ft.current||_r?(typeof K=="function"&&(Ua(t,i,K,a),Y=t.memoizedState),(N=_r||qc(t,i,N,a,U,Y,S)||!1)?(M||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,Y,S),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,Y,S)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=Y),g.props=a,g.state=Y,g.context=S,a=N):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),a=!1)}return Wa(e,t,i,a,d,c)}function Wa(e,t,i,a,c,d){rd(e,t);var g=(t.flags&128)!==0;if(!a&&!g)return c&&lc(t,i,!1),er(e,t,d);a=t.stateNode,Yp.current=t;var w=g&&typeof i.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&g?(t.child=kn(t,e.child,null,d),t.child=kn(t,null,w,d)):ct(e,t,w,d),t.memoizedState=a.state,c&&lc(t,i,!0),t.child}function sd(e){var t=e.stateNode;t.pendingContext?oc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&oc(e,t.context,!1),ja(e,t.containerInfo)}function id(e,t,i,a,c){return _n(),wa(c),t.flags|=256,ct(e,t,i,a),t.child}var qa={dehydrated:null,treeContext:null,retryLane:0};function Va(e){return{baseLanes:e,cachePool:null,transitions:null}}function od(e,t,i){var a=t.pendingProps,c=Ie.current,d=!1,g=(t.flags&128)!==0,w;if((w=g)||(w=e!==null&&e.memoizedState===null?!1:(c&2)!==0),w?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Ce(Ie,c&1),e===null)return ya(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(g=a.children,e=a.fallback,d?(a=t.mode,d=t.child,g={mode:"hidden",children:g},(a&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=g):d=to(g,a,0,null),e=Jr(e,a,i,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=Va(i),t.memoizedState=qa,e):Ha(t,g));if(c=e.memoizedState,c!==null&&(w=c.dehydrated,w!==null))return Xp(e,t,g,a,w,c,i);if(d){d=a.fallback,g=t.mode,c=e.child,w=c.sibling;var S={mode:"hidden",children:a.children};return(g&1)===0&&t.child!==c?(a=t.child,a.childLanes=0,a.pendingProps=S,t.deletions=null):(a=Cr(c,S),a.subtreeFlags=c.subtreeFlags&14680064),w!==null?d=Cr(w,d):(d=Jr(d,g,i,null),d.flags|=2),d.return=t,a.return=t,a.sibling=d,t.child=a,a=d,d=t.child,g=e.child.memoizedState,g=g===null?Va(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},d.memoizedState=g,d.childLanes=e.childLanes&~i,t.memoizedState=qa,a}return d=e.child,e=d.sibling,a=Cr(d,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=i),a.return=t,a.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=a,t.memoizedState=null,a}function Ha(e,t){return t=to({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fi(e,t,i,a){return a!==null&&wa(a),kn(t,e.child,null,i),e=Ha(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xp(e,t,i,a,c,d,g){if(i)return t.flags&256?(t.flags&=-257,a=Ma(Error(s(422))),Fi(e,t,g,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=a.fallback,c=t.mode,a=to({mode:"visible",children:a.children},c,0,null),d=Jr(d,c,g,null),d.flags|=2,a.return=t,d.return=t,a.sibling=d,t.child=a,(t.mode&1)!==0&&kn(t,e.child,null,g),t.child.memoizedState=Va(g),t.memoizedState=qa,d);if((t.mode&1)===0)return Fi(e,t,g,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var w=a.dgst;return a=w,d=Error(s(419)),a=Ma(d,a,void 0),Fi(e,t,g,a)}if(w=(g&e.childLanes)!==0,mt||w){if(a=Je,a!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(a.suspendedLanes|g))!==0?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,Xt(e,c),$t(a,e,c,-1))}return ll(),a=Ma(Error(s(421))),Fi(e,t,g,a)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=dm.bind(null,e),c._reactRetry=t,null):(e=d.treeContext,kt=gr(c.nextSibling),_t=t,Ne=!0,It=null,e!==null&&(Et[jt++]=Qt,Et[jt++]=Yt,Et[jt++]=Mr,Qt=e.id,Yt=e.overflow,Mr=t),t=Ha(t,a.children),t.flags|=4096,t)}function ad(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),xa(e.return,t,i)}function Ga(e,t,i,a,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:c}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=i,d.tailMode=c)}function ld(e,t,i){var a=t.pendingProps,c=a.revealOrder,d=a.tail;if(ct(e,t,a.children,i),a=Ie.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ad(e,i,t);else if(e.tag===19)ad(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Ce(Ie,a),(t.mode&1)===0)t.memoizedState=null;else switch(c){case"forwards":for(i=t.child,c=null;i!==null;)e=i.alternate,e!==null&&Li(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=t.child,t.child=null):(c=i.sibling,i.sibling=null),Ga(t,!1,c,i,d);break;case"backwards":for(i=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Li(e)===null){t.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}Ga(t,!0,i,null,d);break;case"together":Ga(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function er(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Vr|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,i=Cr(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Cr(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Zp(e,t,i){switch(t.tag){case 3:sd(t),_n();break;case 5:Sc(t);break;case 1:pt(t.type)&&Ei(t);break;case 4:ja(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,c=t.memoizedProps.value;Ce(Pi,a._currentValue),a._currentValue=c;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Ce(Ie,Ie.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?od(e,t,i):(Ce(Ie,Ie.current&1),e=er(e,t,i),e!==null?e.sibling:null);Ce(Ie,Ie.current&1);break;case 19:if(a=(i&t.childLanes)!==0,(e.flags&128)!==0){if(a)return ld(e,t,i);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ce(Ie,Ie.current),a)break;return null;case 22:case 23:return t.lanes=0,td(e,t,i)}return er(e,t,i)}var ud,Ka,cd,dd;ud=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Ka=function(){},cd=function(e,t,i,a){var c=e.memoizedProps;if(c!==a){e=t.stateNode,Wr(qt.current);var d=null;switch(i){case"input":c=Wn(e,c),a=Wn(e,a),d=[];break;case"select":c=q({},c,{value:void 0}),a=q({},a,{value:void 0}),d=[];break;case"textarea":c=Hn(e,c),a=Hn(e,a),d=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Si)}To(i,a);var g;i=null;for(N in c)if(!a.hasOwnProperty(N)&&c.hasOwnProperty(N)&&c[N]!=null)if(N==="style"){var w=c[N];for(g in w)w.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(l.hasOwnProperty(N)?d||(d=[]):(d=d||[]).push(N,null));for(N in a){var S=a[N];if(w=c!=null?c[N]:void 0,a.hasOwnProperty(N)&&S!==w&&(S!=null||w!=null))if(N==="style")if(w){for(g in w)!w.hasOwnProperty(g)||S&&S.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in S)S.hasOwnProperty(g)&&w[g]!==S[g]&&(i||(i={}),i[g]=S[g])}else i||(d||(d=[]),d.push(N,i)),i=S;else N==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,w=w?w.__html:void 0,S!=null&&w!==S&&(d=d||[]).push(N,S)):N==="children"?typeof S!="string"&&typeof S!="number"||(d=d||[]).push(N,""+S):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(l.hasOwnProperty(N)?(S!=null&&N==="onScroll"&&Oe("scroll",e),d||w===S||(d=[])):(d=d||[]).push(N,S))}i&&(d=d||[]).push("style",i);var N=d;(t.updateQueue=N)&&(t.flags|=4)}},dd=function(e,t,i,a){i!==a&&(t.flags|=4)};function xs(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function em(e,t,i){var a=t.pendingProps;switch(ga(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return pt(t.type)&&bi(),it(t),null;case 3:return a=t.stateNode,bn(),Pe(ft),Pe(nt),Ra(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ri(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,It!==null&&(il(It),It=null))),Ka(e,t),it(t),null;case 5:Ca(t);var c=Wr(ys.current);if(i=t.type,e!==null&&t.stateNode!=null)cd(e,t,i,a,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(s(166));return it(t),null}if(e=Wr(qt.current),Ri(t)){a=t.stateNode,i=t.type;var d=t.memoizedProps;switch(a[Wt]=t,a[fs]=d,e=(t.mode&1)!==0,i){case"dialog":Oe("cancel",a),Oe("close",a);break;case"iframe":case"object":case"embed":Oe("load",a);break;case"video":case"audio":for(c=0;c<cs.length;c++)Oe(cs[c],a);break;case"source":Oe("error",a);break;case"img":case"image":case"link":Oe("error",a),Oe("load",a);break;case"details":Oe("toggle",a);break;case"input":Qs(a,d),Oe("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},Oe("invalid",a);break;case"textarea":Dr(a,d),Oe("invalid",a)}To(i,d),c=null;for(var g in d)if(d.hasOwnProperty(g)){var w=d[g];g==="children"?typeof w=="string"?a.textContent!==w&&(d.suppressHydrationWarning!==!0&&ki(a.textContent,w,e),c=["children",w]):typeof w=="number"&&a.textContent!==""+w&&(d.suppressHydrationWarning!==!0&&ki(a.textContent,w,e),c=["children",""+w]):l.hasOwnProperty(g)&&w!=null&&g==="onScroll"&&Oe("scroll",a)}switch(i){case"input":sn(a),Ar(a,d,!0);break;case"textarea":sn(a),Zs(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=Si)}a=c,t.updateQueue=a,a!==null&&(t.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=R(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=g.createElement(i,{is:a.is}):(e=g.createElement(i),i==="select"&&(g=e,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):e=g.createElementNS(e,i),e[Wt]=t,e[fs]=a,ud(e,t,!1,!1),t.stateNode=e;e:{switch(g=Ro(i,a),i){case"dialog":Oe("cancel",e),Oe("close",e),c=a;break;case"iframe":case"object":case"embed":Oe("load",e),c=a;break;case"video":case"audio":for(c=0;c<cs.length;c++)Oe(cs[c],e);c=a;break;case"source":Oe("error",e),c=a;break;case"img":case"image":case"link":Oe("error",e),Oe("load",e),c=a;break;case"details":Oe("toggle",e),c=a;break;case"input":Qs(e,a),c=Wn(e,a),Oe("invalid",e);break;case"option":c=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=q({},a,{value:void 0}),Oe("invalid",e);break;case"textarea":Dr(e,a),c=Hn(e,a),Oe("invalid",e);break;default:c=a}To(i,c),w=c;for(d in w)if(w.hasOwnProperty(d)){var S=w[d];d==="style"?eu(e,S):d==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&ei(e,S)):d==="children"?typeof S=="string"?(i!=="textarea"||S!=="")&&zt(e,S):typeof S=="number"&&zt(e,""+S):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(l.hasOwnProperty(d)?S!=null&&d==="onScroll"&&Oe("scroll",e):S!=null&&D(e,d,S,g))}switch(i){case"input":sn(e),Ar(e,a,!1);break;case"textarea":sn(e),Zs(e);break;case"option":a.value!=null&&e.setAttribute("value",""+ke(a.value));break;case"select":e.multiple=!!a.multiple,d=a.value,d!=null?lr(e,!!a.multiple,d,!1):a.defaultValue!=null&&lr(e,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Si)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return it(t),null;case 6:if(e&&t.stateNode!=null)dd(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(s(166));if(i=Wr(ys.current),Wr(qt.current),Ri(t)){if(a=t.stateNode,i=t.memoizedProps,a[Wt]=t,(d=a.nodeValue!==i)&&(e=_t,e!==null))switch(e.tag){case 3:ki(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ki(a.nodeValue,i,(e.mode&1)!==0)}d&&(t.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[Wt]=t,t.stateNode=a}return it(t),null;case 13:if(Pe(Ie),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&kt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)pc(),_n(),t.flags|=98560,d=!1;else if(d=Ri(t),a!==null&&a.dehydrated!==null){if(e===null){if(!d)throw Error(s(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Wt]=t}else _n(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;it(t),d=!1}else It!==null&&(il(It),It=null),d=!0;if(!d)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ie.current&1)!==0?qe===0&&(qe=3):ll())),t.updateQueue!==null&&(t.flags|=4),it(t),null);case 4:return bn(),Ka(e,t),e===null&&ds(t.stateNode.containerInfo),it(t),null;case 10:return Sa(t.type._context),it(t),null;case 17:return pt(t.type)&&bi(),it(t),null;case 19:if(Pe(Ie),d=t.memoizedState,d===null)return it(t),null;if(a=(t.flags&128)!==0,g=d.rendering,g===null)if(a)xs(d,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=Li(e),g!==null){for(t.flags|=128,xs(d,!1),a=g.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=i,i=t.child;i!==null;)d=i,e=a,d.flags&=14680066,g=d.alternate,g===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=g.childLanes,d.lanes=g.lanes,d.child=g.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=g.memoizedProps,d.memoizedState=g.memoizedState,d.updateQueue=g.updateQueue,d.type=g.type,e=g.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Ce(Ie,Ie.current&1|2),t.child}e=e.sibling}d.tail!==null&&Ue()>Tn&&(t.flags|=128,a=!0,xs(d,!1),t.lanes=4194304)}else{if(!a)if(e=Li(g),e!==null){if(t.flags|=128,a=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),xs(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Ne)return it(t),null}else 2*Ue()-d.renderingStartTime>Tn&&i!==1073741824&&(t.flags|=128,a=!0,xs(d,!1),t.lanes=4194304);d.isBackwards?(g.sibling=t.child,t.child=g):(i=d.last,i!==null?i.sibling=g:t.child=g,d.last=g)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=Ue(),t.sibling=null,i=Ie.current,Ce(Ie,a?i&1|2:i&1),t):(it(t),null);case 22:case 23:return al(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(St&1073741824)!==0&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function tm(e,t){switch(ga(t),t.tag){case 1:return pt(t.type)&&bi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bn(),Pe(ft),Pe(nt),Ra(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Ca(t),null;case 13:if(Pe(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));_n()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Pe(Ie),null;case 4:return bn(),null;case 10:return Sa(t.type._context),null;case 22:case 23:return al(),null;case 24:return null;default:return null}}var qi=!1,ot=!1,rm=typeof WeakSet=="function"?WeakSet:Set,Q=null;function jn(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){De(e,t,a)}else i.current=null}function Ja(e,t,i){try{i()}catch(a){De(e,t,a)}}var hd=!1;function nm(e,t){if(aa=ci,e=qu(),Zo(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var c=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var g=0,w=-1,S=-1,N=0,M=0,z=e,U=null;t:for(;;){for(var K;z!==i||c!==0&&z.nodeType!==3||(w=g+c),z!==d||a!==0&&z.nodeType!==3||(S=g+a),z.nodeType===3&&(g+=z.nodeValue.length),(K=z.firstChild)!==null;)U=z,z=K;for(;;){if(z===e)break t;if(U===i&&++N===c&&(w=g),U===d&&++M===a&&(S=g),(K=z.nextSibling)!==null)break;z=U,U=z.parentNode}z=K}i=w===-1||S===-1?null:{start:w,end:S}}else i=null}i=i||{start:0,end:0}}else i=null;for(la={focusedElem:e,selectionRange:i},ci=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var Y=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Y!==null){var X=Y.memoizedProps,Be=Y.memoizedState,C=t.stateNode,x=C.getSnapshotBeforeUpdate(t.elementType===t.type?X:At(t.type,X),Be);C.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(W){De(t,t.return,W)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return Y=hd,hd=!1,Y}function bs(e,t,i){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var d=c.destroy;c.destroy=void 0,d!==void 0&&Ja(t,i,d)}c=c.next}while(c!==a)}}function Vi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==t)}}function Qa(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function fd(e){var t=e.alternate;t!==null&&(e.alternate=null,fd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wt],delete t[fs],delete t[ha],delete t[Bp],delete t[Mp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pd(e){return e.tag===5||e.tag===3||e.tag===4}function md(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ya(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Si));else if(a!==4&&(e=e.child,e!==null))for(Ya(e,t,i),e=e.sibling;e!==null;)Ya(e,t,i),e=e.sibling}function Xa(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Xa(e,t,i),e=e.sibling;e!==null;)Xa(e,t,i),e=e.sibling}var Xe=null,Lt=!1;function Sr(e,t,i){for(i=i.child;i!==null;)gd(e,t,i),i=i.sibling}function gd(e,t,i){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(si,i)}catch{}switch(i.tag){case 5:ot||jn(i,t);case 6:var a=Xe,c=Lt;Xe=null,Sr(e,t,i),Xe=a,Lt=c,Xe!==null&&(Lt?(e=Xe,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Xe.removeChild(i.stateNode));break;case 18:Xe!==null&&(Lt?(e=Xe,i=i.stateNode,e.nodeType===8?da(e.parentNode,i):e.nodeType===1&&da(e,i),rs(e)):da(Xe,i.stateNode));break;case 4:a=Xe,c=Lt,Xe=i.stateNode.containerInfo,Lt=!0,Sr(e,t,i),Xe=a,Lt=c;break;case 0:case 11:case 14:case 15:if(!ot&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var d=c,g=d.destroy;d=d.tag,g!==void 0&&((d&2)!==0||(d&4)!==0)&&Ja(i,t,g),c=c.next}while(c!==a)}Sr(e,t,i);break;case 1:if(!ot&&(jn(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(w){De(i,t,w)}Sr(e,t,i);break;case 21:Sr(e,t,i);break;case 22:i.mode&1?(ot=(a=ot)||i.memoizedState!==null,Sr(e,t,i),ot=a):Sr(e,t,i);break;default:Sr(e,t,i)}}function vd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new rm),t.forEach(function(a){var c=hm.bind(null,e,a);i.has(a)||(i.add(a),a.then(c,c))})}}function Dt(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];try{var d=e,g=t,w=g;e:for(;w!==null;){switch(w.tag){case 5:Xe=w.stateNode,Lt=!1;break e;case 3:Xe=w.stateNode.containerInfo,Lt=!0;break e;case 4:Xe=w.stateNode.containerInfo,Lt=!0;break e}w=w.return}if(Xe===null)throw Error(s(160));gd(d,g,c),Xe=null,Lt=!1;var S=c.alternate;S!==null&&(S.return=null),c.return=null}catch(N){De(c,t,N)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yd(t,e),t=t.sibling}function yd(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dt(t,e),Ht(e),a&4){try{bs(3,e,e.return),Vi(3,e)}catch(X){De(e,e.return,X)}try{bs(5,e,e.return)}catch(X){De(e,e.return,X)}}break;case 1:Dt(t,e),Ht(e),a&512&&i!==null&&jn(i,i.return);break;case 5:if(Dt(t,e),Ht(e),a&512&&i!==null&&jn(i,i.return),e.flags&32){var c=e.stateNode;try{zt(c,"")}catch(X){De(e,e.return,X)}}if(a&4&&(c=e.stateNode,c!=null)){var d=e.memoizedProps,g=i!==null?i.memoizedProps:d,w=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{w==="input"&&d.type==="radio"&&d.name!=null&&Ys(c,d),Ro(w,g);var N=Ro(w,d);for(g=0;g<S.length;g+=2){var M=S[g],z=S[g+1];M==="style"?eu(c,z):M==="dangerouslySetInnerHTML"?ei(c,z):M==="children"?zt(c,z):D(c,M,z,N)}switch(w){case"input":qn(c,d);break;case"textarea":Xs(c,d);break;case"select":var U=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var K=d.value;K!=null?lr(c,!!d.multiple,K,!1):U!==!!d.multiple&&(d.defaultValue!=null?lr(c,!!d.multiple,d.defaultValue,!0):lr(c,!!d.multiple,d.multiple?[]:"",!1))}c[fs]=d}catch(X){De(e,e.return,X)}}break;case 6:if(Dt(t,e),Ht(e),a&4){if(e.stateNode===null)throw Error(s(162));c=e.stateNode,d=e.memoizedProps;try{c.nodeValue=d}catch(X){De(e,e.return,X)}}break;case 3:if(Dt(t,e),Ht(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{rs(t.containerInfo)}catch(X){De(e,e.return,X)}break;case 4:Dt(t,e),Ht(e);break;case 13:Dt(t,e),Ht(e),c=e.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||(tl=Ue())),a&4&&vd(e);break;case 22:if(M=i!==null&&i.memoizedState!==null,e.mode&1?(ot=(N=ot)||M,Dt(t,e),ot=N):Dt(t,e),Ht(e),a&8192){if(N=e.memoizedState!==null,(e.stateNode.isHidden=N)&&!M&&(e.mode&1)!==0)for(Q=e,M=e.child;M!==null;){for(z=Q=M;Q!==null;){switch(U=Q,K=U.child,U.tag){case 0:case 11:case 14:case 15:bs(4,U,U.return);break;case 1:jn(U,U.return);var Y=U.stateNode;if(typeof Y.componentWillUnmount=="function"){a=U,i=U.return;try{t=a,Y.props=t.memoizedProps,Y.state=t.memoizedState,Y.componentWillUnmount()}catch(X){De(a,i,X)}}break;case 5:jn(U,U.return);break;case 22:if(U.memoizedState!==null){kd(z);continue}}K!==null?(K.return=U,Q=K):kd(z)}M=M.sibling}e:for(M=null,z=e;;){if(z.tag===5){if(M===null){M=z;try{c=z.stateNode,N?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(w=z.stateNode,S=z.memoizedProps.style,g=S!=null&&S.hasOwnProperty("display")?S.display:null,w.style.display=Zl("display",g))}catch(X){De(e,e.return,X)}}}else if(z.tag===6){if(M===null)try{z.stateNode.nodeValue=N?"":z.memoizedProps}catch(X){De(e,e.return,X)}}else if((z.tag!==22&&z.tag!==23||z.memoizedState===null||z===e)&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===e)break e;for(;z.sibling===null;){if(z.return===null||z.return===e)break e;M===z&&(M=null),z=z.return}M===z&&(M=null),z.sibling.return=z.return,z=z.sibling}}break;case 19:Dt(t,e),Ht(e),a&4&&vd(e);break;case 21:break;default:Dt(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(pd(i)){var a=i;break e}i=i.return}throw Error(s(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(zt(c,""),a.flags&=-33);var d=md(e);Xa(e,d,c);break;case 3:case 4:var g=a.stateNode.containerInfo,w=md(e);Ya(e,w,g);break;default:throw Error(s(161))}}catch(S){De(e,e.return,S)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sm(e,t,i){Q=e,wd(e)}function wd(e,t,i){for(var a=(e.mode&1)!==0;Q!==null;){var c=Q,d=c.child;if(c.tag===22&&a){var g=c.memoizedState!==null||qi;if(!g){var w=c.alternate,S=w!==null&&w.memoizedState!==null||ot;w=qi;var N=ot;if(qi=g,(ot=S)&&!N)for(Q=c;Q!==null;)g=Q,S=g.child,g.tag===22&&g.memoizedState!==null?Sd(c):S!==null?(S.return=g,Q=S):Sd(c);for(;d!==null;)Q=d,wd(d),d=d.sibling;Q=c,qi=w,ot=N}_d(e)}else(c.subtreeFlags&8772)!==0&&d!==null?(d.return=c,Q=d):_d(e)}}function _d(e){for(;Q!==null;){var t=Q;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:ot||Vi(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!ot)if(i===null)a.componentDidMount();else{var c=t.elementType===t.type?i.memoizedProps:At(t.type,i.memoizedProps);a.componentDidUpdate(c,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&kc(t,d,a);break;case 3:var g=t.updateQueue;if(g!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}kc(t,g,i)}break;case 5:var w=t.stateNode;if(i===null&&t.flags&4){i=w;var S=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&i.focus();break;case"img":S.src&&(i.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var N=t.alternate;if(N!==null){var M=N.memoizedState;if(M!==null){var z=M.dehydrated;z!==null&&rs(z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}ot||t.flags&512&&Qa(t)}catch(U){De(t,t.return,U)}}if(t===e){Q=null;break}if(i=t.sibling,i!==null){i.return=t.return,Q=i;break}Q=t.return}}function kd(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var i=t.sibling;if(i!==null){i.return=t.return,Q=i;break}Q=t.return}}function Sd(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Vi(4,t)}catch(S){De(t,i,S)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var c=t.return;try{a.componentDidMount()}catch(S){De(t,c,S)}}var d=t.return;try{Qa(t)}catch(S){De(t,d,S)}break;case 5:var g=t.return;try{Qa(t)}catch(S){De(t,g,S)}}}catch(S){De(t,t.return,S)}if(t===e){Q=null;break}var w=t.sibling;if(w!==null){w.return=t.return,Q=w;break}Q=t.return}}var im=Math.ceil,Hi=J.ReactCurrentDispatcher,Za=J.ReactCurrentOwner,Rt=J.ReactCurrentBatchConfig,ye=0,Je=null,Me=null,Ze=0,St=0,Cn=vr(0),qe=0,Es=null,Vr=0,Gi=0,el=0,js=null,gt=null,tl=0,Tn=1/0,tr=null,Ki=!1,rl=null,xr=null,Ji=!1,br=null,Qi=0,Cs=0,nl=null,Yi=-1,Xi=0;function dt(){return(ye&6)!==0?Ue():Yi!==-1?Yi:Yi=Ue()}function Er(e){return(e.mode&1)===0?1:(ye&2)!==0&&Ze!==0?Ze&-Ze:Fp.transition!==null?(Xi===0&&(Xi=mu()),Xi):(e=xe,e!==0||(e=window.event,e=e===void 0?16:bu(e.type)),e)}function $t(e,t,i,a){if(50<Cs)throw Cs=0,nl=null,Error(s(185));Yn(e,i,a),((ye&2)===0||e!==Je)&&(e===Je&&((ye&2)===0&&(Gi|=i),qe===4&&jr(e,Ze)),vt(e,a),i===1&&ye===0&&(t.mode&1)===0&&(Tn=Ue()+500,ji&&wr()))}function vt(e,t){var i=e.callbackNode;Ff(e,t);var a=ai(e,e===Je?Ze:0);if(a===0)i!==null&&hu(i),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(i!=null&&hu(i),t===1)e.tag===0?zp(bd.bind(null,e)):uc(bd.bind(null,e)),$p(function(){(ye&6)===0&&wr()}),i=null;else{switch(gu(a)){case 1:i=Do;break;case 4:i=fu;break;case 16:i=ni;break;case 536870912:i=pu;break;default:i=ni}i=Nd(i,xd.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function xd(e,t){if(Yi=-1,Xi=0,(ye&6)!==0)throw Error(s(327));var i=e.callbackNode;if(Rn()&&e.callbackNode!==i)return null;var a=ai(e,e===Je?Ze:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=Zi(e,a);else{t=a;var c=ye;ye|=2;var d=jd();(Je!==e||Ze!==t)&&(tr=null,Tn=Ue()+500,Gr(e,t));do try{lm();break}catch(w){Ed(e,w)}while(!0);ka(),Hi.current=d,ye=c,Me!==null?t=0:(Je=null,Ze=0,t=qe)}if(t!==0){if(t===2&&(c=$o(e),c!==0&&(a=c,t=sl(e,c))),t===1)throw i=Es,Gr(e,0),jr(e,a),vt(e,Ue()),i;if(t===6)jr(e,a);else{if(c=e.current.alternate,(a&30)===0&&!om(c)&&(t=Zi(e,a),t===2&&(d=$o(e),d!==0&&(a=d,t=sl(e,d))),t===1))throw i=Es,Gr(e,0),jr(e,a),vt(e,Ue()),i;switch(e.finishedWork=c,e.finishedLanes=a,t){case 0:case 1:throw Error(s(345));case 2:Kr(e,gt,tr);break;case 3:if(jr(e,a),(a&130023424)===a&&(t=tl+500-Ue(),10<t)){if(ai(e,0)!==0)break;if(c=e.suspendedLanes,(c&a)!==a){dt(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=ca(Kr.bind(null,e,gt,tr),t);break}Kr(e,gt,tr);break;case 4:if(jr(e,a),(a&4194240)===a)break;for(t=e.eventTimes,c=-1;0<a;){var g=31-Pt(a);d=1<<g,g=t[g],g>c&&(c=g),a&=~d}if(a=c,a=Ue()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*im(a/1960))-a,10<a){e.timeoutHandle=ca(Kr.bind(null,e,gt,tr),a);break}Kr(e,gt,tr);break;case 5:Kr(e,gt,tr);break;default:throw Error(s(329))}}}return vt(e,Ue()),e.callbackNode===i?xd.bind(null,e):null}function sl(e,t){var i=js;return e.current.memoizedState.isDehydrated&&(Gr(e,t).flags|=256),e=Zi(e,t),e!==2&&(t=gt,gt=i,t!==null&&il(t)),e}function il(e){gt===null?gt=e:gt.push.apply(gt,e)}function om(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var c=i[a],d=c.getSnapshot;c=c.value;try{if(!Nt(d(),c))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jr(e,t){for(t&=~el,t&=~Gi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Pt(t),a=1<<i;e[i]=-1,t&=~a}}function bd(e){if((ye&6)!==0)throw Error(s(327));Rn();var t=ai(e,0);if((t&1)===0)return vt(e,Ue()),null;var i=Zi(e,t);if(e.tag!==0&&i===2){var a=$o(e);a!==0&&(t=a,i=sl(e,a))}if(i===1)throw i=Es,Gr(e,0),jr(e,t),vt(e,Ue()),i;if(i===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kr(e,gt,tr),vt(e,Ue()),null}function ol(e,t){var i=ye;ye|=1;try{return e(t)}finally{ye=i,ye===0&&(Tn=Ue()+500,ji&&wr())}}function Hr(e){br!==null&&br.tag===0&&(ye&6)===0&&Rn();var t=ye;ye|=1;var i=Rt.transition,a=xe;try{if(Rt.transition=null,xe=1,e)return e()}finally{xe=a,Rt.transition=i,ye=t,(ye&6)===0&&wr()}}function al(){St=Cn.current,Pe(Cn)}function Gr(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Dp(i)),Me!==null)for(i=Me.return;i!==null;){var a=i;switch(ga(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&bi();break;case 3:bn(),Pe(ft),Pe(nt),Ra();break;case 5:Ca(a);break;case 4:bn();break;case 13:Pe(Ie);break;case 19:Pe(Ie);break;case 10:Sa(a.type._context);break;case 22:case 23:al()}i=i.return}if(Je=e,Me=e=Cr(e.current,null),Ze=St=t,qe=0,Es=null,el=Gi=Vr=0,gt=js=null,Fr!==null){for(t=0;t<Fr.length;t++)if(i=Fr[t],a=i.interleaved,a!==null){i.interleaved=null;var c=a.next,d=i.pending;if(d!==null){var g=d.next;d.next=c,a.next=g}i.pending=a}Fr=null}return e}function Ed(e,t){do{var i=Me;try{if(ka(),Di.current=Mi,$i){for(var a=Ae.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}$i=!1}if(qr=0,Ke=We=Ae=null,ws=!1,_s=0,Za.current=null,i===null||i.return===null){qe=1,Es=t,Me=null;break}e:{var d=e,g=i.return,w=i,S=t;if(t=Ze,w.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var N=S,M=w,z=M.tag;if((M.mode&1)===0&&(z===0||z===11||z===15)){var U=M.alternate;U?(M.updateQueue=U.updateQueue,M.memoizedState=U.memoizedState,M.lanes=U.lanes):(M.updateQueue=null,M.memoizedState=null)}var K=Qc(g);if(K!==null){K.flags&=-257,Yc(K,g,w,d,t),K.mode&1&&Jc(d,N,t),t=K,S=N;var Y=t.updateQueue;if(Y===null){var X=new Set;X.add(S),t.updateQueue=X}else Y.add(S);break e}else{if((t&1)===0){Jc(d,N,t),ll();break e}S=Error(s(426))}}else if(Ne&&w.mode&1){var Be=Qc(g);if(Be!==null){(Be.flags&65536)===0&&(Be.flags|=256),Yc(Be,g,w,d,t),wa(En(S,w));break e}}d=S=En(S,w),qe!==4&&(qe=2),js===null?js=[d]:js.push(d),d=g;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var C=Gc(d,S,t);_c(d,C);break e;case 1:w=S;var x=d.type,O=d.stateNode;if((d.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(xr===null||!xr.has(O)))){d.flags|=65536,t&=-t,d.lanes|=t;var W=Kc(d,w,t);_c(d,W);break e}}d=d.return}while(d!==null)}Td(i)}catch(Z){t=Z,Me===i&&i!==null&&(Me=i=i.return);continue}break}while(!0)}function jd(){var e=Hi.current;return Hi.current=Mi,e===null?Mi:e}function ll(){(qe===0||qe===3||qe===2)&&(qe=4),Je===null||(Vr&268435455)===0&&(Gi&268435455)===0||jr(Je,Ze)}function Zi(e,t){var i=ye;ye|=2;var a=jd();(Je!==e||Ze!==t)&&(tr=null,Gr(e,t));do try{am();break}catch(c){Ed(e,c)}while(!0);if(ka(),ye=i,Hi.current=a,Me!==null)throw Error(s(261));return Je=null,Ze=0,qe}function am(){for(;Me!==null;)Cd(Me)}function lm(){for(;Me!==null&&!If();)Cd(Me)}function Cd(e){var t=Pd(e.alternate,e,St);e.memoizedProps=e.pendingProps,t===null?Td(e):Me=t,Za.current=null}function Td(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=em(i,t,St),i!==null){Me=i;return}}else{if(i=tm(i,t),i!==null){i.flags&=32767,Me=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qe=6,Me=null;return}}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);qe===0&&(qe=5)}function Kr(e,t,i){var a=xe,c=Rt.transition;try{Rt.transition=null,xe=1,um(e,t,i,a)}finally{Rt.transition=c,xe=a}return null}function um(e,t,i,a){do Rn();while(br!==null);if((ye&6)!==0)throw Error(s(327));i=e.finishedWork;var c=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var d=i.lanes|i.childLanes;if(Wf(e,d),e===Je&&(Me=Je=null,Ze=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Ji||(Ji=!0,Nd(ni,function(){return Rn(),null})),d=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||d){d=Rt.transition,Rt.transition=null;var g=xe;xe=1;var w=ye;ye|=4,Za.current=null,nm(e,i),yd(i,e),Rp(la),ci=!!aa,la=aa=null,e.current=i,sm(i),Af(),ye=w,xe=g,Rt.transition=d}else e.current=i;if(Ji&&(Ji=!1,br=e,Qi=c),d=e.pendingLanes,d===0&&(xr=null),$f(i.stateNode),vt(e,Ue()),t!==null)for(a=e.onRecoverableError,i=0;i<t.length;i++)c=t[i],a(c.value,{componentStack:c.stack,digest:c.digest});if(Ki)throw Ki=!1,e=rl,rl=null,e;return(Qi&1)!==0&&e.tag!==0&&Rn(),d=e.pendingLanes,(d&1)!==0?e===nl?Cs++:(Cs=0,nl=e):Cs=0,wr(),null}function Rn(){if(br!==null){var e=gu(Qi),t=Rt.transition,i=xe;try{if(Rt.transition=null,xe=16>e?16:e,br===null)var a=!1;else{if(e=br,br=null,Qi=0,(ye&6)!==0)throw Error(s(331));var c=ye;for(ye|=4,Q=e.current;Q!==null;){var d=Q,g=d.child;if((Q.flags&16)!==0){var w=d.deletions;if(w!==null){for(var S=0;S<w.length;S++){var N=w[S];for(Q=N;Q!==null;){var M=Q;switch(M.tag){case 0:case 11:case 15:bs(8,M,d)}var z=M.child;if(z!==null)z.return=M,Q=z;else for(;Q!==null;){M=Q;var U=M.sibling,K=M.return;if(fd(M),M===N){Q=null;break}if(U!==null){U.return=K,Q=U;break}Q=K}}}var Y=d.alternate;if(Y!==null){var X=Y.child;if(X!==null){Y.child=null;do{var Be=X.sibling;X.sibling=null,X=Be}while(X!==null)}}Q=d}}if((d.subtreeFlags&2064)!==0&&g!==null)g.return=d,Q=g;else e:for(;Q!==null;){if(d=Q,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:bs(9,d,d.return)}var C=d.sibling;if(C!==null){C.return=d.return,Q=C;break e}Q=d.return}}var x=e.current;for(Q=x;Q!==null;){g=Q;var O=g.child;if((g.subtreeFlags&2064)!==0&&O!==null)O.return=g,Q=O;else e:for(g=x;Q!==null;){if(w=Q,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:Vi(9,w)}}catch(Z){De(w,w.return,Z)}if(w===g){Q=null;break e}var W=w.sibling;if(W!==null){W.return=w.return,Q=W;break e}Q=w.return}}if(ye=c,wr(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(si,e)}catch{}a=!0}return a}finally{xe=i,Rt.transition=t}}return!1}function Rd(e,t,i){t=En(i,t),t=Gc(e,t,1),e=kr(e,t,1),t=dt(),e!==null&&(Yn(e,1,t),vt(e,t))}function De(e,t,i){if(e.tag===3)Rd(e,e,i);else for(;t!==null;){if(t.tag===3){Rd(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(xr===null||!xr.has(a))){e=En(i,e),e=Kc(t,e,1),t=kr(t,e,1),e=dt(),t!==null&&(Yn(t,1,e),vt(t,e));break}}t=t.return}}function cm(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),t=dt(),e.pingedLanes|=e.suspendedLanes&i,Je===e&&(Ze&i)===i&&(qe===4||qe===3&&(Ze&130023424)===Ze&&500>Ue()-tl?Gr(e,0):el|=i),vt(e,t)}function Od(e,t){t===0&&((e.mode&1)===0?t=1:(t=oi,oi<<=1,(oi&130023424)===0&&(oi=4194304)));var i=dt();e=Xt(e,t),e!==null&&(Yn(e,t,i),vt(e,i))}function dm(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Od(e,i)}function hm(e,t){var i=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(s(314))}a!==null&&a.delete(t),Od(e,i)}var Pd;Pd=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||ft.current)mt=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return mt=!1,Zp(e,t,i);mt=(e.flags&131072)!==0}else mt=!1,Ne&&(t.flags&1048576)!==0&&cc(t,Ti,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Wi(e,t),e=t.pendingProps;var c=vn(t,nt.current);xn(t,i),c=Na(null,t,a,e,c,i);var d=Ia();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(a)?(d=!0,Ei(t)):d=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Ea(t),c.updater=zi,t.stateNode=c,c._reactInternals=t,Ba(t,a,e,i),t=Wa(null,t,a,!0,d,i)):(t.tag=0,Ne&&d&&ma(t),ct(null,t,c,i),t=t.child),t;case 16:a=t.elementType;e:{switch(Wi(e,t),e=t.pendingProps,c=a._init,a=c(a._payload),t.type=a,c=t.tag=pm(a),e=At(a,e),c){case 0:t=Fa(null,t,a,e,i);break e;case 1:t=nd(null,t,a,e,i);break e;case 11:t=Xc(null,t,a,e,i);break e;case 14:t=Zc(null,t,a,At(a.type,e),i);break e}throw Error(s(306,a,""))}return t;case 0:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:At(a,c),Fa(e,t,a,c,i);case 1:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:At(a,c),nd(e,t,a,c,i);case 3:e:{if(sd(t),e===null)throw Error(s(387));a=t.pendingProps,d=t.memoizedState,c=d.element,wc(e,t),Ai(t,a,null,i);var g=t.memoizedState;if(a=g.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){c=En(Error(s(423)),t),t=id(e,t,a,i,c);break e}else if(a!==c){c=En(Error(s(424)),t),t=id(e,t,a,i,c);break e}else for(kt=gr(t.stateNode.containerInfo.firstChild),_t=t,Ne=!0,It=null,i=vc(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(_n(),a===c){t=er(e,t,i);break e}ct(e,t,a,i)}t=t.child}return t;case 5:return Sc(t),e===null&&ya(t),a=t.type,c=t.pendingProps,d=e!==null?e.memoizedProps:null,g=c.children,ua(a,c)?g=null:d!==null&&ua(a,d)&&(t.flags|=32),rd(e,t),ct(e,t,g,i),t.child;case 6:return e===null&&ya(t),null;case 13:return od(e,t,i);case 4:return ja(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=kn(t,null,a,i):ct(e,t,a,i),t.child;case 11:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:At(a,c),Xc(e,t,a,c,i);case 7:return ct(e,t,t.pendingProps,i),t.child;case 8:return ct(e,t,t.pendingProps.children,i),t.child;case 12:return ct(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(a=t.type._context,c=t.pendingProps,d=t.memoizedProps,g=c.value,Ce(Pi,a._currentValue),a._currentValue=g,d!==null)if(Nt(d.value,g)){if(d.children===c.children&&!ft.current){t=er(e,t,i);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var w=d.dependencies;if(w!==null){g=d.child;for(var S=w.firstContext;S!==null;){if(S.context===a){if(d.tag===1){S=Zt(-1,i&-i),S.tag=2;var N=d.updateQueue;if(N!==null){N=N.shared;var M=N.pending;M===null?S.next=S:(S.next=M.next,M.next=S),N.pending=S}}d.lanes|=i,S=d.alternate,S!==null&&(S.lanes|=i),xa(d.return,i,t),w.lanes|=i;break}S=S.next}}else if(d.tag===10)g=d.type===t.type?null:d.child;else if(d.tag===18){if(g=d.return,g===null)throw Error(s(341));g.lanes|=i,w=g.alternate,w!==null&&(w.lanes|=i),xa(g,i,t),g=d.sibling}else g=d.child;if(g!==null)g.return=d;else for(g=d;g!==null;){if(g===t){g=null;break}if(d=g.sibling,d!==null){d.return=g.return,g=d;break}g=g.return}d=g}ct(e,t,c.children,i),t=t.child}return t;case 9:return c=t.type,a=t.pendingProps.children,xn(t,i),c=Ct(c),a=a(c),t.flags|=1,ct(e,t,a,i),t.child;case 14:return a=t.type,c=At(a,t.pendingProps),c=At(a.type,c),Zc(e,t,a,c,i);case 15:return ed(e,t,t.type,t.pendingProps,i);case 17:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:At(a,c),Wi(e,t),t.tag=1,pt(a)?(e=!0,Ei(t)):e=!1,xn(t,i),Vc(t,a,c),Ba(t,a,c,i),Wa(null,t,a,!0,e,i);case 19:return ld(e,t,i);case 22:return td(e,t,i)}throw Error(s(156,t.tag))};function Nd(e,t){return du(e,t)}function fm(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,i,a){return new fm(e,t,i,a)}function ul(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pm(e){if(typeof e=="function")return ul(e)?1:0;if(e!=null){if(e=e.$$typeof,e===le)return 11;if(e===Le)return 14}return 2}function Cr(e,t){var i=e.alternate;return i===null?(i=Ot(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function eo(e,t,i,a,c,d){var g=2;if(a=e,typeof e=="function")ul(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case ae:return Jr(i.children,c,d,t);case _e:g=8,c|=8;break;case Ee:return e=Ot(12,i,t,c|2),e.elementType=Ee,e.lanes=d,e;case be:return e=Ot(13,i,t,c),e.elementType=be,e.lanes=d,e;case fe:return e=Ot(19,i,t,c),e.elementType=fe,e.lanes=d,e;case ge:return to(i,c,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ye:g=10;break e;case lt:g=9;break e;case le:g=11;break e;case Le:g=14;break e;case oe:g=16,a=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=Ot(g,i,t,c),t.elementType=e,t.type=a,t.lanes=d,t}function Jr(e,t,i,a){return e=Ot(7,e,a,t),e.lanes=i,e}function to(e,t,i,a){return e=Ot(22,e,a,t),e.elementType=ge,e.lanes=i,e.stateNode={isHidden:!1},e}function cl(e,t,i){return e=Ot(6,e,null,t),e.lanes=i,e}function dl(e,t,i){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mm(e,t,i,a,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uo(0),this.expirationTimes=Uo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uo(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function hl(e,t,i,a,c,d,g,w,S){return e=new mm(e,t,i,w,S),t===1?(t=1,d===!0&&(t|=8)):t=0,d=Ot(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ea(d),e}function gm(e,t,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:a==null?null:""+a,children:e,containerInfo:t,implementation:i}}function Id(e){if(!e)return yr;e=e._reactInternals;e:{if($r(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var i=e.type;if(pt(i))return ac(e,i,t)}return t}function Ad(e,t,i,a,c,d,g,w,S){return e=hl(i,a,!0,e,c,d,g,w,S),e.context=Id(null),i=e.current,a=dt(),c=Er(i),d=Zt(a,c),d.callback=t??null,kr(i,d,c),e.current.lanes=c,Yn(e,c,a),vt(e,a),e}function ro(e,t,i,a){var c=t.current,d=dt(),g=Er(c);return i=Id(i),t.context===null?t.context=i:t.pendingContext=i,t=Zt(d,g),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=kr(c,t,g),e!==null&&($t(e,c,g,d),Ii(e,c,g)),g}function no(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ld(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function fl(e,t){Ld(e,t),(e=e.alternate)&&Ld(e,t)}function vm(){return null}var Dd=typeof reportError=="function"?reportError:function(e){console.error(e)};function pl(e){this._internalRoot=e}so.prototype.render=pl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));ro(e,t,null,null)},so.prototype.unmount=pl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hr(function(){ro(null,e,null,null)}),t[Kt]=null}};function so(e){this._internalRoot=e}so.prototype.unstable_scheduleHydration=function(e){if(e){var t=wu();e={blockedOn:null,target:e,priority:t};for(var i=0;i<fr.length&&t!==0&&t<fr[i].priority;i++);fr.splice(i,0,e),i===0&&Su(e)}};function ml(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function io(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $d(){}function ym(e,t,i,a,c){if(c){if(typeof a=="function"){var d=a;a=function(){var N=no(g);d.call(N)}}var g=Ad(t,a,e,0,null,!1,!1,"",$d);return e._reactRootContainer=g,e[Kt]=g.current,ds(e.nodeType===8?e.parentNode:e),Hr(),g}for(;c=e.lastChild;)e.removeChild(c);if(typeof a=="function"){var w=a;a=function(){var N=no(S);w.call(N)}}var S=hl(e,0,!1,null,null,!1,!1,"",$d);return e._reactRootContainer=S,e[Kt]=S.current,ds(e.nodeType===8?e.parentNode:e),Hr(function(){ro(t,S,i,a)}),S}function oo(e,t,i,a,c){var d=i._reactRootContainer;if(d){var g=d;if(typeof c=="function"){var w=c;c=function(){var S=no(g);w.call(S)}}ro(t,g,e,c)}else g=ym(i,t,e,c,a);return no(g)}vu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=Qn(t.pendingLanes);i!==0&&(Bo(t,i|1),vt(t,Ue()),(ye&6)===0&&(Tn=Ue()+500,wr()))}break;case 13:Hr(function(){var a=Xt(e,1);if(a!==null){var c=dt();$t(a,e,1,c)}}),fl(e,1)}},Mo=function(e){if(e.tag===13){var t=Xt(e,134217728);if(t!==null){var i=dt();$t(t,e,134217728,i)}fl(e,134217728)}},yu=function(e){if(e.tag===13){var t=Er(e),i=Xt(e,t);if(i!==null){var a=dt();$t(i,e,t,a)}fl(e,t)}},wu=function(){return xe},_u=function(e,t){var i=xe;try{return xe=e,t()}finally{xe=i}},No=function(e,t,i){switch(t){case"input":if(qn(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var c=xi(a);if(!c)throw Error(s(90));Nr(a),qn(a,c)}}}break;case"textarea":Xs(e,i);break;case"select":t=i.value,t!=null&&lr(e,!!i.multiple,t,!1)}},su=ol,iu=Hr;var wm={usingClientEntryPoint:!1,Events:[ps,mn,xi,ru,nu,ol]},Ts={findFiberByHostInstance:Ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_m={bundleType:Ts.bundleType,version:Ts.version,rendererPackageName:Ts.rendererPackageName,rendererConfig:Ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=uu(e),e===null?null:e.stateNode},findFiberByHostInstance:Ts.findFiberByHostInstance||vm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ao.isDisabled&&ao.supportsFiber)try{si=ao.inject(_m),Ft=ao}catch{}}return yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wm,yt.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ml(t))throw Error(s(200));return gm(e,t,null,i)},yt.createRoot=function(e,t){if(!ml(e))throw Error(s(299));var i=!1,a="",c=Dd;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=hl(e,1,!1,null,null,i,!1,a,c),e[Kt]=t.current,ds(e.nodeType===8?e.parentNode:e),new pl(t)},yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=uu(t),e=e===null?null:e.stateNode,e},yt.flushSync=function(e){return Hr(e)},yt.hydrate=function(e,t,i){if(!io(t))throw Error(s(200));return oo(null,e,t,!0,i)},yt.hydrateRoot=function(e,t,i){if(!ml(e))throw Error(s(405));var a=i!=null&&i.hydratedSources||null,c=!1,d="",g=Dd;if(i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),t=Ad(t,null,e,1,i??null,c,!1,d,g),e[Kt]=t.current,ds(e),a)for(e=0;e<a.length;e++)i=a[e],c=i._getVersion,c=c(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,c]:t.mutableSourceEagerHydrationData.push(i,c);return new so(t)},yt.render=function(e,t,i){if(!io(t))throw Error(s(200));return oo(null,e,t,!1,i)},yt.unmountComponentAtNode=function(e){if(!io(e))throw Error(s(40));return e._reactRootContainer?(Hr(function(){oo(null,null,e,!1,function(){e._reactRootContainer=null,e[Kt]=null})}),!0):!1},yt.unstable_batchedUpdates=ol,yt.unstable_renderSubtreeIntoContainer=function(e,t,i,a){if(!io(i))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return oo(e,t,i,!1,a)},yt.version="18.3.1-next-f1338f8080-20240426",yt}var Vd;function Nh(){if(Vd)return yl.exports;Vd=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),yl.exports=Rm(),yl.exports}var Hd;function Om(){if(Hd)return lo;Hd=1;var n=Nh();return lo.createRoot=n.createRoot,lo.hydrateRoot=n.hydrateRoot,lo}var Pm=Om();const Nm=Oh(Pm);Nh();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $s(){return $s=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])}return n},$s.apply(this,arguments)}var Pr;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Pr||(Pr={}));const Gd="popstate";function Im(n){n===void 0&&(n={});function r(o,l){let{pathname:u,search:h,hash:f}=o.location;return Ol("",{pathname:u,search:h,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function s(o,l){return typeof l=="string"?l:Ih(l)}return Lm(r,s,null,n)}function Fe(n,r){if(n===!1||n===null||typeof n>"u")throw new Error(r)}function Wl(n,r){if(!n){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Am(){return Math.random().toString(36).substr(2,8)}function Kd(n,r){return{usr:n.state,key:n.key,idx:r}}function Ol(n,r,s,o){return s===void 0&&(s=null),$s({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof r=="string"?zn(r):r,{state:s,key:r&&r.key||o||Am()})}function Ih(n){let{pathname:r="/",search:s="",hash:o=""}=n;return s&&s!=="?"&&(r+=s.charAt(0)==="?"?s:"?"+s),o&&o!=="#"&&(r+=o.charAt(0)==="#"?o:"#"+o),r}function zn(n){let r={};if(n){let s=n.indexOf("#");s>=0&&(r.hash=n.substr(s),n=n.substr(0,s));let o=n.indexOf("?");o>=0&&(r.search=n.substr(o),n=n.substr(0,o)),n&&(r.pathname=n)}return r}function Lm(n,r,s,o){o===void 0&&(o={});let{window:l=document.defaultView,v5Compat:u=!1}=o,h=l.history,f=Pr.Pop,p=null,v=y();v==null&&(v=0,h.replaceState($s({},h.state,{idx:v}),""));function y(){return(h.state||{idx:null}).idx}function k(){f=Pr.Pop;let T=y(),B=T==null?null:T-v;v=T,p&&p({action:f,location:P.location,delta:B})}function _(T,B){f=Pr.Push;let A=Ol(P.location,T,B);v=y()+1;let D=Kd(A,v),J=P.createHref(A);try{h.pushState(D,"",J)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;l.location.assign(J)}u&&p&&p({action:f,location:P.location,delta:1})}function b(T,B){f=Pr.Replace;let A=Ol(P.location,T,B);v=y();let D=Kd(A,v),J=P.createHref(A);h.replaceState(D,"",J),u&&p&&p({action:f,location:P.location,delta:0})}function j(T){let B=l.location.origin!=="null"?l.location.origin:l.location.href,A=typeof T=="string"?T:Ih(T);return A=A.replace(/ $/,"%20"),Fe(B,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,B)}let P={get action(){return f},get location(){return n(l,h)},listen(T){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(Gd,k),p=T,()=>{l.removeEventListener(Gd,k),p=null}},createHref(T){return r(l,T)},createURL:j,encodeLocation(T){let B=j(T);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:_,replace:b,go(T){return h.go(T)}};return P}var Jd;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Jd||(Jd={}));function Dm(n,r,s){return s===void 0&&(s="/"),$m(n,r,s)}function $m(n,r,s,o){let l=typeof r=="string"?zn(r):r,u=Dh(l.pathname||"/",s);if(u==null)return null;let h=Ah(n);Um(h);let f=null;for(let p=0;f==null&&p<h.length;++p){let v=Qm(u);f=Gm(h[p],v)}return f}function Ah(n,r,s,o){r===void 0&&(r=[]),s===void 0&&(s=[]),o===void 0&&(o="");let l=(u,h,f)=>{let p={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(Fe(p.relativePath.startsWith(o),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(o.length));let v=rn([o,p.relativePath]),y=s.concat(p);u.children&&u.children.length>0&&(Fe(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),Ah(u.children,r,y,v)),!(u.path==null&&!u.index)&&r.push({path:v,score:Vm(v,u.index),routesMeta:y})};return n.forEach((u,h)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))l(u,h);else for(let p of Lh(u.path))l(u,h,p)}),r}function Lh(n){let r=n.split("/");if(r.length===0)return[];let[s,...o]=r,l=s.endsWith("?"),u=s.replace(/\?$/,"");if(o.length===0)return l?[u,""]:[u];let h=Lh(o.join("/")),f=[];return f.push(...h.map(p=>p===""?u:[u,p].join("/"))),l&&f.push(...h),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function Um(n){n.sort((r,s)=>r.score!==s.score?s.score-r.score:Hm(r.routesMeta.map(o=>o.childrenIndex),s.routesMeta.map(o=>o.childrenIndex)))}const Bm=/^:[\w-]+$/,Mm=3,zm=2,Fm=1,Wm=10,qm=-2,Qd=n=>n==="*";function Vm(n,r){let s=n.split("/"),o=s.length;return s.some(Qd)&&(o+=qm),r&&(o+=zm),s.filter(l=>!Qd(l)).reduce((l,u)=>l+(Bm.test(u)?Mm:u===""?Fm:Wm),o)}function Hm(n,r){return n.length===r.length&&n.slice(0,-1).every((o,l)=>o===r[l])?n[n.length-1]-r[r.length-1]:0}function Gm(n,r,s){let{routesMeta:o}=n,l={},u="/",h=[];for(let f=0;f<o.length;++f){let p=o[f],v=f===o.length-1,y=u==="/"?r:r.slice(u.length)||"/",k=Km({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},y),_=p.route;if(!k)return null;Object.assign(l,k.params),h.push({params:l,pathname:rn([u,k.pathname]),pathnameBase:tg(rn([u,k.pathnameBase])),route:_}),k.pathnameBase!=="/"&&(u=rn([u,k.pathnameBase]))}return h}function Km(n,r){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[s,o]=Jm(n.path,n.caseSensitive,n.end),l=r.match(s);if(!l)return null;let u=l[0],h=u.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:o.reduce((v,y,k)=>{let{paramName:_,isOptional:b}=y;if(_==="*"){let P=f[k]||"";h=u.slice(0,u.length-P.length).replace(/(.)\/+$/,"$1")}const j=f[k];return b&&!j?v[_]=void 0:v[_]=(j||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:h,pattern:n}}function Jm(n,r,s){r===void 0&&(r=!1),s===void 0&&(s=!0),Wl(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let o=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,p)=>(o.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(o.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,r?void 0:"i"),o]}function Qm(n){try{return n.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Wl(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),n}}function Dh(n,r){if(r==="/")return n;if(!n.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,o=n.charAt(s);return o&&o!=="/"?null:n.slice(s)||"/"}const Ym=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xm=n=>Ym.test(n);function Zm(n,r){r===void 0&&(r="/");let{pathname:s,search:o="",hash:l=""}=typeof n=="string"?zn(n):n,u;if(s)if(Xm(s))u=s;else{if(s.includes("//")){let h=s;s=s.replace(/\/\/+/g,"/"),Wl(!1,"Pathnames cannot have embedded double slashes - normalizing "+(h+" -> "+s))}s.startsWith("/")?u=Yd(s.substring(1),"/"):u=Yd(s,r)}else u=r;return{pathname:u,search:rg(o),hash:ng(l)}}function Yd(n,r){let s=r.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?s.length>1&&s.pop():l!=="."&&s.push(l)}),s.length>1?s.join("/"):"/"}function kl(n,r,s,o){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eg(n){return n.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function $h(n,r){let s=eg(n);return r?s.map((o,l)=>l===s.length-1?o.pathname:o.pathnameBase):s.map(o=>o.pathnameBase)}function Uh(n,r,s,o){o===void 0&&(o=!1);let l;typeof n=="string"?l=zn(n):(l=$s({},n),Fe(!l.pathname||!l.pathname.includes("?"),kl("?","pathname","search",l)),Fe(!l.pathname||!l.pathname.includes("#"),kl("#","pathname","hash",l)),Fe(!l.search||!l.search.includes("#"),kl("#","search","hash",l)));let u=n===""||l.pathname==="",h=u?"/":l.pathname,f;if(h==null)f=s;else{let k=r.length-1;if(!o&&h.startsWith("..")){let _=h.split("/");for(;_[0]==="..";)_.shift(),k-=1;l.pathname=_.join("/")}f=k>=0?r[k]:"/"}let p=Zm(l,f),v=h&&h!=="/"&&h.endsWith("/"),y=(u||h===".")&&s.endsWith("/");return!p.pathname.endsWith("/")&&(v||y)&&(p.pathname+="/"),p}const rn=n=>n.join("/").replace(/\/\/+/g,"/"),tg=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),rg=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ng=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function sg(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Bh=["post","put","patch","delete"];new Set(Bh);const ig=["get",...Bh];new Set(ig);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Us(){return Us=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])}return n},Us.apply(this,arguments)}const ql=$.createContext(null),og=$.createContext(null),Hs=$.createContext(null),xo=$.createContext(null),nn=$.createContext({outlet:null,matches:[],isDataRoute:!1}),Mh=$.createContext(null);function Gs(){return $.useContext(xo)!=null}function Vl(){return Gs()||Fe(!1),$.useContext(xo).location}function zh(n){$.useContext(Hs).static||$.useLayoutEffect(n)}function Fh(){let{isDataRoute:n}=$.useContext(nn);return n?wg():ag()}function ag(){Gs()||Fe(!1);let n=$.useContext(ql),{basename:r,future:s,navigator:o}=$.useContext(Hs),{matches:l}=$.useContext(nn),{pathname:u}=Vl(),h=JSON.stringify($h(l,s.v7_relativeSplatPath)),f=$.useRef(!1);return zh(()=>{f.current=!0}),$.useCallback(function(v,y){if(y===void 0&&(y={}),!f.current)return;if(typeof v=="number"){o.go(v);return}let k=Uh(v,JSON.parse(h),u,y.relative==="path");n==null&&r!=="/"&&(k.pathname=k.pathname==="/"?r:rn([r,k.pathname])),(y.replace?o.replace:o.push)(k,y.state,y)},[r,o,h,u,n])}function lg(n,r){return ug(n,r)}function ug(n,r,s,o){Gs()||Fe(!1);let{navigator:l}=$.useContext(Hs),{matches:u}=$.useContext(nn),h=u[u.length-1],f=h?h.params:{};h&&h.pathname;let p=h?h.pathnameBase:"/";h&&h.route;let v=Vl(),y;if(r){var k;let T=typeof r=="string"?zn(r):r;p==="/"||(k=T.pathname)!=null&&k.startsWith(p)||Fe(!1),y=T}else y=v;let _=y.pathname||"/",b=_;if(p!=="/"){let T=p.replace(/^\//,"").split("/");b="/"+_.replace(/^\//,"").split("/").slice(T.length).join("/")}let j=Dm(n,{pathname:b}),P=pg(j&&j.map(T=>Object.assign({},T,{params:Object.assign({},f,T.params),pathname:rn([p,l.encodeLocation?l.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?p:rn([p,l.encodeLocation?l.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),u,s,o);return r&&P?$.createElement(xo.Provider,{value:{location:Us({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Pr.Pop}},P):P}function cg(){let n=yg(),r=sg(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),s=n instanceof Error?n.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},r),s?$.createElement("pre",{style:l},s):null,null)}const dg=$.createElement(cg,null);class hg extends $.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,s){return s.location!==r.location||s.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:s.error,location:s.location,revalidation:r.revalidation||s.revalidation}}componentDidCatch(r,s){console.error("React Router caught the following error during render",r,s)}render(){return this.state.error!==void 0?$.createElement(nn.Provider,{value:this.props.routeContext},$.createElement(Mh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fg(n){let{routeContext:r,match:s,children:o}=n,l=$.useContext(ql);return l&&l.static&&l.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=s.route.id),$.createElement(nn.Provider,{value:r},o)}function pg(n,r,s,o){var l;if(r===void 0&&(r=[]),s===void 0&&(s=null),o===void 0&&(o=null),n==null){var u;if(!s)return null;if(s.errors)n=s.matches;else if((u=o)!=null&&u.v7_partialHydration&&r.length===0&&!s.initialized&&s.matches.length>0)n=s.matches;else return null}let h=n,f=(l=s)==null?void 0:l.errors;if(f!=null){let y=h.findIndex(k=>k.route.id&&(f==null?void 0:f[k.route.id])!==void 0);y>=0||Fe(!1),h=h.slice(0,Math.min(h.length,y+1))}let p=!1,v=-1;if(s&&o&&o.v7_partialHydration)for(let y=0;y<h.length;y++){let k=h[y];if((k.route.HydrateFallback||k.route.hydrateFallbackElement)&&(v=y),k.route.id){let{loaderData:_,errors:b}=s,j=k.route.loader&&_[k.route.id]===void 0&&(!b||b[k.route.id]===void 0);if(k.route.lazy||j){p=!0,v>=0?h=h.slice(0,v+1):h=[h[0]];break}}}return h.reduceRight((y,k,_)=>{let b,j=!1,P=null,T=null;s&&(b=f&&k.route.id?f[k.route.id]:void 0,P=k.route.errorElement||dg,p&&(v<0&&_===0?(_g("route-fallback"),j=!0,T=null):v===_&&(j=!0,T=k.route.hydrateFallbackElement||null)));let B=r.concat(h.slice(0,_+1)),A=()=>{let D;return b?D=P:j?D=T:k.route.Component?D=$.createElement(k.route.Component,null):k.route.element?D=k.route.element:D=y,$.createElement(fg,{match:k,routeContext:{outlet:y,matches:B,isDataRoute:s!=null},children:D})};return s&&(k.route.ErrorBoundary||k.route.errorElement||_===0)?$.createElement(hg,{location:s.location,revalidation:s.revalidation,component:P,error:b,children:A(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):A()},null)}var Wh=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(Wh||{}),qh=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(qh||{});function mg(n){let r=$.useContext(ql);return r||Fe(!1),r}function gg(n){let r=$.useContext(og);return r||Fe(!1),r}function vg(n){let r=$.useContext(nn);return r||Fe(!1),r}function Vh(n){let r=vg(),s=r.matches[r.matches.length-1];return s.route.id||Fe(!1),s.route.id}function yg(){var n;let r=$.useContext(Mh),s=gg(),o=Vh();return r!==void 0?r:(n=s.errors)==null?void 0:n[o]}function wg(){let{router:n}=mg(Wh.UseNavigateStable),r=Vh(qh.UseNavigateStable),s=$.useRef(!1);return zh(()=>{s.current=!0}),$.useCallback(function(l,u){u===void 0&&(u={}),s.current&&(typeof l=="number"?n.navigate(l):n.navigate(l,Us({fromRouteId:r},u)))},[n,r])}const Xd={};function _g(n,r,s){Xd[n]||(Xd[n]=!0)}function kg(n,r){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Hh(n){let{to:r,replace:s,state:o,relative:l}=n;Gs()||Fe(!1);let{future:u,static:h}=$.useContext(Hs),{matches:f}=$.useContext(nn),{pathname:p}=Vl(),v=Fh(),y=Uh(r,$h(f,u.v7_relativeSplatPath),p,l==="path"),k=JSON.stringify(y);return $.useEffect(()=>v(JSON.parse(k),{replace:s,state:o,relative:l}),[v,k,l,s,o]),null}function wo(n){Fe(!1)}function Sg(n){let{basename:r="/",children:s=null,location:o,navigationType:l=Pr.Pop,navigator:u,static:h=!1,future:f}=n;Gs()&&Fe(!1);let p=r.replace(/^\/*/,"/"),v=$.useMemo(()=>({basename:p,navigator:u,static:h,future:Us({v7_relativeSplatPath:!1},f)}),[p,f,u,h]);typeof o=="string"&&(o=zn(o));let{pathname:y="/",search:k="",hash:_="",state:b=null,key:j="default"}=o,P=$.useMemo(()=>{let T=Dh(y,p);return T==null?null:{location:{pathname:T,search:k,hash:_,state:b,key:j},navigationType:l}},[p,y,k,_,b,j,l]);return P==null?null:$.createElement(Hs.Provider,{value:v},$.createElement(xo.Provider,{children:s,value:P}))}function xg(n){let{children:r,location:s}=n;return lg(Pl(r),s)}new Promise(()=>{});function Pl(n,r){r===void 0&&(r=[]);let s=[];return $.Children.forEach(n,(o,l)=>{if(!$.isValidElement(o))return;let u=[...r,l];if(o.type===$.Fragment){s.push.apply(s,Pl(o.props.children,u));return}o.type!==wo&&Fe(!1),!o.props.index||!o.props.children||Fe(!1);let h={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=Pl(o.props.children,u)),s.push(h)}),s}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const bg="6";try{window.__reactRouterVersion=bg}catch{}const Eg="startTransition",Zd=jm[Eg];function jg(n){let{basename:r,children:s,future:o,window:l}=n,u=$.useRef();u.current==null&&(u.current=Im({window:l,v5Compat:!0}));let h=u.current,[f,p]=$.useState({action:h.action,location:h.location}),{v7_startTransition:v}=o||{},y=$.useCallback(k=>{v&&Zd?Zd(()=>p(k)):p(k)},[p,v]);return $.useLayoutEffect(()=>h.listen(y),[h,y]),$.useEffect(()=>kg(o),[o]),$.createElement(Sg,{basename:r,children:s,location:f.location,navigationType:f.action,navigator:h,future:o})}var eh;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(eh||(eh={}));var th;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(th||(th={}));const Cg=(n,r=150)=>{const[s,o]=$.useState("");return $.useEffect(()=>{const l=()=>{const u=window.pageYOffset,h=window.innerHeight,f=document.documentElement.scrollHeight;if(u+h>=f-50&&n.length>0){o(n[n.length-1]);return}for(const v of n){const y=document.getElementById(v);if(y){const k=y.offsetTop;u>=k-r&&o(v)}}};return window.addEventListener("scroll",l),l(),()=>window.removeEventListener("scroll",l)},[n,r]),s},Tg="_navbar_1yhm8_1",Rg="_scrolled_1yhm8_12",Og="_navContent_1yhm8_17",Pg="_logo_1yhm8_24",Ng="_navLinks_1yhm8_42",Ig="_active_1yhm8_60",Ag="_navLink_1yhm8_42",Lg="_mobileMenuBtn_1yhm8_123",at={navbar:Tg,scrolled:Rg,navContent:Og,logo:Pg,navLinks:Ng,active:Ig,navLink:Ag,mobileMenuBtn:Lg},Dg=({sections:n=["home","services","contact"]})=>{const[r,s]=$.useState(!1),[o,l]=$.useState(!1),u=Cg(n,150);$.useEffect(()=>{const f=()=>{l(window.pageYOffset>100)};return window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)},[]),$.useEffect(()=>{const f=p=>{const v=p.target;r&&!v.closest(`.${at.navLinks}`)&&!v.closest(`.${at.mobileMenuBtn}`)&&s(!1)};return document.addEventListener("click",f),()=>document.removeEventListener("click",f)},[r]);const h=f=>{const p=document.getElementById(f);if(p){const v=p.offsetTop-80;window.scrollTo({top:v,behavior:"smooth"}),s(!1)}};return m.jsx("nav",{className:`${at.navbar} ${o?at.scrolled:""}`,children:m.jsx("div",{className:"container",children:m.jsxs("div",{className:at.navContent,children:[m.jsx("div",{className:at.logo,onClick:()=>h("home"),children:"The Mad Batter"}),m.jsxs("div",{className:`${at.navLinks} ${r?at.active:""}`,children:[m.jsx("a",{className:`${at.navLink} ${u==="home"?at.active:""}`,onClick:()=>h("home"),children:"Home"}),m.jsx("a",{className:`${at.navLink} ${u==="services"?at.active:""}`,onClick:()=>h("services"),children:"Services"}),m.jsx("a",{className:`${at.navLink} ${u==="contact"?at.active:""}`,onClick:()=>h("contact"),children:"Contact"})]}),m.jsxs("button",{className:`${at.mobileMenuBtn} ${r?at.active:""}`,onClick:()=>s(!r),"aria-label":"Toggle menu",children:[m.jsx("span",{}),m.jsx("span",{}),m.jsx("span",{})]})]})})})},$g="_footer_xi5i2_1",Ug="_copyright_xi5i2_7",rh={footer:$g,copyright:Ug},Bg=()=>{const n=new Date().getFullYear();return m.jsx("footer",{className:rh.footer,children:m.jsx("div",{className:"container",children:m.jsxs("div",{className:rh.copyright,children:[" ",n," The Mad Batter. All rights reserved."]})})})},Mg="_button_15fwv_1",zg="_primary_15fwv_26",Fg="_secondary_15fwv_39",Wg="_outline_15fwv_47",qg="_danger_15fwv_57",Vg="_small_15fwv_65",Hg="_large_15fwv_75",Gg="_fullWidth_15fwv_86",uo={button:Mg,primary:zg,secondary:Fg,outline:Wg,danger:qg,small:Vg,large:Hg,fullWidth:Gg},Re=({variant:n="primary",size:r="medium",fullWidth:s=!1,children:o,className:l="",...u})=>{const h=[uo.button,uo[n],r!=="medium"&&uo[r],s&&uo.fullWidth,l].filter(Boolean).join(" ");return m.jsx("button",{className:h,...u,children:o})},Kg="_hero_101mf_1",Jg="_heroContent_101mf_31",Qg="_heroTitle_101mf_38",Yg="_heroSubtitle_101mf_52",Xg="_heroCta_101mf_64",Os={hero:Kg,heroContent:Jg,heroTitle:Qg,heroSubtitle:Yg,heroCta:Xg},Zg=({onBookingClick:n})=>{const r=()=>{const s=document.getElementById("services");if(s){const o=s.offsetTop-80;window.scrollTo({top:o,behavior:"smooth"})}};return m.jsx("section",{id:"home",className:Os.hero,children:m.jsxs("div",{className:Os.heroContent,children:[m.jsx("h1",{className:Os.heroTitle,children:"The Mad Batter"}),m.jsx("p",{className:Os.heroSubtitle,children:"Artisan Baking Made with Love and Expertise"}),m.jsxs("div",{className:Os.heroCta,children:[m.jsx(Re,{size:"large",onClick:n,children:"Book a Consultation"}),m.jsx(Re,{variant:"outline",size:"large",onClick:r,children:"View Our Services"})]})]})})},ev="_modalOverlay_v5g6u_1",tv="_modalContent_v5g6u_16",rv="_modalHeader_v5g6u_33",nv="_closeButton_v5g6u_57",sv="_modalBody_v5g6u_77",Ps={modalOverlay:ev,modalContent:tv,modalHeader:rv,closeButton:nv,modalBody:sv},sr=({isOpen:n,onClose:r,title:s,children:o,maxWidth:l="600px"})=>($.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[n]),$.useEffect(()=>{const u=h=>{h.key==="Escape"&&n&&r()};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[n,r]),n?m.jsx("div",{className:Ps.modalOverlay,onClick:r,children:m.jsxs("div",{className:Ps.modalContent,style:{maxWidth:l},onClick:u=>u.stopPropagation(),children:[s&&m.jsxs("div",{className:Ps.modalHeader,children:[m.jsx("h2",{children:s}),m.jsx("button",{className:Ps.closeButton,onClick:r,"aria-label":"Close",children:""})]}),m.jsx("div",{className:Ps.modalBody,children:o})]})}):null);function Hl(n,r){const[s,o]=$.useState(()=>{try{const u=localStorage.getItem(n);return u?JSON.parse(u):r}catch(u){return console.error(`Error loading ${n} from localStorage:`,u),r}});return[s,u=>{try{o(u),localStorage.setItem(n,JSON.stringify(u))}catch(h){console.error(`Error saving ${n} to localStorage:`,h)}}]}const ir=(n=!1)=>{const[r,s]=$.useState(n);return{isOpen:r,open:()=>s(!0),close:()=>s(!1),toggle:()=>s(!r)}},Gl={GALLERY_IMAGES:"bakeryGallery_v2"},As=[{id:"cakes",name:"Cakes",icon:""},{id:"cupcakes",name:"Cupcakes",icon:""},{id:"cakesicles",name:"Cakesicles",icon:""},{id:"treatboxes",name:"Treat Boxes",icon:""},{id:"cookies",name:"Cookies",icon:""},{id:"desserts",name:"Desserts",icon:""},{id:"biscotti",name:"Biscotti",icon:""},{id:"meals",name:"Meals",icon:""},{id:"bento",name:"Bento Cakes",icon:""},{id:"smash",name:"Smash Cakes",icon:""},{id:"occasions",name:"Special Occasions",icon:""},{id:"treats",name:"Treats",icon:""}],nh={cakes:["baby-cake.jpg","baley-cake.jpg","black-panther-cake.jpg","blue-cake.jpg","blue-glitter-cake.jpg","buttercream-cake.jpg","car-cake.jpg","cricket-cake.jpg","death-by-chocolate-cake.jpg","denim-cake.jpg","dnd-cake.jpg","flower-cake.jpg","frozen-cake.jpg","hello-kitty-cake.jpg","mermaid-cake.jpg","mom-birthday-cake.jpg","oreo-cookies.jpg","pick-cake.jpg","pink-flower-cake.jpg","shiny-pink-cake.jpg","strawberry-cake.jpg","white-gold-sparkle-cake.jpg"],cupcakes:["blue-green-white-purple-cupcakes.jpg","butterfly-cupcakes.jpg","cancer-awareness-cupcakes.jpg","cupcake-box.jpg","denim-cupcakes.jpg","elsa-cupcakes.jpg","flower-cupcakes.jpg","green-pink-cupcakes.jpg","green-white-blue-pink-cupcakes.jpg","mermaid-cupcakes.jpg","soft-colour-cupcakes.jpg","succulent-cupcakes.jpg","tools-cupcakes.jpg"],cakesicles:["cakesicle-treats.jpg","cricket-cakesicles.jpg","dc-cakesicles.jpg","dinosaur-cakesicles.jpg","halloween-cakesicles.jpg","harry-potter-cakesicles.jpg","pink-cakesicles.jpg"],treatboxes:["16-treat-box.jpg","denim-treats.jpg","mix-cookies-box.jpg","pokemon-treats-1.jpg","star-wars-treats.jpg","treats-1.jpg","treats-2.jpg","treats-3.jpg","tyler-treat-box.jpg"],cookies:["batman-cookies.jpg","choco-oreo-cookies.jpg","cinnamon-roll-cookies.jpg","easter-cookies.jpg","halloween-cookies-1.jpg","halloween-cookies.jpg","heart-cookies.jpg","xmas-cookies.jpg"],desserts:["dessert-1.jpg","dessert-2.jpg","dessert-3.jpg","dessert-4.jpg","dessert-5.jpg","dessert-6.jpg","dessert.jpg"],biscotti:["admond-cranberry-biscotti.jpg"],meals:["meal-1.jpg","meal-10.jpg","meal-11.jpg","meal-12.jpg","meal-13.jpg","meal-14.jpg","meal-2.jpg","meal-3.jpg","meal-4.jpg","meal-5.jpg","meal-6.jpg","meal-7.jpg","meal-8.jpg","meal-9.jpg"],bento:["bento-blue.jpg","bento-pink.jpg"],smash:["birthday-smash.jpg","bunny-butt-smash.jpg","smash-hearts.jpg"],occasions:["easter-donuts.jpg","easter-egg.jpg","easter-treat-box-1.jpg","easter-treat-box.jpg","halloween-house.jpg","rose-pink-cakesicles.jpg","valentines-box-1.jpg","valentines-box-2.jpg","valentines-box-3.jpg","valentines-box-4.jpg","valentines-box-5.jpg","valentines-box-6.jpg","valentines-box-7.jpg","valentines-box-8.jpg","valentines-box.jpg","valentines-treat-box-1.jpg","valentines-treat-box.jpg","xmas-box-1.jpg","xmas-box.jpg","xmas-cakesicles.jpg"],treats:["grogu-choc-bomb.jpg","hazelnut-fudge-treats.jpg","marshmallow-fudge.jpg","peppermint-crisp-treats.jpg","treats-table-1.jpg","treats-table.jpg","turkish-delight-treats.jpg","unicorn-choco-bomb.jpg"],specials:["vday1.jpg","vday2.jpg"]},iv=()=>{const[n,r]=Hl(Gl.GALLERY_IMAGES,[]);return $.useEffect(()=>{if(n.length===0){console.log(" Loading images from manifest...");const s=[];Object.entries(nh).forEach(([o,l])=>{l.forEach((u,h)=>{const f=u.replace(/\.(jpg|jpeg|png|webp)$/i,"").split("-").map(p=>p.charAt(0).toUpperCase()+p.slice(1)).join(" ");s.push({id:`${o}-${h}-${Date.now()}`,category:o,title:f,description:`Beautiful ${f.toLowerCase()}`,imageUrl:`/Madbatter/images/${o}/${u}`,fileName:u,uploadDate:new Date().toISOString()})})}),r(s),console.log(` Loaded ${s.length} images from ${Object.keys(nh).length} categories`)}},[]),n};class Ks{constructor(r=0,s="Network Error"){this.status=r,this.text=s}}const ov=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,r)=>Promise.resolve(localStorage.setItem(n,r)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},rt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:ov()},Kl=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},av=(n,r="https://api.emailjs.com")=>{if(!n)return;const s=Kl(n);rt.publicKey=s.publicKey,rt.blockHeadless=s.blockHeadless,rt.storageProvider=s.storageProvider,rt.blockList=s.blockList,rt.limitRate=s.limitRate,rt.origin=s.origin||r},Gh=async(n,r,s={})=>{const o=await fetch(rt.origin+n,{method:"POST",headers:s,body:r}),l=await o.text(),u=new Ks(o.status,l);if(o.ok)return u;throw u},Kh=(n,r,s)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!r||typeof r!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||typeof s!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},lv=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},Jh=n=>n.webdriver||!n.languages||n.languages.length===0,Qh=()=>new Ks(451,"Unavailable For Headless Browser"),uv=(n,r)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof r!="string")throw"The BlockList watchVariable has to be a string"},cv=n=>{var r;return!((r=n.list)!=null&&r.length)||!n.watchVariable},dv=(n,r)=>n instanceof FormData?n.get(r):n[r],Yh=(n,r)=>{if(cv(n))return!1;uv(n.list,n.watchVariable);const s=dv(r,n.watchVariable);return typeof s!="string"?!1:n.list.includes(s)},Xh=()=>new Ks(403,"Forbidden"),hv=(n,r)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(r&&typeof r!="string")throw"The LimitRate ID has to be a non-empty string"},fv=async(n,r,s)=>{const o=Number(await s.get(n)||0);return r-Date.now()+o},Zh=async(n,r,s)=>{if(!r.throttle||!s)return!1;hv(r.throttle,r.id);const o=r.id||n;return await fv(o,r.throttle,s)>0?!0:(await s.set(o,Date.now().toString()),!1)},ef=()=>new Ks(429,"Too Many Requests"),pv=async(n,r,s,o)=>{const l=Kl(o),u=l.publicKey||rt.publicKey,h=l.blockHeadless||rt.blockHeadless,f=l.storageProvider||rt.storageProvider,p={...rt.blockList,...l.blockList},v={...rt.limitRate,...l.limitRate};return h&&Jh(navigator)?Promise.reject(Qh()):(Kh(u,n,r),lv(s),s&&Yh(p,s)?Promise.reject(Xh()):await Zh(location.pathname,v,f)?Promise.reject(ef()):Gh("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:u,service_id:n,template_id:r,template_params:s}),{"Content-type":"application/json"}))},mv=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},gv=n=>typeof n=="string"?document.querySelector(n):n,vv=async(n,r,s,o)=>{const l=Kl(o),u=l.publicKey||rt.publicKey,h=l.blockHeadless||rt.blockHeadless,f=rt.storageProvider||l.storageProvider,p={...rt.blockList,...l.blockList},v={...rt.limitRate,...l.limitRate};if(h&&Jh(navigator))return Promise.reject(Qh());const y=gv(s);Kh(u,n,r),mv(y);const k=new FormData(y);return Yh(p,k)?Promise.reject(Xh()):await Zh(location.pathname,v,f)?Promise.reject(ef()):(k.append("lib_version","4.4.1"),k.append("service_id",n),k.append("template_id",r),k.append("user_id",u),Gh("/api/v1.0/email/send-form",k))},tf={init:av,send:pv,sendForm:vv,EmailJSResponseStatus:Ks},yv=async n=>{const r="service_s4gdpxl",s="template_uoy0w25",o="6SXUusLmju_17SHSv";console.log(" Attempting to send booking email...",{serviceIdPresent:!0,templateIdPresent:!0,publicKeyPresent:!0});try{return await tf.send(r,s,{to_name:"Danielle",from_name:n.name,from_email:n.email||"No email provided",phone_number:n.phone,event_date:n.date,message:n.description,type:"Booking Request"},o)}catch(l){throw console.error("Failed to send email:",l),l}},wv=async n=>{const r="service_s4gdpxl",s="template_uoy0w25",o="6SXUusLmju_17SHSv";console.log(" Attempting to send contact email...",{serviceIdPresent:!0,templateIdPresent:!0,publicKeyPresent:!0});try{return await tf.send(r,s,{to_name:"Danielle",from_name:n.name,from_email:n.email,phone_number:n.phone||"No phone provided",message:n.message,type:"Contact Inquiry"},o)}catch(l){throw console.error("Failed to send email:",l),l}},or=n=>new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),_v=(n,r,s)=>{const o=new Date(r),l=new Date(s);return o.setHours(0,0,0,0),l.setHours(23,59,59,999),n>=o&&n<=l},kv=(n,r)=>{const s=new Date(r);return s.setHours(0,0,0,0),n<s},Sv=(n,r)=>{const s=new Date(r);return s.setHours(23,59,59,999),n>s},sh=n=>{const s=n.replace(/\D/g,"").slice(0,10);return s.length<=3?s:s.length<=6?`${s.slice(0,3)} ${s.slice(3)}`:`${s.slice(0,3)} ${s.slice(3,6)} ${s.slice(6)}`},Sl=n=>n.replace(/\s/g,""),ih=n=>n.replace(/\D/g,"").length===10,rr=n=>n.replace(/\.(jpg|jpeg|png|gif|webp)$/i,"").split("-").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" "),xv=()=>"/Madbatter",bv=()=>{const n=xv(),r=[];let s=1e3;return["baby-cake.jpg","baley-cake.jpg","black-panther-cake.jpg","blue-cake.jpg","blue-glitter-cake.jpg","buttercream-cake.jpg","car-cake.jpg","cricket-cake.jpg","death-by-chocolate-cake.jpg","denim-cake.jpg","dnd-cake.jpg","flower-cake.jpg","frozen-cake.jpg","hello-kitty-cake.jpg","mermaid-cake.jpg","mom-birthday-cake.jpg","pink-flower-cake.jpg","shiny-pink-cake.jpg","strawberry-cake.jpg","white-gold-sparkle-cake.jpg"].forEach(_=>{r.push({id:String(s++),category:"cakes",title:rr(_),description:"",imageUrl:`${n}/images/cakes/${_}`,fileName:_,uploadDate:new Date().toISOString()})}),["blue-green-white-purple-cupcakes.jpg","butterfly-cupcakes.jpg","cancer-awareness-cupcakes.jpg","cupcake-box.jpg","denim-cupcakes.jpg","elsa-cupcakes.jpg","flower-cupcakes.jpg","green-pink-cupcakes.jpg","green-white-blue-pink-cupcakes.jpg","mermaid-cupcakes.jpg","soft-colour-cupcakes.jpg","succulent-cupcakes.jpg","tools-cupcakes.jpg"].forEach(_=>{r.push({id:String(s++),category:"cupcakes",title:rr(_),description:"",imageUrl:`${n}/images/cupcakes/${_}`,fileName:_,uploadDate:new Date().toISOString()})}),["cakesicle-treats.jpg","cricket-cakesicles.jpg","dc-cakesicles.jpg","dinosaur-cakesicles.jpg","halloween-cakesicles.jpg","harry-potter-cakesicles.jpg","pink-cakesicles.jpg"].forEach(_=>{r.push({id:String(s++),category:"cakesicles",title:rr(_),description:"",imageUrl:`${n}/images/cakesicles/${_}`,fileName:_,uploadDate:new Date().toISOString()})}),["batman-cookies.jpg","choco-oreo-cookies.jpg","cinnamon-roll-cookies.jpg","easter-cookies.jpg","halloween-cookies-1.jpg","halloween-cookies.jpg","heart-cookies.jpg","xmas-cookies.jpg"].forEach(_=>{r.push({id:String(s++),category:"cookies",title:rr(_),description:"",imageUrl:`${n}/images/cookies/${_}`,fileName:_,uploadDate:new Date().toISOString()})}),["bento-blue.jpg","bento-pink.jpg"].forEach(_=>{r.push({id:String(s++),category:"bento",title:rr(_),description:"",imageUrl:`${n}/images/bento/${_}`,fileName:_,uploadDate:new Date().toISOString()})}),["16-treat-box.jpg","denim-treats.jpg","mix-cookies-box.jpg","pokemon-treats-1.jpg","star-wars-treats.jpg","treats-1.jpg","treats-2.jpg","treats-3.jpg","tyler-treat-box.jpg"].forEach(_=>{r.push({id:String(s++),category:"treatboxes",title:rr(_),description:"",imageUrl:`${n}/images/treat boxes/${_}`,fileName:_,uploadDate:new Date().toISOString()})}),["dessert-1.jpg","dessert-2.jpg","dessert-3.jpg","dessert-4.jpg","dessert-5.jpg","dessert-6.jpg","dessert.jpg"].forEach(_=>{r.push({id:String(s++),category:"desserts",title:rr(_),description:"",imageUrl:`${n}/images/desserts/${_}`,fileName:_,uploadDate:new Date().toISOString()})}),["grogu-choc-bomb.jpg","hazelnut-fudge-treats.jpg","marshmallow-fudge.jpg","peppermint-crisp-treats.jpg","treats-table-1.jpg","treats-table.jpg","turkish-delight-treats.jpg","unicorn-choco-bomb.jpg"].forEach(_=>{r.push({id:String(s++),category:"treats",title:rr(_),description:"",imageUrl:`${n}/images/treats/${_}`,fileName:_,uploadDate:new Date().toISOString()})}),["admond-cranberry-biscotti.jpg"].forEach(_=>{r.push({id:String(s++),category:"biscotti",title:rr(_),description:"",imageUrl:`${n}/images/biscotti/${_}`,fileName:_,uploadDate:new Date().toISOString()})}),r},rf=bv();function bo(n,r){var s={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&r.indexOf(o)<0&&(s[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)r.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(s[o[l]]=n[o[l]]);return s}function Ev(n,r,s,o){function l(u){return u instanceof s?u:new s(function(h){h(u)})}return new(s||(s=Promise))(function(u,h){function f(y){try{v(o.next(y))}catch(k){h(k)}}function p(y){try{v(o.throw(y))}catch(k){h(k)}}function v(y){y.done?u(y.value):l(y.value).then(f,p)}v((o=o.apply(n,r||[])).next())})}const jv=n=>n?(...r)=>n(...r):(...r)=>fetch(...r);class Jl extends Error{constructor(r,s="FunctionsError",o){super(r),this.name=s,this.context=o}}class Cv extends Jl{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class oh extends Jl{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class ah extends Jl{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Nl;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Nl||(Nl={}));class Tv{constructor(r,{headers:s={},customFetch:o,region:l=Nl.Any}={}){this.url=r,this.headers=s,this.region=l,this.fetch=jv(o)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return Ev(this,arguments,void 0,function*(s,o={}){var l;let u,h;try{const{headers:f,method:p,body:v,signal:y,timeout:k}=o;let _={},{region:b}=o;b||(b=this.region);const j=new URL(`${this.url}/${s}`);b&&b!=="any"&&(_["x-region"]=b,j.searchParams.set("forceFunctionRegion",b));let P;v&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",P=v):typeof v=="string"?(_["Content-Type"]="text/plain",P=v):typeof FormData<"u"&&v instanceof FormData?P=v:(_["Content-Type"]="application/json",P=JSON.stringify(v)):v&&typeof v!="string"&&!(typeof Blob<"u"&&v instanceof Blob)&&!(v instanceof ArrayBuffer)&&!(typeof FormData<"u"&&v instanceof FormData)?P=JSON.stringify(v):P=v;let T=y;k&&(h=new AbortController,u=setTimeout(()=>h.abort(),k),y?(T=h.signal,y.addEventListener("abort",()=>h.abort())):T=h.signal);const B=yield this.fetch(j.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),f),body:P,signal:T}).catch(de=>{throw new Cv(de)}),A=B.headers.get("x-relay-error");if(A&&A==="true")throw new oh(B);if(!B.ok)throw new ah(B);let D=((l=B.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),J;return D==="application/json"?J=yield B.json():D==="application/octet-stream"||D==="application/pdf"?J=yield B.blob():D==="text/event-stream"?J=B:D==="multipart/form-data"?J=yield B.formData():J=yield B.text(),{data:J,error:null,response:B}}catch(f){return{data:null,error:f,response:f instanceof ah||f instanceof oh?f.context:void 0}}finally{u&&clearTimeout(u)}})}}var Rv=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},Ov=class{constructor(n){var r,s,o;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(r=n.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=n.signal,this.isMaybeSingle=(s=n.isMaybeSingle)!==null&&s!==void 0?s:!1,this.urlLengthLimit=(o=n.urlLengthLimit)!==null&&o!==void 0?o:8e3,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,r){return this.headers=new Headers(this.headers),this.headers.set(n,r),this}then(n,r){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let h=null,f=null,p=null,v=u.status,y=u.statusText;if(u.ok){var k,_;if(s.method!=="HEAD"){var b;const B=await u.text();B===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((b=s.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?f=B:f=JSON.parse(B))}const P=(k=s.headers.get("Prefer"))===null||k===void 0?void 0:k.match(/count=(exact|planned|estimated)/),T=(_=u.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");P&&T&&T.length>1&&(p=parseInt(T[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(f)&&(f.length>1?(h={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,p=null,v=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var j;const P=await u.text();try{h=JSON.parse(P),Array.isArray(h)&&u.status===404&&(f=[],h=null,v=200,y="OK")}catch{u.status===404&&P===""?(v=204,y="No Content"):h={message:P}}if(h&&s.isMaybeSingle&&(!(h==null||(j=h.details)===null||j===void 0)&&j.includes("0 rows"))&&(h=null,v=200,y="OK"),h&&s.shouldThrowOnError)throw new Rv(h)}return{error:h,data:f,count:p,status:v,statusText:y}});return this.shouldThrowOnError||(l=l.catch(u=>{var h;let f="",p="",v="";const y=u==null?void 0:u.cause;if(y){var k,_,b,j;const B=(k=y==null?void 0:y.message)!==null&&k!==void 0?k:"",A=(_=y==null?void 0:y.code)!==null&&_!==void 0?_:"";f=`${(b=u==null?void 0:u.name)!==null&&b!==void 0?b:"FetchError"}: ${u==null?void 0:u.message}`,f+=`

Caused by: ${(j=y==null?void 0:y.name)!==null&&j!==void 0?j:"Error"}: ${B}`,A&&(f+=` (${A})`),y!=null&&y.stack&&(f+=`
${y.stack}`)}else{var P;f=(P=u==null?void 0:u.stack)!==null&&P!==void 0?P:""}const T=this.url.toString().length;return(u==null?void 0:u.name)==="AbortError"||(u==null?void 0:u.code)==="ABORT_ERR"?(v="",p="Request was aborted (timeout or manual cancellation)",T>this.urlLengthLimit&&(p+=`. Note: Your request URL is ${T} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((y==null?void 0:y.name)==="HeadersOverflowError"||(y==null?void 0:y.code)==="UND_ERR_HEADERS_OVERFLOW")&&(v="",p="HTTP headers exceeded server limits (typically 16KB)",T>this.urlLengthLimit&&(p+=`. Your request URL is ${T} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(h=u==null?void 0:u.name)!==null&&h!==void 0?h:"FetchError"}: ${u==null?void 0:u.message}`,details:f,hint:p,code:v},data:null,count:null,status:0,statusText:""}})),l.then(n,r)}returns(){return this}overrideTypes(){return this}},Pv=class extends Ov{select(n){let r=!1;const s=(n??"*").split("").map(o=>/\s/.test(o)&&!r?"":(o==='"'&&(r=!r),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:r=!0,nullsFirst:s,foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.order`:"order",h=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${h?`${h},`:""}${n}.${r?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${n}`),this}range(n,r,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(u,`${r-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:r=!1,settings:s=!1,buffers:o=!1,wal:l=!1,format:u="text"}={}){var h;const f=[n?"analyze":null,r?"verbose":null,s?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const lh=new RegExp("[,()]");var Dn=class extends Pv{eq(n,r){return this.url.searchParams.append(n,`eq.${r}`),this}neq(n,r){return this.url.searchParams.append(n,`neq.${r}`),this}gt(n,r){return this.url.searchParams.append(n,`gt.${r}`),this}gte(n,r){return this.url.searchParams.append(n,`gte.${r}`),this}lt(n,r){return this.url.searchParams.append(n,`lt.${r}`),this}lte(n,r){return this.url.searchParams.append(n,`lte.${r}`),this}like(n,r){return this.url.searchParams.append(n,`like.${r}`),this}likeAllOf(n,r){return this.url.searchParams.append(n,`like(all).{${r.join(",")}}`),this}likeAnyOf(n,r){return this.url.searchParams.append(n,`like(any).{${r.join(",")}}`),this}ilike(n,r){return this.url.searchParams.append(n,`ilike.${r}`),this}ilikeAllOf(n,r){return this.url.searchParams.append(n,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(n,r){return this.url.searchParams.append(n,`ilike(any).{${r.join(",")}}`),this}regexMatch(n,r){return this.url.searchParams.append(n,`match.${r}`),this}regexIMatch(n,r){return this.url.searchParams.append(n,`imatch.${r}`),this}is(n,r){return this.url.searchParams.append(n,`is.${r}`),this}isDistinct(n,r){return this.url.searchParams.append(n,`isdistinct.${r}`),this}in(n,r){const s=Array.from(new Set(r)).map(o=>typeof o=="string"&&lh.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(n,`in.(${s})`),this}notIn(n,r){const s=Array.from(new Set(r)).map(o=>typeof o=="string"&&lh.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(n,`not.in.(${s})`),this}contains(n,r){return typeof r=="string"?this.url.searchParams.append(n,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(n,`cs.{${r.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(r)}`),this}containedBy(n,r){return typeof r=="string"?this.url.searchParams.append(n,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(n,`cd.{${r.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(r)}`),this}rangeGt(n,r){return this.url.searchParams.append(n,`sr.${r}`),this}rangeGte(n,r){return this.url.searchParams.append(n,`nxl.${r}`),this}rangeLt(n,r){return this.url.searchParams.append(n,`sl.${r}`),this}rangeLte(n,r){return this.url.searchParams.append(n,`nxr.${r}`),this}rangeAdjacent(n,r){return this.url.searchParams.append(n,`adj.${r}`),this}overlaps(n,r){return typeof r=="string"?this.url.searchParams.append(n,`ov.${r}`):this.url.searchParams.append(n,`ov.{${r.join(",")}}`),this}textSearch(n,r,{config:s,type:o}={}){let l="";o==="plain"?l="pl":o==="phrase"?l="ph":o==="websearch"&&(l="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(n,`${l}fts${u}.${r}`),this}match(n){return Object.entries(n).forEach(([r,s])=>{this.url.searchParams.append(r,`eq.${s}`)}),this}not(n,r,s){return this.url.searchParams.append(n,`not.${r}.${s}`),this}or(n,{foreignTable:r,referencedTable:s=r}={}){const o=s?`${s}.or`:"or";return this.url.searchParams.append(o,`(${n})`),this}filter(n,r,s){return this.url.searchParams.append(n,`${r}.${s}`),this}},Nv=class{constructor(n,{headers:r={},schema:s,fetch:o,urlLengthLimit:l=8e3}){this.url=n,this.headers=new Headers(r),this.schema=s,this.fetch=o,this.urlLengthLimit=l}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,r){const{head:s=!1,count:o}=r??{},l=s?"HEAD":"GET";let u=!1;const h=(n??"*").split("").map(v=>/\s/.test(v)&&!u?"":(v==='"'&&(u=!u),v)).join(""),{url:f,headers:p}=this.cloneRequestState();return f.searchParams.set("select",h),o&&p.append("Prefer",`count=${o}`),new Dn({method:l,url:f,headers:p,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(n,{count:r,defaultToNull:s=!0}={}){var o;const l="POST",{url:u,headers:h}=this.cloneRequestState();if(r&&h.append("Prefer",`count=${r}`),s||h.append("Prefer","missing=default"),Array.isArray(n)){const f=n.reduce((p,v)=>p.concat(Object.keys(v)),[]);if(f.length>0){const p=[...new Set(f)].map(v=>`"${v}"`);u.searchParams.set("columns",p.join(","))}}return new Dn({method:l,url:u,headers:h,schema:this.schema,body:n,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(n,{onConflict:r,ignoreDuplicates:s=!1,count:o,defaultToNull:l=!0}={}){var u;const h="POST",{url:f,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),r!==void 0&&f.searchParams.set("on_conflict",r),o&&p.append("Prefer",`count=${o}`),l||p.append("Prefer","missing=default"),Array.isArray(n)){const v=n.reduce((y,k)=>y.concat(Object.keys(k)),[]);if(v.length>0){const y=[...new Set(v)].map(k=>`"${k}"`);f.searchParams.set("columns",y.join(","))}}return new Dn({method:h,url:f,headers:p,schema:this.schema,body:n,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}update(n,{count:r}={}){var s;const o="PATCH",{url:l,headers:u}=this.cloneRequestState();return r&&u.append("Prefer",`count=${r}`),new Dn({method:o,url:l,headers:u,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:n}={}){var r;const s="DELETE",{url:o,headers:l}=this.cloneRequestState();return n&&l.append("Prefer",`count=${n}`),new Dn({method:s,url:o,headers:l,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}};function Bs(n){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Bs(n)}function Iv(n,r){if(Bs(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var o=s.call(n,r);if(Bs(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function Av(n){var r=Iv(n,"string");return Bs(r)=="symbol"?r:r+""}function Lv(n,r,s){return(r=Av(r))in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s,n}function uh(n,r){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);r&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),s.push.apply(s,o)}return s}function co(n){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?uh(Object(s),!0).forEach(function(o){Lv(n,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):uh(Object(s)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(s,o))})}return n}var Dv=class nf{constructor(r,{headers:s={},schema:o,fetch:l,timeout:u,urlLengthLimit:h=8e3}={}){this.url=r,this.headers=new Headers(s),this.schemaName=o,this.urlLengthLimit=h;const f=l??globalThis.fetch;u!==void 0&&u>0?this.fetch=(p,v)=>{const y=new AbortController,k=setTimeout(()=>y.abort(),u),_=v==null?void 0:v.signal;if(_){if(_.aborted)return clearTimeout(k),f(p,v);const b=()=>{clearTimeout(k),y.abort()};return _.addEventListener("abort",b,{once:!0}),f(p,co(co({},v),{},{signal:y.signal})).finally(()=>{clearTimeout(k),_.removeEventListener("abort",b)})}return f(p,co(co({},v),{},{signal:y.signal})).finally(()=>clearTimeout(k))}:this.fetch=f}from(r){if(!r||typeof r!="string"||r.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Nv(new URL(`${this.url}/${r}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(r){return new nf(this.url,{headers:this.headers,schema:r,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(r,s={},{head:o=!1,get:l=!1,count:u}={}){var h;let f;const p=new URL(`${this.url}/rpc/${r}`);let v;const y=b=>b!==null&&typeof b=="object"&&(!Array.isArray(b)||b.some(y)),k=o&&Object.values(s).some(y);k?(f="POST",v=s):o||l?(f=o?"HEAD":"GET",Object.entries(s).filter(([b,j])=>j!==void 0).map(([b,j])=>[b,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([b,j])=>{p.searchParams.append(b,j)})):(f="POST",v=s);const _=new Headers(this.headers);return k?_.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&_.set("Prefer",`count=${u}`),new Dn({method:f,url:p,headers:_,schema:this.schemaName,body:v,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch,urlLengthLimit:this.urlLengthLimit})}};class $v{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const o=s.versions;if(o&&o.node){const l=o.node,u=parseInt(l.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let s=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(s+=`

Suggested solution: ${r.workaround}`),new Error(s)}static createWebSocket(r,s){const o=this.getWebSocketConstructor();return new o(r,s)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const Uv="2.95.3",Bv=`realtime-js/${Uv}`,Mv="1.0.0",sf="2.0.0",ch=sf,Il=1e4,zv=1e3,Fv=100;var Rr;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Rr||(Rr={}));var Ve;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Ve||(Ve={}));var Mt;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Mt||(Mt={}));var Al;(function(n){n.websocket="websocket"})(Al||(Al={}));var Zr;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Zr||(Zr={}));class Wv{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,s){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(r));let o=[r.join_ref,r.ref,r.topic,r.event,r.payload];return s(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(r){var s;return this._isArrayBuffer((s=r.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var s,o;const l=(o=(s=r.payload)===null||s===void 0?void 0:s.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(r){var s,o;const l=(o=(s=r.payload)===null||s===void 0?void 0:s.payload)!==null&&o!==void 0?o:{},h=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(r,s,o){var l,u;const h=r.topic,f=(l=r.ref)!==null&&l!==void 0?l:"",p=(u=r.join_ref)!==null&&u!==void 0?u:"",v=r.payload.event,y=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},k=Object.keys(y).length===0?"":JSON.stringify(y);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(k.length>255)throw new Error(`metadata length ${k.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+f.length+h.length+v.length+k.length,b=new ArrayBuffer(this.HEADER_LENGTH+_);let j=new DataView(b),P=0;j.setUint8(P++,this.KINDS.userBroadcastPush),j.setUint8(P++,p.length),j.setUint8(P++,f.length),j.setUint8(P++,h.length),j.setUint8(P++,v.length),j.setUint8(P++,k.length),j.setUint8(P++,s),Array.from(p,B=>j.setUint8(P++,B.charCodeAt(0))),Array.from(f,B=>j.setUint8(P++,B.charCodeAt(0))),Array.from(h,B=>j.setUint8(P++,B.charCodeAt(0))),Array.from(v,B=>j.setUint8(P++,B.charCodeAt(0))),Array.from(k,B=>j.setUint8(P++,B.charCodeAt(0)));var T=new Uint8Array(b.byteLength+o.byteLength);return T.set(new Uint8Array(b),0),T.set(new Uint8Array(o),b.byteLength),T.buffer}decode(r,s){if(this._isArrayBuffer(r)){let o=this._binaryDecode(r);return s(o)}if(typeof r=="string"){const o=JSON.parse(r),[l,u,h,f,p]=o;return s({join_ref:l,ref:u,topic:h,event:f,payload:p})}return s({})}_binaryDecode(r){const s=new DataView(r),o=s.getUint8(0),l=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(r,s,l)}}_decodeUserBroadcast(r,s,o){const l=s.getUint8(1),u=s.getUint8(2),h=s.getUint8(3),f=s.getUint8(4);let p=this.HEADER_LENGTH+4;const v=o.decode(r.slice(p,p+l));p=p+l;const y=o.decode(r.slice(p,p+u));p=p+u;const k=o.decode(r.slice(p,p+h));p=p+h;const _=r.slice(p,r.byteLength),b=f===this.JSON_ENCODING?JSON.parse(o.decode(_)):_,j={type:this.BROADCAST_EVENT,event:y,payload:b};return h>0&&(j.meta=JSON.parse(k)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(r){var s;return r instanceof ArrayBuffer||((s=r==null?void 0:r.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(r,s){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([o])=>s.includes(o)))}}class of{constructor(r,s){this.callback=r,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Te;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Te||(Te={}));const dh=(n,r,s={})=>{var o;const l=(o=s.skipTypes)!==null&&o!==void 0?o:[];return r?Object.keys(r).reduce((u,h)=>(u[h]=qv(h,n,r,l),u),{}):{}},qv=(n,r,s,o)=>{const l=r.find(f=>f.name===n),u=l==null?void 0:l.type,h=s[n];return u&&!o.includes(u)?af(u,h):Ll(h)},af=(n,r)=>{if(n.charAt(0)==="_"){const s=n.slice(1,n.length);return Kv(r,s)}switch(n){case Te.bool:return Vv(r);case Te.float4:case Te.float8:case Te.int2:case Te.int4:case Te.int8:case Te.numeric:case Te.oid:return Hv(r);case Te.json:case Te.jsonb:return Gv(r);case Te.timestamp:return Jv(r);case Te.abstime:case Te.date:case Te.daterange:case Te.int4range:case Te.int8range:case Te.money:case Te.reltime:case Te.text:case Te.time:case Te.timestamptz:case Te.timetz:case Te.tsrange:case Te.tstzrange:return Ll(r);default:return Ll(r)}},Ll=n=>n,Vv=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Hv=n=>{if(typeof n=="string"){const r=parseFloat(n);if(!Number.isNaN(r))return r}return n},Gv=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},Kv=(n,r)=>{if(typeof n!="string")return n;const s=n.length-1,o=n[s];if(n[0]==="{"&&o==="}"){let u;const h=n.slice(1,s);try{u=JSON.parse("["+h+"]")}catch{u=h?h.split(","):[]}return u.map(f=>af(r,f))}return n},Jv=n=>typeof n=="string"?n.replace(" ","T"):n,lf=n=>{const r=new URL(n);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class xl{constructor(r,s,o={},l=Il){this.channel=r,this.event=s,this.payload=o,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,s){var o;return this._hasReceived(r)&&s((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:r,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:s}){this.recHooks.filter(o=>o.status===r).forEach(o=>o.callback(s))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var hh;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(hh||(hh={}));class Ls{constructor(r,s){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},l=>{const{onJoin:u,onLeave:h,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ls.syncState(this.state,l,u,h),this.pendingDiffs.forEach(p=>{this.state=Ls.syncDiff(this.state,p,u,h)}),this.pendingDiffs=[],f()}),this.channel._on(o.diff,{},l=>{const{onJoin:u,onLeave:h,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Ls.syncDiff(this.state,l,u,h),f())}),this.onJoin((l,u,h)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:h})}),this.onLeave((l,u,h)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,s,o,l){const u=this.cloneDeep(r),h=this.transformState(s),f={},p={};return this.map(u,(v,y)=>{h[v]||(p[v]=y)}),this.map(h,(v,y)=>{const k=u[v];if(k){const _=y.map(T=>T.presence_ref),b=k.map(T=>T.presence_ref),j=y.filter(T=>b.indexOf(T.presence_ref)<0),P=k.filter(T=>_.indexOf(T.presence_ref)<0);j.length>0&&(f[v]=j),P.length>0&&(p[v]=P)}else f[v]=y}),this.syncDiff(u,{joins:f,leaves:p},o,l)}static syncDiff(r,s,o,l){const{joins:u,leaves:h}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return o||(o=()=>{}),l||(l=()=>{}),this.map(u,(f,p)=>{var v;const y=(v=r[f])!==null&&v!==void 0?v:[];if(r[f]=this.cloneDeep(p),y.length>0){const k=r[f].map(b=>b.presence_ref),_=y.filter(b=>k.indexOf(b.presence_ref)<0);r[f].unshift(..._)}o(f,y,p)}),this.map(h,(f,p)=>{let v=r[f];if(!v)return;const y=p.map(k=>k.presence_ref);v=v.filter(k=>y.indexOf(k.presence_ref)<0),r[f]=v,l(f,v,p),v.length===0&&delete r[f]}),r}static map(r,s){return Object.getOwnPropertyNames(r).map(o=>s(o,r[o]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((s,o)=>{const l=r[o];return"metas"in l?s[o]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):s[o]=l,s},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fh;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(fh||(fh={}));var Ds;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Ds||(Ds={}));var nr;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(nr||(nr={}));class Bn{constructor(r,s={config:{}},o){var l,u;if(this.topic=r,this.params=s,this.socket=o,this.bindings={},this.state=Ve.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new xl(this,Mt.join,this.params,this.timeout),this.rejoinTimer=new of(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ve.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ve.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mt.reply,{},(h,f)=>{this._trigger(this._replyEventName(f),h)}),this.presence=new Ls(this),this.broadcastEndpointURL=lf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,s=this.timeout){var o,l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Ve.closed){const{config:{broadcast:h,presence:f,private:p}}=this.params,v=(l=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(b=>b.filter))!==null&&l!==void 0?l:[],y=!!this.bindings[Ds.PRESENCE]&&this.bindings[Ds.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,k={},_={broadcast:h,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:v,private:p};this.socket.accessTokenValue&&(k.access_token=this.socket.accessTokenValue),this._onError(b=>r==null?void 0:r(nr.CHANNEL_ERROR,b)),this._onClose(()=>r==null?void 0:r(nr.CLOSED)),this.updateJoinPayload(Object.assign({config:_},k)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:b})=>{var j;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){r==null||r(nr.SUBSCRIBED);return}else{const P=this.bindings.postgres_changes,T=(j=P==null?void 0:P.length)!==null&&j!==void 0?j:0,B=[];for(let A=0;A<T;A++){const D=P[A],{filter:{event:J,schema:de,table:G,filter:ae}}=D,_e=b&&b[A];if(_e&&_e.event===J&&Bn.isFilterValueEqual(_e.schema,de)&&Bn.isFilterValueEqual(_e.table,G)&&Bn.isFilterValueEqual(_e.filter,ae))B.push(Object.assign(Object.assign({},D),{id:_e.id}));else{this.unsubscribe(),this.state=Ve.errored,r==null||r(nr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=B,r&&r(nr.SUBSCRIBED);return}}).receive("error",b=>{this.state=Ve.errored,r==null||r(nr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(nr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,s={}){return await this.send({type:"presence",event:"track",payload:r},s.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,s,o){return this.state===Ve.joined&&r===Ds.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(r,s,o)}async httpSend(r,s,o={}){var l;if(s==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:s,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(l=o.timeout)!==null&&l!==void 0?l:this.timeout);if(f.status===202)return{success:!0};let p=f.statusText;try{const v=await f.json();p=v.error||v.message||p}catch{}return Promise.reject(new Error(p))}async send(r,s={}){var o,l;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:h}=r,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:h,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);return await((l=v.body)===null||l===void 0?void 0:l.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var h,f,p;const v=this._push(r.type,r,s.timeout||this.timeout);r.type==="broadcast"&&!(!((p=(f=(h=this.params)===null||h===void 0?void 0:h.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),v.receive("ok",()=>u("ok")),v.receive("error",()=>u("error")),v.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Ve.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mt.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(l=>{o=new xl(this,Mt.leave,{},r),o.receive("ok",()=>{s(),l("ok")}).receive("timeout",()=>{s(),l("timed out")}).receive("error",()=>{l("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ve.closed,this.bindings={}}async _fetchWithTimeout(r,s,o){const l=new AbortController,u=setTimeout(()=>l.abort(),o),h=await this.socket.fetch(r,Object.assign(Object.assign({},s),{signal:l.signal}));return clearTimeout(u),h}_push(r,s,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new xl(this,r,s,o);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>Fv){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(r,s,o){return s}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,s,o){var l,u;const h=r.toLocaleLowerCase(),{close:f,error:p,leave:v,join:y}=Mt;if(o&&[f,p,v,y].indexOf(h)>=0&&o!==this._joinRef())return;let _=this._onMessage(h,s,o);if(s&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(b=>{var j,P,T;return((j=b.filter)===null||j===void 0?void 0:j.event)==="*"||((T=(P=b.filter)===null||P===void 0?void 0:P.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===h}).map(b=>b.callback(_,o)):(u=this.bindings[h])===null||u===void 0||u.filter(b=>{var j,P,T,B,A,D;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in b){const J=b.id,de=(j=b.filter)===null||j===void 0?void 0:j.event;return J&&((P=s.ids)===null||P===void 0?void 0:P.includes(J))&&(de==="*"||(de==null?void 0:de.toLocaleLowerCase())===((T=s.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const J=(A=(B=b==null?void 0:b.filter)===null||B===void 0?void 0:B.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return J==="*"||J===((D=s==null?void 0:s.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===h}).map(b=>{if(typeof _=="object"&&"ids"in _){const j=_.data,{schema:P,table:T,commit_timestamp:B,type:A,errors:D}=j;_=Object.assign(Object.assign({},{schema:P,table:T,commit_timestamp:B,eventType:A,new:{},old:{},errors:D}),this._getPayloadRecords(j))}b.callback(_,o)})}_isClosed(){return this.state===Ve.closed}_isJoined(){return this.state===Ve.joined}_isJoining(){return this.state===Ve.joining}_isLeaving(){return this.state===Ve.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,s,o){const l=r.toLocaleLowerCase(),u={type:l,filter:s,callback:o};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(r,s){const o=r.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===o&&Bn.isEqual(l.filter,s))})),this}static isEqual(r,s){if(Object.keys(r).length!==Object.keys(s).length)return!1;for(const o in r)if(r[o]!==s[o])return!1;return!0}static isFilterValueEqual(r,s){return(r??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Mt.close,{},r)}_onError(r){this._on(Mt.error,{},s=>r(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ve.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const s={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(s.new=dh(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(s.old=dh(r.columns,r.old_record)),s}}const bl=()=>{},ho={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Qv=[1e3,2e3,5e3,1e4],Yv=1e4,Xv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Zv{constructor(r,s){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Il,this.transport=null,this.heartbeatIntervalMs=ho.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bl,this.ref=0,this.reconnectTimer=null,this.vsn=ch,this.logger=bl,this.conn=null,this.sendBuffer=[],this.serializer=new Wv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=l=>l?(...u)=>l(...u):(...u)=>fetch(...u),!(!((o=s==null?void 0:s.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${r}/${Al.websocket}`,this.httpEndpoint=lf(r),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$v.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const s=r.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const s=await r.unsubscribe();return s==="ok"&&this._remove(r),this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const r=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,s,o){this.logger(r,s,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Rr.connecting:return Zr.Connecting;case Rr.open:return Zr.Open;case Rr.closing:return Zr.Closing;default:return Zr.Closed}}isConnected(){return this.connectionState()===Zr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,s={config:{}}){const o=`realtime:${r}`,l=this.getChannels().find(u=>u.topic===o);if(l)return l;{const u=new Bn(`realtime:${r}`,s,this);return this.channels.push(u),u}}push(r){const{topic:s,event:o,payload:l,ref:u}=r,h=()=>{this.encode(r,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${s} ${o} (${u})`,l),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(zv,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},ho.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let s=this.channels.find(o=>o.topic===r&&(o._isJoined()||o._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${r}"`),s.unsubscribe())}_remove(r){this.channels=this.channels.filter(s=>s.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const v=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",v)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:o,event:l,payload:u,ref:h}=s,f=h?`(${h})`:"",p=u.status||"";this.log("receive",`${p} ${o} ${l} ${f}`.trim(),u),this.channels.filter(v=>v._isMember(o)).forEach(v=>v._trigger(l,u,h)),this._triggerStateCallbacks("message",s)})}_clearTimer(r){var s;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r),this.conn.readyState===Rr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Rr.open||this.conn.readyState===Rr.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(r){var s;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r);try{this.heartbeatCallback("error")}catch(s){this.log("error","error in heartbeat callback",s)}}_triggerChanError(){this.channels.forEach(r=>r._trigger(Mt.error))}_appendParams(r,s){if(Object.keys(s).length===0)return r;const o=r.match(/\?/)?"&":"?",l=new URLSearchParams(s);return`${r}${o}${l}`}_workerObjectUrl(r){let s;if(r)s=r;else{const o=new Blob([Xv],{type:"application/javascript"});s=URL.createObjectURL(o)}return s}_setConnectionState(r,s=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(r=null){let s,o=!1;if(r)s=r,o=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),s=this.accessTokenValue}else s=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(l=>{const u={access_token:s,version:Bv};s&&l.updateJoinPayload(u),l.joinedOnce&&l._isJoined()&&l._push(Mt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${r}`,s)})}_triggerStateCallbacks(r,s){try{this.stateChangeCallbacks[r].forEach(o=>{try{o(s)}catch(l){this.log("error",`error in ${r} callback`,l)}})}catch(o){this.log("error",`error triggering ${r} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new of(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ho.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var s,o,l,u,h,f,p,v,y,k,_,b;switch(this.transport=(s=r==null?void 0:r.transport)!==null&&s!==void 0?s:null,this.timeout=(o=r==null?void 0:r.timeout)!==null&&o!==void 0?o:Il,this.heartbeatIntervalMs=(l=r==null?void 0:r.heartbeatIntervalMs)!==null&&l!==void 0?l:ho.HEARTBEAT_INTERVAL,this.worker=(u=r==null?void 0:r.worker)!==null&&u!==void 0?u:!1,this.accessToken=(h=r==null?void 0:r.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(f=r==null?void 0:r.heartbeatCallback)!==null&&f!==void 0?f:bl,this.vsn=(p=r==null?void 0:r.vsn)!==null&&p!==void 0?p:ch,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=r==null?void 0:r.reconnectAfterMs)!==null&&v!==void 0?v:(j=>Qv[j-1]||Yv),this.vsn){case Mv:this.encode=(y=r==null?void 0:r.encode)!==null&&y!==void 0?y:((j,P)=>P(JSON.stringify(j))),this.decode=(k=r==null?void 0:r.decode)!==null&&k!==void 0?k:((j,P)=>P(JSON.parse(j)));break;case sf:this.encode=(_=r==null?void 0:r.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(b=r==null?void 0:r.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}var Ms=class extends Error{constructor(n,r){var s;super(n),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&((s=r.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function ey(n,r,s){const o=new URL(r,n);if(s)for(const[l,u]of Object.entries(s))u!==void 0&&o.searchParams.set(l,u);return o.toString()}async function ty(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function ry(n){const r=n.fetchImpl??globalThis.fetch;return{async request({method:s,path:o,query:l,body:u,headers:h}){const f=ey(n.baseUrl,o,l),p=await ty(n.auth),v=await r(f,{method:s,headers:{...u?{"Content-Type":"application/json"}:{},...p,...h},body:u?JSON.stringify(u):void 0}),y=await v.text(),k=(v.headers.get("content-type")||"").includes("application/json"),_=k&&y?JSON.parse(y):y;if(!v.ok){const b=k?_:void 0,j=b==null?void 0:b.error;throw new Ms((j==null?void 0:j.message)??`Request failed with status ${v.status}`,{status:v.status,icebergType:j==null?void 0:j.type,icebergCode:j==null?void 0:j.code,details:b})}return{status:v.status,headers:v.headers,data:_}}}}function fo(n){return n.join("")}var ny=class{constructor(n,r=""){this.client=n,this.prefix=r}async listNamespaces(n){const r=n?{parent:fo(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(n,r){const s={namespace:n.namespace,properties:r==null?void 0:r.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${fo(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fo(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${fo(n.namespace)}`}),!0}catch(r){if(r instanceof Ms&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(n,r){try{return await this.createNamespace(n,r)}catch(s){if(s instanceof Ms&&s.status===409)return;throw s}}};function On(n){return n.join("")}var sy=class{constructor(n,r="",s){this.client=n,this.prefix=r,this.accessDelegation=s}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${On(n.namespace)}/tables`})).data.identifiers}async createTable(n,r){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${On(n.namespace)}/tables`,body:r,headers:s})).data.metadata}async updateTable(n,r){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${On(n.namespace)}/tables/${n.name}`,body:r});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(n,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${On(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String((r==null?void 0:r.purge)??!1)}})}async loadTable(n){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${On(n.namespace)}/tables/${n.name}`,headers:r})).data.metadata}async tableExists(n){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${On(n.namespace)}/tables/${n.name}`,headers:r}),!0}catch(s){if(s instanceof Ms&&s.status===404)return!1;throw s}}async createTableIfNotExists(n,r){try{return await this.createTable(n,r)}catch(s){if(s instanceof Ms&&s.status===409)return await this.loadTable({namespace:n.namespace,name:r.name});throw s}}},iy=class{constructor(n){var o;let r="v1";n.catalogName&&(r+=`/${n.catalogName}`);const s=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=ry({baseUrl:s,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=(o=n.accessDelegation)==null?void 0:o.join(","),this.namespaceOps=new ny(this.client,r),this.tableOps=new sy(this.client,r,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,r){return this.namespaceOps.createNamespace(n,r)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,r){return this.tableOps.createTable(n,r)}async updateTable(n,r){return this.tableOps.updateTable(n,r)}async dropTable(n,r){await this.tableOps.dropTable(n,r)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,r){return this.namespaceOps.createNamespaceIfNotExists(n,r)}async createTableIfNotExists(n,r){return this.tableOps.createTableIfNotExists(n,r)}},Eo=class extends Error{constructor(n,r="storage",s,o){super(n),this.__isStorageError=!0,this.namespace=r,this.name=r==="vectors"?"StorageVectorsError":"StorageError",this.status=s,this.statusCode=o}};function jo(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var po=class extends Eo{constructor(n,r,s,o="storage"){super(n,o,r,s),this.name=o==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},uf=class extends Eo{constructor(n,r,s="storage"){super(n,s),this.name=s==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=r}};const oy=n=>n?(...r)=>n(...r):(...r)=>fetch(...r),ay=n=>{if(typeof n!="object"||n===null)return!1;const r=Object.getPrototypeOf(n);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Dl=n=>{if(Array.isArray(n))return n.map(s=>Dl(s));if(typeof n=="function"||n!==Object(n))return n;const r={};return Object.entries(n).forEach(([s,o])=>{const l=s.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[l]=Dl(o)}),r},ly=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function zs(n){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zs(n)}function uy(n,r){if(zs(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var o=s.call(n,r);if(zs(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function cy(n){var r=uy(n,"string");return zs(r)=="symbol"?r:r+""}function dy(n,r,s){return(r=cy(r))in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s,n}function ph(n,r){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);r&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),s.push.apply(s,o)}return s}function se(n){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?ph(Object(s),!0).forEach(function(o){dy(n,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):ph(Object(s)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(s,o))})}return n}const mh=n=>{var r;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(r=n.error)===null||r===void 0?void 0:r.message)||JSON.stringify(n)},hy=async(n,r,s,o)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(s!=null&&s.noResolveJson)){const l=n,u=l.status||500;if(typeof l.json=="function")l.json().then(h=>{const f=(h==null?void 0:h.statusCode)||(h==null?void 0:h.code)||u+"";r(new po(mh(h),u,f,o))}).catch(()=>{if(o==="vectors"){const h=u+"";r(new po(l.statusText||`HTTP ${u} error`,u,h,o))}else{const h=u+"";r(new po(l.statusText||`HTTP ${u} error`,u,h,o))}});else{const h=u+"";r(new po(l.statusText||`HTTP ${u} error`,u,h,o))}}else r(new uf(mh(n),n,o))},fy=(n,r,s,o)=>{const l={method:n,headers:(r==null?void 0:r.headers)||{}};return n==="GET"||n==="HEAD"||!o?se(se({},l),s):(ay(o)?(l.headers=se({"Content-Type":"application/json"},r==null?void 0:r.headers),l.body=JSON.stringify(o)):l.body=o,r!=null&&r.duplex&&(l.duplex=r.duplex),se(se({},l),s))};async function Ns(n,r,s,o,l,u,h){return new Promise((f,p)=>{n(s,fy(r,o,l,u)).then(v=>{if(!v.ok)throw v;if(o!=null&&o.noResolveJson)return v;if(h==="vectors"){const y=v.headers.get("content-type");if(v.headers.get("content-length")==="0"||v.status===204)return{};if(!y||!y.includes("application/json"))return{}}return v.json()}).then(v=>f(v)).catch(v=>hy(v,p,o,h))})}function cf(n="storage"){return{get:async(r,s,o,l)=>Ns(r,"GET",s,o,l,void 0,n),post:async(r,s,o,l,u)=>Ns(r,"POST",s,l,u,o,n),put:async(r,s,o,l,u)=>Ns(r,"PUT",s,l,u,o,n),head:async(r,s,o,l)=>Ns(r,"HEAD",s,se(se({},o),{},{noResolveJson:!0}),l,void 0,n),remove:async(r,s,o,l,u)=>Ns(r,"DELETE",s,l,u,o,n)}}const py=cf("storage"),{get:Fs,post:Bt,put:$l,head:my,remove:Ql}=py,bt=cf("vectors");var Fn=class{constructor(n,r={},s,o="storage"){this.shouldThrowOnError=!1,this.url=n,this.headers=r,this.fetch=oy(s),this.namespace=o}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(n){var r=this;try{return{data:await n(),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(jo(s))return{data:null,error:s};throw s}}},gy=class{constructor(n,r){this.downloadFn=n,this.shouldThrowOnError=r}then(n,r){return this.execute().then(n,r)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(jo(r))return{data:null,error:r};throw r}}};let df;df=Symbol.toStringTag;var vy=class{constructor(n,r){this.downloadFn=n,this.shouldThrowOnError=r,this[df]="BlobDownloadBuilder",this.promise=null}asStream(){return new gy(this.downloadFn,this.shouldThrowOnError)}then(n,r){return this.getPromise().then(n,r)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(jo(r))return{data:null,error:r};throw r}}};const yy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var wy=class extends Fn{constructor(n,r={},s,o){super(n,r,o,"storage"),this.bucketId=s}async uploadOrUpdate(n,r,s,o){var l=this;return l.handleOperation(async()=>{let u;const h=se(se({},gh),o);let f=se(se({},l.headers),n==="POST"&&{"x-upsert":String(h.upsert)});const p=h.metadata;typeof Blob<"u"&&s instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),p&&u.append("metadata",l.encodeMetadata(p)),u.append("",s)):typeof FormData<"u"&&s instanceof FormData?(u=s,u.has("cacheControl")||u.append("cacheControl",h.cacheControl),p&&!u.has("metadata")&&u.append("metadata",l.encodeMetadata(p))):(u=s,f["cache-control"]=`max-age=${h.cacheControl}`,f["content-type"]=h.contentType,p&&(f["x-metadata"]=l.toBase64(l.encodeMetadata(p))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!h.duplex&&(h.duplex="half")),o!=null&&o.headers&&(f=se(se({},f),o.headers));const v=l._removeEmptyFolders(r),y=l._getFinalPath(v),k=await(n=="PUT"?$l:Bt)(l.fetch,`${l.url}/object/${y}`,u,se({headers:f},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{path:v,id:k.Id,fullPath:k.Key}})}async upload(n,r,s){return this.uploadOrUpdate("POST",n,r,s)}async uploadToSignedUrl(n,r,s,o){var l=this;const u=l._removeEmptyFolders(n),h=l._getFinalPath(u),f=new URL(l.url+`/object/upload/sign/${h}`);return f.searchParams.set("token",r),l.handleOperation(async()=>{let p;const v=se({upsert:gh.upsert},o),y=se(se({},l.headers),{"x-upsert":String(v.upsert)});return typeof Blob<"u"&&s instanceof Blob?(p=new FormData,p.append("cacheControl",v.cacheControl),p.append("",s)):typeof FormData<"u"&&s instanceof FormData?(p=s,p.append("cacheControl",v.cacheControl)):(p=s,y["cache-control"]=`max-age=${v.cacheControl}`,y["content-type"]=v.contentType),{path:u,fullPath:(await $l(l.fetch,f.toString(),p,{headers:y})).Key}})}async createSignedUploadUrl(n,r){var s=this;return s.handleOperation(async()=>{let o=s._getFinalPath(n);const l=se({},s.headers);r!=null&&r.upsert&&(l["x-upsert"]="true");const u=await Bt(s.fetch,`${s.url}/object/upload/sign/${o}`,{},{headers:l}),h=new URL(s.url+u.url),f=h.searchParams.get("token");if(!f)throw new Eo("No token returned by API");return{signedUrl:h.toString(),path:n,token:f}})}async update(n,r,s){return this.uploadOrUpdate("PUT",n,r,s)}async move(n,r,s){var o=this;return o.handleOperation(async()=>await Bt(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:n,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:o.headers}))}async copy(n,r,s){var o=this;return o.handleOperation(async()=>({path:(await Bt(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:n,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:o.headers})).Key}))}async createSignedUrl(n,r,s){var o=this;return o.handleOperation(async()=>{let l=o._getFinalPath(n),u=await Bt(o.fetch,`${o.url}/object/sign/${l}`,se({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:o.headers});const h=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{signedUrl:encodeURI(`${o.url}${u.signedURL}${h}`)}})}async createSignedUrls(n,r,s){var o=this;return o.handleOperation(async()=>{const l=await Bt(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:r,paths:n},{headers:o.headers}),u=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return l.map(h=>se(se({},h),{},{signedUrl:h.signedURL?encodeURI(`${o.url}${h.signedURL}${u}`):null}))})}download(n,r,s){const o=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),u=l?`?${l}`:"",h=this._getFinalPath(n),f=()=>Fs(this.fetch,`${this.url}/${o}/${h}${u}`,{headers:this.headers,noResolveJson:!0},s);return new vy(f,this.shouldThrowOnError)}async info(n){var r=this;const s=r._getFinalPath(n);return r.handleOperation(async()=>Dl(await Fs(r.fetch,`${r.url}/object/info/${s}`,{headers:r.headers})))}async exists(n){var r=this;const s=r._getFinalPath(n);try{return await my(r.fetch,`${r.url}/object/${s}`,{headers:r.headers}),{data:!0,error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(jo(o)&&o instanceof uf){const l=o.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:o}}throw o}}getPublicUrl(n,r){const s=this._getFinalPath(n),o=[],l=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&o.push(l);const u=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});h!==""&&o.push(h);let f=o.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${s}${f}`)}}}async remove(n){var r=this;return r.handleOperation(async()=>await Ql(r.fetch,`${r.url}/object/${r.bucketId}`,{prefixes:n},{headers:r.headers}))}async list(n,r,s){var o=this;return o.handleOperation(async()=>{const l=se(se(se({},yy),r),{},{prefix:n||""});return await Bt(o.fetch,`${o.url}/object/list/${o.bucketId}`,l,{headers:o.headers},s)})}async listV2(n,r){var s=this;return s.handleOperation(async()=>{const o=se({},n);return await Bt(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,o,{headers:s.headers},r)})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const r=[];return n.width&&r.push(`width=${n.width}`),n.height&&r.push(`height=${n.height}`),n.resize&&r.push(`resize=${n.resize}`),n.format&&r.push(`format=${n.format}`),n.quality&&r.push(`quality=${n.quality}`),r.join("&")}};const _y="2.95.3",Js={"X-Client-Info":`storage-js/${_y}`};var ky=class extends Fn{constructor(n,r={},s,o){const l=new URL(n);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase."));const u=l.href.replace(/\/$/,""),h=se(se({},Js),r);super(u,h,s,"storage")}async listBuckets(n){var r=this;return r.handleOperation(async()=>{const s=r.listBucketOptionsToQueryString(n);return await Fs(r.fetch,`${r.url}/bucket${s}`,{headers:r.headers})})}async getBucket(n){var r=this;return r.handleOperation(async()=>await Fs(r.fetch,`${r.url}/bucket/${n}`,{headers:r.headers}))}async createBucket(n,r={public:!1}){var s=this;return s.handleOperation(async()=>await Bt(s.fetch,`${s.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:s.headers}))}async updateBucket(n,r){var s=this;return s.handleOperation(async()=>await $l(s.fetch,`${s.url}/bucket/${n}`,{id:n,name:n,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:s.headers}))}async emptyBucket(n){var r=this;return r.handleOperation(async()=>await Bt(r.fetch,`${r.url}/bucket/${n}/empty`,{},{headers:r.headers}))}async deleteBucket(n){var r=this;return r.handleOperation(async()=>await Ql(r.fetch,`${r.url}/bucket/${n}`,{},{headers:r.headers}))}listBucketOptionsToQueryString(n){const r={};return n&&("limit"in n&&(r.limit=String(n.limit)),"offset"in n&&(r.offset=String(n.offset)),n.search&&(r.search=n.search),n.sortColumn&&(r.sortColumn=n.sortColumn),n.sortOrder&&(r.sortOrder=n.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}},Sy=class extends Fn{constructor(n,r={},s){const o=n.replace(/\/$/,""),l=se(se({},Js),r);super(o,l,s,"storage")}async createBucket(n){var r=this;return r.handleOperation(async()=>await Bt(r.fetch,`${r.url}/bucket`,{name:n},{headers:r.headers}))}async listBuckets(n){var r=this;return r.handleOperation(async()=>{const s=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&s.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&s.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&s.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&s.set("sortOrder",n.sortOrder),n!=null&&n.search&&s.set("search",n.search);const o=s.toString(),l=o?`${r.url}/bucket?${o}`:`${r.url}/bucket`;return await Fs(r.fetch,l,{headers:r.headers})})}async deleteBucket(n){var r=this;return r.handleOperation(async()=>await Ql(r.fetch,`${r.url}/bucket/${n}`,{},{headers:r.headers}))}from(n){var r=this;if(!ly(n))throw new Eo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new iy({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>r.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(s,{get(l,u){const h=l[u];return typeof h!="function"?h:async(...f)=>{try{return{data:await h.apply(l,f),error:null}}catch(p){if(o)throw p;return{data:null,error:p}}}}})}},xy=class extends Fn{constructor(n,r={},s){const o=n.replace(/\/$/,""),l=se(se({},Js),{},{"Content-Type":"application/json"},r);super(o,l,s,"vectors")}async createIndex(n){var r=this;return r.handleOperation(async()=>await bt.post(r.fetch,`${r.url}/CreateIndex`,n,{headers:r.headers})||{})}async getIndex(n,r){var s=this;return s.handleOperation(async()=>await bt.post(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:n,indexName:r},{headers:s.headers}))}async listIndexes(n){var r=this;return r.handleOperation(async()=>await bt.post(r.fetch,`${r.url}/ListIndexes`,n,{headers:r.headers}))}async deleteIndex(n,r){var s=this;return s.handleOperation(async()=>await bt.post(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:n,indexName:r},{headers:s.headers})||{})}},by=class extends Fn{constructor(n,r={},s){const o=n.replace(/\/$/,""),l=se(se({},Js),{},{"Content-Type":"application/json"},r);super(o,l,s,"vectors")}async putVectors(n){var r=this;if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return r.handleOperation(async()=>await bt.post(r.fetch,`${r.url}/PutVectors`,n,{headers:r.headers})||{})}async getVectors(n){var r=this;return r.handleOperation(async()=>await bt.post(r.fetch,`${r.url}/GetVectors`,n,{headers:r.headers}))}async listVectors(n){var r=this;if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return r.handleOperation(async()=>await bt.post(r.fetch,`${r.url}/ListVectors`,n,{headers:r.headers}))}async queryVectors(n){var r=this;return r.handleOperation(async()=>await bt.post(r.fetch,`${r.url}/QueryVectors`,n,{headers:r.headers}))}async deleteVectors(n){var r=this;if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return r.handleOperation(async()=>await bt.post(r.fetch,`${r.url}/DeleteVectors`,n,{headers:r.headers})||{})}},Ey=class extends Fn{constructor(n,r={},s){const o=n.replace(/\/$/,""),l=se(se({},Js),{},{"Content-Type":"application/json"},r);super(o,l,s,"vectors")}async createBucket(n){var r=this;return r.handleOperation(async()=>await bt.post(r.fetch,`${r.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:r.headers})||{})}async getBucket(n){var r=this;return r.handleOperation(async()=>await bt.post(r.fetch,`${r.url}/GetVectorBucket`,{vectorBucketName:n},{headers:r.headers}))}async listBuckets(n={}){var r=this;return r.handleOperation(async()=>await bt.post(r.fetch,`${r.url}/ListVectorBuckets`,n,{headers:r.headers}))}async deleteBucket(n){var r=this;return r.handleOperation(async()=>await bt.post(r.fetch,`${r.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:r.headers})||{})}},jy=class extends Ey{constructor(n,r={}){super(n,r.headers||{},r.fetch)}from(n){return new Cy(this.url,this.headers,n,this.fetch)}async createBucket(n){var r=()=>super.createBucket,s=this;return r().call(s,n)}async getBucket(n){var r=()=>super.getBucket,s=this;return r().call(s,n)}async listBuckets(n={}){var r=()=>super.listBuckets,s=this;return r().call(s,n)}async deleteBucket(n){var r=()=>super.deleteBucket,s=this;return r().call(s,n)}},Cy=class extends xy{constructor(n,r,s,o){super(n,r,o),this.vectorBucketName=s}async createIndex(n){var r=()=>super.createIndex,s=this;return r().call(s,se(se({},n),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(n={}){var r=()=>super.listIndexes,s=this;return r().call(s,se(se({},n),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(n){var r=()=>super.getIndex,s=this;return r().call(s,s.vectorBucketName,n)}async deleteIndex(n){var r=()=>super.deleteIndex,s=this;return r().call(s,s.vectorBucketName,n)}index(n){return new Ty(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},Ty=class extends by{constructor(n,r,s,o,l){super(n,r,l),this.vectorBucketName=s,this.indexName=o}async putVectors(n){var r=()=>super.putVectors,s=this;return r().call(s,se(se({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(n){var r=()=>super.getVectors,s=this;return r().call(s,se(se({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(n={}){var r=()=>super.listVectors,s=this;return r().call(s,se(se({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(n){var r=()=>super.queryVectors,s=this;return r().call(s,se(se({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(n){var r=()=>super.deleteVectors,s=this;return r().call(s,se(se({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},Ry=class extends ky{constructor(n,r={},s,o){super(n,r,s,o)}from(n){return new wy(this.url,this.headers,n,this.fetch)}get vectors(){return new jy(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Sy(this.url+"/iceberg",this.headers,this.fetch)}};const hf="2.95.3",$n=30*1e3,Ul=3,El=Ul*$n,Oy="http://localhost:9999",Py="supabase.auth.token",Ny={"X-Client-Info":`gotrue-js/${hf}`},Bl="X-Supabase-Api-Version",ff={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Iy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ay=600*1e3;class Ws extends Error{constructor(r,s,o){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=o}}function ee(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class Ly extends Ws{constructor(r,s,o){super(r,s,o),this.name="AuthApiError",this.status=s,this.code=o}}function Dy(n){return ee(n)&&n.name==="AuthApiError"}class en extends Ws{constructor(r,s){super(r),this.name="AuthUnknownError",this.originalError=s}}class ar extends Ws{constructor(r,s,o,l){super(r,o,l),this.name=s,this.status=o}}class xt extends ar{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jl(n){return ee(n)&&n.name==="AuthSessionMissingError"}class Pn extends ar{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class mo extends ar{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class go extends ar{constructor(r,s=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $y(n){return ee(n)&&n.name==="AuthImplicitGrantRedirectError"}class vh extends ar{constructor(r,s=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Uy extends ar{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ml extends ar{constructor(r,s){super(r,"AuthRetryableFetchError",s,void 0)}}function Cl(n){return ee(n)&&n.name==="AuthRetryableFetchError"}class yh extends ar{constructor(r,s,o){super(r,"AuthWeakPasswordError",s,"weak_password"),this.reasons=o}}class zl extends ar{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const _o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wh=` 	
\r=`.split(""),By=(()=>{const n=new Array(128);for(let r=0;r<n.length;r+=1)n[r]=-1;for(let r=0;r<wh.length;r+=1)n[wh[r].charCodeAt(0)]=-2;for(let r=0;r<_o.length;r+=1)n[_o[r].charCodeAt(0)]=r;return n})();function _h(n,r,s){if(n!==null)for(r.queue=r.queue<<8|n,r.queuedBits+=8;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;s(_o[o]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;s(_o[o]),r.queuedBits-=6}}function pf(n,r,s){const o=By[n];if(o>-1)for(r.queue=r.queue<<6|o,r.queuedBits+=6;r.queuedBits>=8;)s(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function kh(n){const r=[],s=h=>{r.push(String.fromCodePoint(h))},o={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=h=>{Fy(h,o,s)};for(let h=0;h<n.length;h+=1)pf(n.charCodeAt(h),l,u);return r.join("")}function My(n,r){if(n<=127){r(n);return}else if(n<=2047){r(192|n>>6),r(128|n&63);return}else if(n<=65535){r(224|n>>12),r(128|n>>6&63),r(128|n&63);return}else if(n<=1114111){r(240|n>>18),r(128|n>>12&63),r(128|n>>6&63),r(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function zy(n,r){for(let s=0;s<n.length;s+=1){let o=n.charCodeAt(s);if(o>55295&&o<=56319){const l=(o-55296)*1024&65535;o=(n.charCodeAt(s+1)-56320&65535|l)+65536,s+=1}My(o,r)}}function Fy(n,r,s){if(r.utf8seq===0){if(n<=127){s(n);return}for(let o=1;o<6;o+=1)if((n>>7-o&1)===0){r.utf8seq=o;break}if(r.utf8seq===2)r.codepoint=n&31;else if(r.utf8seq===3)r.codepoint=n&15;else if(r.utf8seq===4)r.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|n&63,r.utf8seq-=1,r.utf8seq===0&&s(r.codepoint)}}function Mn(n){const r=[],s={queue:0,queuedBits:0},o=l=>{r.push(l)};for(let l=0;l<n.length;l+=1)pf(n.charCodeAt(l),s,o);return new Uint8Array(r)}function Wy(n){const r=[];return zy(n,s=>r.push(s)),new Uint8Array(r)}function tn(n){const r=[],s={queue:0,queuedBits:0},o=l=>{r.push(l)};return n.forEach(l=>_h(l,s,o)),_h(null,s,o),r.join("")}function qy(n){return Math.round(Date.now()/1e3)+n}function Vy(){return Symbol("auth-callback")}const tt=()=>typeof window<"u"&&typeof document<"u",Qr={tested:!1,writable:!1},mf=()=>{if(!tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qr.tested)return Qr.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Qr.tested=!0,Qr.writable=!0}catch{Qr.tested=!0,Qr.writable=!1}return Qr.writable};function Hy(n){const r={},s=new URL(n);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((l,u)=>{r[u]=l})}catch{}return s.searchParams.forEach((o,l)=>{r[l]=o}),r}const gf=n=>n?(...r)=>n(...r):(...r)=>fetch(...r),Gy=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Un=async(n,r,s)=>{await n.setItem(r,JSON.stringify(s))},Yr=async(n,r)=>{const s=await n.getItem(r);if(!s)return null;try{return JSON.parse(s)}catch{return s}},et=async(n,r)=>{await n.removeItem(r)};class Co{constructor(){this.promise=new Co.promiseConstructor((r,s)=>{this.resolve=r,this.reject=s})}}Co.promiseConstructor=Promise;function vo(n){const r=n.split(".");if(r.length!==3)throw new zl("Invalid JWT structure");for(let o=0;o<r.length;o++)if(!Iy.test(r[o]))throw new zl("JWT not in base64url format");return{header:JSON.parse(kh(r[0])),payload:JSON.parse(kh(r[1])),signature:Mn(r[2]),raw:{header:r[0],payload:r[1]}}}async function Ky(n){return await new Promise(r=>{setTimeout(()=>r(null),n)})}function Jy(n,r){return new Promise((o,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const h=await n(u);if(!r(u,null,h)){o(h);return}}catch(h){if(!r(u,h)){l(h);return}}})()})}function Qy(n){return("0"+n.toString(16)).substr(-2)}function Yy(){const r=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=s.length;let l="";for(let u=0;u<56;u++)l+=s.charAt(Math.floor(Math.random()*o));return l}return crypto.getRandomValues(r),Array.from(r,Qy).join("")}async function Xy(n){const s=new TextEncoder().encode(n),o=await crypto.subtle.digest("SHA-256",s),l=new Uint8Array(o);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function Zy(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const s=await Xy(n);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Nn(n,r,s=!1){const o=Yy();let l=o;s&&(l+="/PASSWORD_RECOVERY"),await Un(n,`${r}-code-verifier`,l);const u=await Zy(o);return[u,o===u?"plain":"s256"]}const ew=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function tw(n){const r=n.headers.get(Bl);if(!r||!r.match(ew))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function rw(n){if(!n)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(n<=r)throw new Error("JWT has expired")}function nw(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const sw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function In(n){if(!sw.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Tl(){const n={};return new Proxy(n,{get:(r,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function iw(n,r){return new Proxy(n,{get:(s,o,l)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const u=o.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,o,l)}return!r.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(s,o,l)}})}function Sh(n){return JSON.parse(JSON.stringify(n))}const Xr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),ow=[502,503,504];async function xh(n){var r;if(!Gy(n))throw new Ml(Xr(n),0);if(ow.includes(n.status))throw new Ml(Xr(n),n.status);let s;try{s=await n.json()}catch(u){throw new en(Xr(u),u)}let o;const l=tw(n);if(l&&l.getTime()>=ff["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?o=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(o=s.error_code),o){if(o==="weak_password")throw new yh(Xr(s),n.status,((r=s.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(o==="session_not_found")throw new xt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((u,h)=>u&&typeof h=="string",!0))throw new yh(Xr(s),n.status,s.weak_password.reasons);throw new Ly(Xr(s),n.status||500,o)}const aw=(n,r,s,o)=>{const l={method:n,headers:(r==null?void 0:r.headers)||{}};return n==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),l.body=JSON.stringify(o),Object.assign(Object.assign({},l),s))};async function ne(n,r,s,o){var l;const u=Object.assign({},o==null?void 0:o.headers);u[Bl]||(u[Bl]=ff["2024-01-01"].name),o!=null&&o.jwt&&(u.Authorization=`Bearer ${o.jwt}`);const h=(l=o==null?void 0:o.query)!==null&&l!==void 0?l:{};o!=null&&o.redirectTo&&(h.redirect_to=o.redirectTo);const f=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",p=await lw(n,r,s+f,{headers:u,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(p):{data:Object.assign({},p),error:null}}async function lw(n,r,s,o,l,u){const h=aw(r,o,l,u);let f;try{f=await n(s,Object.assign({},h))}catch(p){throw console.error(p),new Ml(Xr(p),0)}if(f.ok||await xh(f),o!=null&&o.noResolveJson)return f;try{return await f.json()}catch(p){await xh(p)}}function Ut(n){var r;let s=null;dw(n)&&(s=Object.assign({},n),n.expires_at||(s.expires_at=qy(n.expires_in)));const o=(r=n.user)!==null&&r!==void 0?r:n;return{data:{session:s,user:o},error:null}}function bh(n){const r=Ut(n);return!r.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0)&&(r.data.weak_password=n.weak_password),r}function Or(n){var r;return{data:{user:(r=n.user)!==null&&r!==void 0?r:n},error:null}}function uw(n){return{data:n,error:null}}function cw(n){const{action_link:r,email_otp:s,hashed_token:o,redirect_to:l,verification_type:u}=n,h=bo(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:r,email_otp:s,hashed_token:o,redirect_to:l,verification_type:u},p=Object.assign({},h);return{data:{properties:f,user:p},error:null}}function Eh(n){return n}function dw(n){return n.access_token&&n.refresh_token&&n.expires_in}const Rl=["global","local","others"];class hw{constructor({url:r="",headers:s={},fetch:o}){this.url=r,this.headers=s,this.fetch=gf(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,s=Rl[0]){if(Rl.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rl.join(", ")}`);try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(ee(o))return{data:null,error:o};throw o}}async inviteUserByEmail(r,s={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Or})}catch(o){if(ee(o))return{data:{user:null},error:o};throw o}}async generateLink(r){try{const{options:s}=r,o=bo(r,["options"]),l=Object.assign(Object.assign({},o),s);return"newEmail"in o&&(l.new_email=o==null?void 0:o.newEmail,delete l.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:cw,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(ee(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(r){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Or})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async listUsers(r){var s,o,l,u,h,f,p;try{const v={nextPage:null,lastPage:0,total:0},y=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=r==null?void 0:r.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(u=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:Eh});if(y.error)throw y.error;const k=await y.json(),_=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,b=(p=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return b.length>0&&(b.forEach(j=>{const P=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(j.split(";")[1].split("=")[1]);v[`${T}Page`]=P}),v.total=parseInt(_)),{data:Object.assign(Object.assign({},k),v),error:null}}catch(v){if(ee(v))return{data:{users:[]},error:v};throw v}}async getUserById(r){In(r);try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Or})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async updateUserById(r,s){In(r);try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:s,headers:this.headers,xform:Or})}catch(o){if(ee(o))return{data:{user:null},error:o};throw o}}async deleteUser(r,s=!1){In(r);try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:s},xform:Or})}catch(o){if(ee(o))return{data:{user:null},error:o};throw o}}async _listFactors(r){In(r.userId);try{const{data:s,error:o}=await ne(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:s,error:o}}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _deleteFactor(r){In(r.userId),In(r.id);try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _listOAuthClients(r){var s,o,l,u,h,f,p;try{const v={nextPage:null,lastPage:0,total:0},y=await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=r==null?void 0:r.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(u=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:Eh});if(y.error)throw y.error;const k=await y.json(),_=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,b=(p=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return b.length>0&&(b.forEach(j=>{const P=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(j.split(";")[1].split("=")[1]);v[`${T}Page`]=P}),v.total=parseInt(_)),{data:Object.assign(Object.assign({},k),v),error:null}}catch(v){if(ee(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(r){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _getOAuthClient(r){try{return await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _updateOAuthClient(r,s){try{return await ne(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:s,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(ee(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(r){try{return await ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(r){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ee(s))return{data:null,error:s};throw s}}}function jh(n={}){return{getItem:r=>n[r]||null,setItem:(r,s)=>{n[r]=s},removeItem:r=>{delete n[r]}}}const An={debug:!!(globalThis&&mf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class vf extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class fw extends vf{}async function pw(n,r,s){An.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,r);const o=new globalThis.AbortController;return r>0&&setTimeout(()=>{o.abort(),An.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async l=>{if(l){An.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,l.name);try{return await s()}finally{An.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,l.name)}}else{if(r===0)throw An.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new fw(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(An.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function mw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function yf(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function gw(n){return parseInt(n,16)}function vw(n){const r=new TextEncoder().encode(n);return"0x"+Array.from(r,o=>o.toString(16).padStart(2,"0")).join("")}function yw(n){var r;const{chainId:s,domain:o,expirationTime:l,issuedAt:u=new Date,nonce:h,notBefore:f,requestId:p,resources:v,scheme:y,uri:k,version:_}=n;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!k)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((r=n.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const b=yf(n.address),j=y?`${y}://${o}`:o,P=n.statement?`${n.statement}
`:"",T=`${j} wants you to sign in with your Ethereum account:
${b}

${P}`;let B=`URI: ${k}
Version: ${_}
Chain ID: ${s}${h?`
Nonce: ${h}`:""}
Issued At: ${u.toISOString()}`;if(l&&(B+=`
Expiration Time: ${l.toISOString()}`),f&&(B+=`
Not Before: ${f.toISOString()}`),p&&(B+=`
Request ID: ${p}`),v){let A=`
Resources:`;for(const D of v){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);A+=`
- ${D}`}B+=A}return`${T}
${B}`}class ze extends Error{constructor({message:r,code:s,cause:o,name:l}){var u;super(r,{cause:o}),this.__isWebAuthnError=!0,this.name=(u=l??(o instanceof Error?o.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=s}}class ko extends ze{constructor(r,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:r}),this.name="WebAuthnUnknownError",this.originalError=s}}function ww({error:n,options:r}){var s,o,l;const{publicKey:u}=r;if(!u)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(r.signal instanceof AbortSignal)return new ze({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((s=u.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new ze({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(r.mediation==="conditional"&&((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ze({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new ze({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new ze({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new ze({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return u.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new ze({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new ze({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const h=window.location.hostname;if(wf(h)){if(u.rp.id!==h)return new ze({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new ze({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new ze({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function _w({error:n,options:r}){const{publicKey:s}=r;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(r.signal instanceof AbortSignal)return new ze({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new ze({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const o=window.location.hostname;if(wf(o)){if(s.rpId!==o)return new ze({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new ze({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class kw{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const Sw=new kw;function xw(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:r,user:s,excludeCredentials:o}=n,l=bo(n,["challenge","user","excludeCredentials"]),u=Mn(r).buffer,h=Object.assign(Object.assign({},s),{id:Mn(s.id).buffer}),f=Object.assign(Object.assign({},l),{challenge:u,user:h});if(o&&o.length>0){f.excludeCredentials=new Array(o.length);for(let p=0;p<o.length;p++){const v=o[p];f.excludeCredentials[p]=Object.assign(Object.assign({},v),{id:Mn(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return f}function bw(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:r,allowCredentials:s}=n,o=bo(n,["challenge","allowCredentials"]),l=Mn(r).buffer,u=Object.assign(Object.assign({},o),{challenge:l});if(s&&s.length>0){u.allowCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const f=s[h];u.allowCredentials[h]=Object.assign(Object.assign({},f),{id:Mn(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function Ew(n){var r;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n;return{id:n.id,rawId:n.id,response:{attestationObject:tn(new Uint8Array(n.response.attestationObject)),clientDataJSON:tn(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(r=s.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function jw(n){var r;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n,o=n.getClientExtensionResults(),l=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:tn(new Uint8Array(l.authenticatorData)),clientDataJSON:tn(new Uint8Array(l.clientDataJSON)),signature:tn(new Uint8Array(l.signature)),userHandle:l.userHandle?tn(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(r=s.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function wf(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Ch(){var n,r;return!!(tt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function Cw(n){try{const r=await navigator.credentials.create(n);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new ko("Browser returned unexpected credential type",r)}:{data:null,error:new ko("Empty credential response",r)}}catch(r){return{data:null,error:ww({error:r,options:n})}}}async function Tw(n){try{const r=await navigator.credentials.get(n);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new ko("Browser returned unexpected credential type",r)}:{data:null,error:new ko("Empty credential response",r)}}catch(r){return{data:null,error:_w({error:r,options:n})}}}const Rw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Ow={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function So(...n){const r=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),s=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),o={};for(const l of n)if(l)for(const u in l){const h=l[u];if(h!==void 0)if(Array.isArray(h))o[u]=h;else if(s(h))o[u]=h;else if(r(h)){const f=o[u];r(f)?o[u]=So(f,h):o[u]=So(h)}else o[u]=h}return o}function Pw(n,r){return So(Rw,n,r||{})}function Nw(n,r){return So(Ow,n,r||{})}class Iw{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:s,friendlyName:o,signal:l},u){var h;try{const{data:f,error:p}=await this.client.mfa.challenge({factorId:r,webauthn:s});if(!f)return{data:null,error:p};const v=l??Sw.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:y}=f.webauthn.credential_options.publicKey;if(!y.name){const k=o;if(k)y.name=`${y.id}:${k}`;else{const b=(await this.client.getUser()).data.user,j=((h=b==null?void 0:b.user_metadata)===null||h===void 0?void 0:h.name)||(b==null?void 0:b.email)||(b==null?void 0:b.id)||"User";y.name=`${y.id}:${j}`}}y.displayName||(y.displayName=y.name)}switch(f.webauthn.type){case"create":{const y=Pw(f.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:k,error:_}=await Cw({publicKey:y,signal:v});return k?{data:{factorId:r,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:k}},error:null}:{data:null,error:_}}case"request":{const y=Nw(f.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:k,error:_}=await Tw(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:y,signal:v}));return k?{data:{factorId:r,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:k}},error:null}:{data:null,error:_}}}}catch(f){return ee(f)?{data:null,error:f}:{data:null,error:new en("Unexpected error in challenge",f)}}}async _verify({challengeId:r,factorId:s,webauthn:o}){return this.client.mfa.verify({factorId:s,challengeId:r,webauthn:o})}async _authenticate({factorId:r,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!s)return{data:null,error:new Ws("rpId is required for WebAuthn authentication")};try{if(!Ch())return{data:null,error:new en("Browser does not support WebAuthn",null)};const{data:h,error:f}=await this.challenge({factorId:r,webauthn:{rpId:s,rpOrigins:o},signal:l},{request:u});if(!h)return{data:null,error:f};const{webauthn:p}=h;return this._verify({factorId:r,challengeId:h.challengeId,webauthn:{type:p.type,rpId:s,rpOrigins:o,credential_response:p.credential_response}})}catch(h){return ee(h)?{data:null,error:h}:{data:null,error:new en("Unexpected error in authenticate",h)}}}async _register({friendlyName:r,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!s)return{data:null,error:new Ws("rpId is required for WebAuthn registration")};try{if(!Ch())return{data:null,error:new en("Browser does not support WebAuthn",null)};const{data:h,error:f}=await this._enroll({friendlyName:r});if(!h)return await this.client.mfa.listFactors().then(y=>{var k;return(k=y.data)===null||k===void 0?void 0:k.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===r&&_.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:f};const{data:p,error:v}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:s,rpOrigins:o},signal:l},{create:u});return p?this._verify({factorId:h.id,challengeId:p.challengeId,webauthn:{rpId:s,rpOrigins:o,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:v}}catch(h){return ee(h)?{data:null,error:h}:{data:null,error:new en("Unexpected error in register",h)}}}}mw();const Aw={url:Oy,storageKey:Py,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ny,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Th(n,r,s){return await s()}const Ln={};class qs{get jwks(){var r,s;return(s=(r=Ln[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(r){Ln[this.storageKey]=Object.assign(Object.assign({},Ln[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,s;return(s=(r=Ln[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){Ln[this.storageKey]=Object.assign(Object.assign({},Ln[this.storageKey]),{cachedAt:r})}constructor(r){var s,o,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},Aw),r);if(this.storageKey=u.storageKey,this.instanceID=(s=qs.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,qs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&tt()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new hw({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=gf(u.fetch),this.lock=u.lock||Th,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&tt()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=pw:this.lock=Th,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Iw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:mf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=jh(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=jh(this.memoryStorage)),tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h);try{await this._notifyAllSubscribers(h.data.event,h.data.session,!1)}catch(f){this._debug("#broadcastChannel","error",f)}})}this.initialize().catch(h=>{this._debug("#initialize()","error",h)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${hf}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let s={},o="none";if(tt()&&(s=Hy(window.location.href),this._isImplicitGrantCallback(s)?o="implicit":await this._isPKCECallback(s)&&(o="pkce")),tt()&&this.detectSessionInUrl&&o!=="none"){const{data:l,error:u}=await this._getSessionFromURL(s,o);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),$y(u)){const p=(r=u.details)===null||r===void 0?void 0:r.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:h,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",h,"redirect type",f),await this._saveSession(h),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ee(s)?this._returnResult({error:s}):this._returnResult({error:new en("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var s,o,l;try{const u=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(s=r==null?void 0:r.options)===null||s===void 0?void 0:s.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(l=r==null?void 0:r.options)===null||l===void 0?void 0:l.captchaToken}},xform:Ut}),{data:h,error:f}=u;if(f||!h)return this._returnResult({data:{user:null,session:null},error:f});const p=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:v,session:p},error:null})}catch(u){if(ee(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(r){var s,o,l;try{let u;if("email"in r){const{email:y,password:k,options:_}=r;let b=null,j=null;this.flowType==="pkce"&&([b,j]=await Nn(this.storage,this.storageKey)),u=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:y,password:k,data:(s=_==null?void 0:_.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:b,code_challenge_method:j},xform:Ut})}else if("phone"in r){const{phone:y,password:k,options:_}=r;u=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:k,data:(o=_==null?void 0:_.data)!==null&&o!==void 0?o:{},channel:(l=_==null?void 0:_.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:Ut})}else throw new mo("You must provide either an email or phone number and a password");const{data:h,error:f}=u;if(f||!h)return await et(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const p=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:v,session:p},error:null})}catch(u){if(await et(this.storage,`${this.storageKey}-code-verifier`),ee(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(r){try{let s;if("email"in r){const{email:u,password:h,options:f}=r;s=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:h,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:bh})}else if("phone"in r){const{phone:u,password:h,options:f}=r;s=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:h,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:bh})}else throw new mo("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o||!o.session||!o.user){const u=new Pn;return this._returnResult({data:{user:null,session:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:l})}catch(s){if(ee(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(r){var s,o,l,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(s=r.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=r.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=r.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:s}=r;switch(s){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(r){var s,o,l,u,h,f,p,v,y,k,_;let b,j;if("message"in r)b=r.message,j=r.signature;else{const{chain:P,wallet:T,statement:B,options:A}=r;let D;if(tt())if(typeof T=="object")D=T;else{const Ee=window;if("ethereum"in Ee&&typeof Ee.ethereum=="object"&&"request"in Ee.ethereum&&typeof Ee.ethereum.request=="function")D=Ee.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=T}const J=new URL((s=A==null?void 0:A.url)!==null&&s!==void 0?s:window.location.href),de=await D.request({method:"eth_requestAccounts"}).then(Ee=>Ee).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!de||de.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const G=yf(de[0]);let ae=(o=A==null?void 0:A.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!ae){const Ee=await D.request({method:"eth_chainId"});ae=gw(Ee)}const _e={domain:J.host,address:G,statement:B,uri:J.href,version:"1",chainId:ae,nonce:(l=A==null?void 0:A.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(h=(u=A==null?void 0:A.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(f=A==null?void 0:A.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=A==null?void 0:A.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(v=A==null?void 0:A.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(y=A==null?void 0:A.signInWithEthereum)===null||y===void 0?void 0:y.resources};b=yw(_e),j=await D.request({method:"personal_sign",params:[vw(b),G]})}try{const{data:P,error:T}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:j},!((k=r.options)===null||k===void 0)&&k.captchaToken?{gotrue_meta_security:{captcha_token:(_=r.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Ut});if(T)throw T;if(!P||!P.session||!P.user){const B=new Pn;return this._returnResult({data:{user:null,session:null},error:B})}return P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),this._returnResult({data:Object.assign({},P),error:T})}catch(P){if(ee(P))return this._returnResult({data:{user:null,session:null},error:P});throw P}}async signInWithSolana(r){var s,o,l,u,h,f,p,v,y,k,_,b;let j,P;if("message"in r)j=r.message,P=r.signature;else{const{chain:T,wallet:B,statement:A,options:D}=r;let J;if(tt())if(typeof B=="object")J=B;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))J=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof B!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");J=B}const de=new URL((s=D==null?void 0:D.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in J&&J.signIn){const G=await J.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D==null?void 0:D.signInWithSolana),{version:"1",domain:de.host,uri:de.href}),A?{statement:A}:null));let ae;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")ae=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)ae=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ae&&"signature"in ae&&(typeof ae.signedMessage=="string"||ae.signedMessage instanceof Uint8Array)&&ae.signature instanceof Uint8Array)j=typeof ae.signedMessage=="string"?ae.signedMessage:new TextDecoder().decode(ae.signedMessage),P=ae.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in J)||typeof J.signMessage!="function"||!("publicKey"in J)||typeof J!="object"||!J.publicKey||!("toBase58"in J.publicKey)||typeof J.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${de.host} wants you to sign in with your Solana account:`,J.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${de.href}`,`Issued At: ${(l=(o=D==null?void 0:D.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=D==null?void 0:D.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((h=D==null?void 0:D.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((f=D==null?void 0:D.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((p=D==null?void 0:D.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((v=D==null?void 0:D.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((k=(y=D==null?void 0:D.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||k===void 0)&&k.length?["Resources",...D.signInWithSolana.resources.map(ae=>`- ${ae}`)]:[]].join(`
`);const G=await J.signMessage(new TextEncoder().encode(j),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");P=G}}try{const{data:T,error:B}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:tn(P)},!((_=r.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(b=r.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Ut});if(B)throw B;if(!T||!T.session||!T.user){const A=new Pn;return this._returnResult({data:{user:null,session:null},error:A})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:B})}catch(T){if(ee(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(r){const s=await Yr(this.storage,`${this.storageKey}-code-verifier`),[o,l]=(s??"").split("/");try{if(!o&&this.flowType==="pkce")throw new Uy;const{data:u,error:h}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:o},xform:Ut});if(await et(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!u||!u.session||!u.user){const f=new Pn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:h})}catch(u){if(await et(this.storage,`${this.storageKey}-code-verifier`),ee(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(r){try{const{options:s,provider:o,token:l,access_token:u,nonce:h}=r,f=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:l,access_token:u,nonce:h,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ut}),{data:p,error:v}=f;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!p||!p.session||!p.user){const y=new Pn;return this._returnResult({data:{user:null,session:null},error:y})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:v})}catch(s){if(ee(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(r){var s,o,l,u,h;try{if("email"in r){const{email:f,options:p}=r;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await Nn(this.storage,this.storageKey));const{error:k}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},create_user:(o=p==null?void 0:p.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:y},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:k})}if("phone"in r){const{phone:f,options:p}=r,{data:v,error:y}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=p==null?void 0:p.data)!==null&&l!==void 0?l:{},create_user:(u=p==null?void 0:p.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(h=p==null?void 0:p.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:y})}throw new mo("You must provide either an email or phone number.")}catch(f){if(await et(this.storage,`${this.storageKey}-code-verifier`),ee(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(r){var s,o;try{let l,u;"options"in r&&(l=(s=r.options)===null||s===void 0?void 0:s.redirectTo,u=(o=r.options)===null||o===void 0?void 0:o.captchaToken);const{data:h,error:f}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:Ut});if(f)throw f;if(!h)throw new Error("An error occurred on token verification.");const p=h.session,v=h.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:v,session:p},error:null})}catch(l){if(ee(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(r){var s,o,l,u,h;try{let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Nn(this.storage,this.storageKey));const v=await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(o=(s=r.options)===null||s===void 0?void 0:s.redirectTo)!==null&&o!==void 0?o:void 0}),!((l=r==null?void 0:r.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:p}),headers:this.headers,xform:uw});return!((u=v.data)===null||u===void 0)&&u.url&&tt()&&!(!((h=r.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(f){if(await et(this.storage,`${this.storageKey}-code-verifier`),ee(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)throw o;if(!s)throw new xt;const{error:l}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(r){if(ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const s=`${this.url}/resend`;if("email"in r){const{email:o,type:l,options:u}=r,{error:h}=await ne(this.fetch,"POST",s,{headers:this.headers,body:{email:o,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in r){const{phone:o,type:l,options:u}=r,{data:h,error:f}=await ne(this.fetch,"POST",s,{headers:this.headers,body:{phone:o,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:f})}throw new mo("You must provide either an email or phone number and a type")}catch(s){if(ee(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(r,s){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await o,await s()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=s();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await r(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const s=await Yr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?r=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const o=r.expires_at?r.expires_at*1e3-Date.now()<El:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(this.userStorage){const h=await Yr(this.userStorage,this.storageKey+"-user");h!=null&&h.user?r.user=h.user:r.user=Tl()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};r.user=iw(r.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(r){try{return r?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Or}):await this._useSession(async s=>{var o,l,u;const{data:h,error:f}=s;if(f)throw f;return!(!((o=h.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xt}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:Or})})}catch(s){if(ee(s))return jl(s)&&(await this._removeSession(),await et(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(r,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(r,s))}async _updateUser(r,s={}){try{return await this._useSession(async o=>{const{data:l,error:u}=o;if(u)throw u;if(!l.session)throw new xt;const h=l.session;let f=null,p=null;this.flowType==="pkce"&&r.email!=null&&([f,p]=await Nn(this.storage,this.storageKey));const{data:v,error:y}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:f,code_challenge_method:p}),jwt:h.access_token,xform:Or});if(y)throw y;return h.user=v.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(o){if(await et(this.storage,`${this.storageKey}-code-verifier`),ee(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new xt;const s=Date.now()/1e3;let o=s,l=!0,u=null;const{payload:h}=vo(r.access_token);if(h.exp&&(o=h.exp,l=o<=s),l){const{data:f,error:p}=await this._callRefreshToken(r.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:p}=await this._getUser(r.access_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});u={access_token:r.access_token,refresh_token:r.refresh_token,user:f.user,token_type:"bearer",expires_in:o-s,expires_at:o},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(s){if(ee(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async s=>{var o;if(!r){const{data:h,error:f}=s;if(f)throw f;r=(o=h.session)!==null&&o!==void 0?o:void 0}if(!(r!=null&&r.refresh_token))throw new xt;const{data:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(ee(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(r,s){try{if(!tt())throw new go("No browser detected.");if(r.error||r.error_description||r.error_code)throw new go(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new vh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new go("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new vh("No code detected.");const{data:A,error:D}=await this._exchangeCodeForSession(r.code);if(D)throw D;const J=new URL(window.location.href);return J.searchParams.delete("code"),window.history.replaceState(window.history.state,"",J.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:l,access_token:u,refresh_token:h,expires_in:f,expires_at:p,token_type:v}=r;if(!u||!f||!h||!v)throw new go("No session defined in URL");const y=Math.round(Date.now()/1e3),k=parseInt(f);let _=y+k;p&&(_=parseInt(p));const b=_-y;b*1e3<=$n&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${k}s`);const j=_-k;y-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,_,y):y-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,_,y);const{data:P,error:T}=await this._getUser(u);if(T)throw T;const B={provider_token:o,provider_refresh_token:l,access_token:u,expires_in:k,expires_at:_,refresh_token:h,token_type:v,user:P.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:B,redirectType:r.type},error:null})}catch(o){if(ee(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(r){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),r):!!(r.access_token||r.error_description)}async _isPKCECallback(r){const s=await Yr(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&s)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async s=>{var o;const{data:l,error:u}=s;if(u&&!jl(u))return this._returnResult({error:u});const h=(o=l.session)===null||o===void 0?void 0:o.access_token;if(h){const{error:f}=await this.admin.signOut(h,r);if(f&&!(Dy(f)&&(f.status===404||f.status===401||f.status===403)||jl(f)))return this._returnResult({error:f})}return r!=="others"&&(await this._removeSession(),await et(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const s=Vy(),o={id:s,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,o),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:o}}}async _emitInitialSession(r){return await this._useSession(async s=>{var o,l;try{const{data:{session:u},error:h}=s;if(h)throw h;await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,s={}){let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Nn(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:o,code_challenge_method:l,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(u){if(await et(this.storage,`${this.storageKey}-code-verifier`),ee(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var r;try{const{data:s,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(r=s.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var s;try{const{data:o,error:l}=await this._useSession(async u=>{var h,f,p,v,y;const{data:k,error:_}=u;if(_)throw _;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(h=r.options)===null||h===void 0?void 0:h.redirectTo,scopes:(f=r.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=r.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",b,{headers:this.headers,jwt:(y=(v=k.session)===null||v===void 0?void 0:v.access_token)!==null&&y!==void 0?y:void 0})});if(l)throw l;return tt()&&!(!((s=r.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),this._returnResult({data:{provider:r.provider,url:o==null?void 0:o.url},error:null})}catch(o){if(ee(o))return this._returnResult({data:{provider:r.provider,url:null},error:o});throw o}}async linkIdentityIdToken(r){return await this._useSession(async s=>{var o;try{const{error:l,data:{session:u}}=s;if(l)throw l;const{options:h,provider:f,token:p,access_token:v,nonce:y}=r,k=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=u==null?void 0:u.access_token)!==null&&o!==void 0?o:void 0,body:{provider:f,id_token:p,access_token:v,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ut}),{data:_,error:b}=k;return b?this._returnResult({data:{user:null,session:null},error:b}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new Pn}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:b}))}catch(l){if(await et(this.storage,`${this.storageKey}-code-verifier`),ee(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(r){try{return await this._useSession(async s=>{var o,l;const{data:u,error:h}=s;if(h)throw h;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0})})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(r){const s=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{const o=Date.now();return await Jy(async l=>(l>0&&await Ky(200*Math.pow(2,l-1)),this._debug(s,"refreshing attempt",l),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Ut})),(l,u)=>{const h=200*Math.pow(2,l);return u&&Cl(u)&&Date.now()+h-o<$n})}catch(o){if(this._debug(s,"error",o),ee(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(s,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,s){const o=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",s,"url",o),tt()&&!s.skipBrowserRedirect&&window.location.assign(o),{data:{provider:r,url:o},error:null}}async _recoverAndRefresh(){var r,s;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const l=await Yr(this.storage,this.storageKey);if(l&&this.userStorage){let h=await Yr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:l.user},await Un(this.userStorage,this.storageKey+"-user",h)),l.user=(r=h==null?void 0:h.user)!==null&&r!==void 0?r:Tl()}else if(l&&!l.user&&!l.user){const h=await Yr(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(l.user=h.user,await et(this.storage,this.storageKey+"-user"),await Un(this.storage,this.storageKey,l)):l.user=Tl()}if(this._debug(o,"session from storage",l),!this._isValidSession(l)){this._debug(o,"session is not valid"),l!==null&&await this._removeSession();return}const u=((s=l.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<El;if(this._debug(o,`session has${u?"":" not"} expired with margin of ${El}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:h}=await this._callRefreshToken(l.refresh_token);h&&(console.error(h),Cl(h)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:f}=await this._getUser(l.access_token);!f&&(h!=null&&h.user)?(l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(o,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(o,"error",l),console.error(l);return}finally{this._debug(o,"end")}}async _callRefreshToken(r){var s,o;if(!r)throw new xt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Co;const{data:u,error:h}=await this._refreshAccessToken(r);if(h)throw h;if(!u.session)throw new xt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={data:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(l,"error",u),ee(u)){const h={data:null,error:u};return Cl(u)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(h),h}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(r,s,o=!0){const l=`#_notifyAllSubscribers(${r})`;this._debug(l,"begin",s,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:r,session:s});const u=[],h=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(r,s)}catch(p){u.push(p)}});if(await Promise.all(h),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await et(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},r),o=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&s.user&&await Un(this.userStorage,this.storageKey+"-user",{user:s.user});const l=Object.assign({},s);delete l.user;const u=Sh(l);await Un(this.storage,this.storageKey,u)}else{const l=Sh(s);await Un(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await et(this.storage,this.storageKey),await et(this.storage,this.storageKey+"-code-verifier"),await et(this.storage,this.storageKey+"-user"),this.userStorage&&await et(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&tt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),$n);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async s=>{const{data:{session:o}}=s;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((o.expires_at*1e3-r)/$n);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${$n}ms, refresh threshold is ${Ul} ticks`),l<=Ul&&await this._callRefreshToken(o.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof vf)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(r){this._debug("#visibilityChangedCallback","error",r)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const s=`#_onVisibilityChanged(${r})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,s,o){const l=[`provider=${encodeURIComponent(s)}`];if(o!=null&&o.redirectTo&&l.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&l.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[u,h]=await Nn(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(h)}`});l.push(f.toString())}if(o!=null&&o.queryParams){const u=new URLSearchParams(o.queryParams);l.push(u.toString())}return o!=null&&o.skipBrowserRedirect&&l.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${r}?${l.join("&")}`}async _unenroll(r){try{return await this._useSession(async s=>{var o;const{data:l,error:u}=s;return u?this._returnResult({data:null,error:u}):await ne(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(r){try{return await this._useSession(async s=>{var o,l;const{data:u,error:h}=s;if(h)return this._returnResult({data:null,error:h});const f=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:p,error:v}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token});return v?this._returnResult({data:null,error:v}):(r.factorType==="totp"&&p.type==="totp"&&(!((l=p==null?void 0:p.totp)===null||l===void 0)&&l.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}async _verify(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var o;const{data:l,error:u}=s;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?Ew(r.webauthn.credential_response):jw(r.webauthn.credential_response)})}:{code:r.code}),{data:f,error:p}=await ne(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:h,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:p}))})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var o;const{data:l,error:u}=s;if(u)return this._returnResult({data:null,error:u});const h=await ne(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});if(h.error)return h;const{data:f}=h;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:xw(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:bw(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(r){const{data:s,error:o}=await this._challenge({factorId:r.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:r.factorId,challengeId:s.id,code:r.code})}async _listFactors(){var r;const{data:{user:s},error:o}=await this.getUser();if(o)return{data:null,error:o};const l={all:[],phone:[],totp:[],webauthn:[]};for(const u of(r=s==null?void 0:s.factors)!==null&&r!==void 0?r:[])l.all.push(u),u.status==="verified"&&l[u.factor_type].push(u);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(r){var s,o,l,u;if(r)try{const{payload:b}=vo(r);let j=null;b.aal&&(j=b.aal);let P=j;const{data:{user:T},error:B}=await this.getUser(r);if(B)return this._returnResult({data:null,error:B});((o=(s=T==null?void 0:T.factors)===null||s===void 0?void 0:s.filter(J=>J.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(P="aal2");const D=b.amr||[];return{data:{currentLevel:j,nextLevel:P,currentAuthenticationMethods:D},error:null}}catch(b){if(ee(b))return this._returnResult({data:null,error:b});throw b}const{data:{session:h},error:f}=await this.getSession();if(f)return this._returnResult({data:null,error:f});if(!h)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:p}=vo(h.access_token);let v=null;p.aal&&(v=p.aal);let y=v;((u=(l=h.user.factors)===null||l===void 0?void 0:l.filter(b=>b.status==="verified"))!==null&&u!==void 0?u:[]).length>0&&(y="aal2");const _=p.amr||[];return{data:{currentLevel:v,nextLevel:y,currentAuthenticationMethods:_},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;return l?this._returnResult({data:null,error:l}):o?await ne(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:o.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new xt})})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(r,s){try{return await this._useSession(async o=>{const{data:{session:l},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new xt});const h=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return h.data&&h.data.redirect_url&&tt()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(o){if(ee(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(r,s){try{return await this._useSession(async o=>{const{data:{session:l},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new xt});const h=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return h.data&&h.data.redirect_url&&tt()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(o){if(ee(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;return o?this._returnResult({data:null,error:o}):s?await ne(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new xt})})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;return l?this._returnResult({data:null,error:l}):o?(await ne(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new xt})})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(r,s={keys:[]}){let o=s.keys.find(f=>f.kid===r);if(o)return o;const l=Date.now();if(o=this.jwks.keys.find(f=>f.kid===r),o&&this.jwks_cached_at+Ay>l)return o;const{data:u,error:h}=await ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,o=u.keys.find(f=>f.kid===r),!o)?null:o}async getClaims(r,s={}){try{let o=r;if(!o){const{data:b,error:j}=await this.getSession();if(j||!b.session)return this._returnResult({data:null,error:j});o=b.session.access_token}const{header:l,payload:u,signature:h,raw:{header:f,payload:p}}=vo(o);s!=null&&s.allowExpired||rw(u.exp);const v=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!v){const{error:b}=await this.getUser(o);if(b)throw b;return{data:{claims:u,header:l,signature:h},error:null}}const y=nw(l.alg),k=await crypto.subtle.importKey("jwk",v,y,!0,["verify"]);if(!await crypto.subtle.verify(y,k,h,Wy(`${f}.${p}`)))throw new zl("Invalid JWT signature");return{data:{claims:u,header:l,signature:h},error:null}}catch(o){if(ee(o))return this._returnResult({data:null,error:o});throw o}}}qs.nextInstanceID={};const Lw=qs,Dw="2.95.3";let Is="";typeof Deno<"u"?Is="deno":typeof document<"u"?Is="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Is="react-native":Is="node";const $w={"X-Client-Info":`supabase-js-${Is}/${Dw}`},Uw={headers:$w},Bw={schema:"public"},Mw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zw={};function Vs(n){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vs(n)}function Fw(n,r){if(Vs(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var o=s.call(n,r);if(Vs(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function Ww(n){var r=Fw(n,"string");return Vs(r)=="symbol"?r:r+""}function qw(n,r,s){return(r=Ww(r))in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s,n}function Rh(n,r){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);r&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),s.push.apply(s,o)}return s}function $e(n){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Rh(Object(s),!0).forEach(function(o){qw(n,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):Rh(Object(s)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(s,o))})}return n}const Vw=n=>n?(...r)=>n(...r):(...r)=>fetch(...r),Hw=()=>Headers,Gw=(n,r,s)=>{const o=Vw(s),l=Hw();return async(u,h)=>{var f;const p=(f=await r())!==null&&f!==void 0?f:n;let v=new l(h==null?void 0:h.headers);return v.has("apikey")||v.set("apikey",n),v.has("Authorization")||v.set("Authorization",`Bearer ${p}`),o(u,$e($e({},h),{},{headers:v}))}};function Kw(n){return n.endsWith("/")?n:n+"/"}function Jw(n,r){var s,o;const{db:l,auth:u,realtime:h,global:f}=n,{db:p,auth:v,realtime:y,global:k}=r,_={db:$e($e({},p),l),auth:$e($e({},v),u),realtime:$e($e({},y),h),storage:{},global:$e($e($e({},k),f),{},{headers:$e($e({},(s=k==null?void 0:k.headers)!==null&&s!==void 0?s:{}),(o=f==null?void 0:f.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return n.accessToken?_.accessToken=n.accessToken:delete _.accessToken,_}function Qw(n){const r=n==null?void 0:n.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Kw(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Yw=class extends Lw{constructor(n){super(n)}},Xw=class{constructor(n,r,s){var o,l;this.supabaseUrl=n,this.supabaseKey=r;const u=Qw(n);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const h=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:Bw,realtime:zw,auth:$e($e({},Mw),{},{storageKey:h}),global:Uw},p=Jw(s??{},f);if(this.storageKey=(o=p.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=p.global.headers)!==null&&l!==void 0?l:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,k)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(k)} is not possible`)}});else{var v;this.auth=this._initSupabaseAuthClient((v=p.auth)!==null&&v!==void 0?v:{},this.headers,p.global.fetch)}this.fetch=Gw(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient($e({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new Dv(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch,timeout:p.db.timeout,urlLengthLimit:p.db.urlLengthLimit}),this.storage=new Ry(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new Tv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,r={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,r,s)}channel(n,r={config:{}}){return this.realtime.channel(n,r)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,r,s;if(n.accessToken)return await n.accessToken();const{data:o}=await n.auth.getSession();return(r=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:r,detectSessionInUrl:s,storage:o,userStorage:l,storageKey:u,flowType:h,lock:f,debug:p,throwOnError:v},y,k){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Yw({url:this.authUrl.href,headers:$e($e({},_),y),storageKey:u,autoRefreshToken:n,persistSession:r,detectSessionInUrl:s,storage:o,userStorage:l,flowType:h,lock:f,debug:p,throwOnError:v,fetch:k,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new Zv(this.realtimeUrl.href,$e($e({},n),{},{params:$e($e({},{apikey:this.supabaseKey}),n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(n,r,s){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Zw=(n,r,s)=>new Xw(n,r,s);function e_(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const r=n.version;if(r==null)return!1;const s=r.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}e_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const t_="https://kbzghddtegmkdkhskjbf.supabase.co",r_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtiemdoZGR0ZWdta2RraHNramJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA3MjU3OTgsImV4cCI6MjA4NjMwMTc5OH0.oTJ0r7bg14bNrshCbPAZoZsOpbneAwuSjzrDGS45-Nw",He=Zw(t_,r_),Yl=n=>({id:n.id,title:n.title,description:n.description||"",startDate:n.start_date,endDate:n.end_date,imageUrl:n.image_url,fileName:n.file_name||"",createdDate:n.created_date}),_f=async()=>{const{data:n,error:r}=await He.from("specials").select("*").order("created_date",{ascending:!1});if(r)throw r;return(n||[]).map(Yl)},kf=async n=>{const r=`specials/${Date.now()}_${n.name}`,{error:s}=await He.storage.from("images").upload(r,n);if(s)throw s;const{data:o}=He.storage.from("images").getPublicUrl(r);return o.publicUrl},Sf=n=>new Promise((r,s)=>{const o=new FileReader;o.onloadend=()=>r(o.result),o.onerror=s,o.readAsDataURL(n)}),n_=async(n,r)=>{let s;try{s=await kf(r)}catch{s=await Sf(r)}const{data:o,error:l}=await He.from("specials").insert({title:n.title,description:n.description,start_date:n.startDate,end_date:n.endDate,image_url:s,file_name:r.name}).select().single();if(l)throw l;return Yl(o)},s_=async(n,r,s)=>{const o={title:r.title,description:r.description,start_date:r.startDate,end_date:r.endDate};if(s){try{o.image_url=await kf(s)}catch{o.image_url=await Sf(s)}o.file_name=s.name}const{data:l,error:u}=await He.from("specials").update(o).eq("id",n).select().single();if(u)throw u;return Yl(l)},i_=async n=>{const{error:r}=await He.from("specials").delete().eq("id",n);if(r)throw r},xf=n=>({id:n.id,name:n.name,phone:n.phone,email:n.email||void 0,eventDate:n.event_date,description:n.description,status:n.status||"pending",submittedAt:n.submitted_at}),o_=async()=>{const{data:n,error:r}=await He.from("bookings").select("*").order("submitted_at",{ascending:!1});if(r)throw r;return(n||[]).map(xf)},a_=async n=>{const{data:r,error:s}=await He.from("bookings").insert({name:n.name,phone:n.phone,email:n.email||null,event_date:n.date,description:n.description,status:"pending"}).select().single();if(s)throw s;return xf(r)},l_=async(n,r)=>{const{error:s}=await He.from("bookings").update({status:r}).eq("id",n);if(s)throw s},u_=async n=>{const{error:r}=await He.from("bookings").delete().eq("id",n);if(r)throw r},c_="_home_o0h5f_1",d_="_section_o0h5f_5",h_="_sectionTitle_o0h5f_17",f_="_tabs_o0h5f_30",p_="_tab_o0h5f_30",m_="_active_o0h5f_66",g_="_specialsGrid_o0h5f_72",v_="_specialCard_o0h5f_89",y_="_past_o0h5f_101",w_="_specialImage_o0h5f_104",__="_specialBadge_o0h5f_108",k_="_upcoming_o0h5f_125",S_="_expired_o0h5f_128",x_="_specialContent_o0h5f_143",b_="_specialDates_o0h5f_173",E_="_expiredNotice_o0h5f_184",j_="_servicesGrid_o0h5f_200",C_="_serviceCard_o0h5f_217",T_="_serviceIcon_o0h5f_249",R_="_contactGrid_o0h5f_259",O_="_contactInfo_o0h5f_273",P_="_contactItem_o0h5f_284",N_="_contactIcon_o0h5f_329",I_="_contactForm_o0h5f_338",A_="_bookingForm_o0h5f_367",L_="_galleryGrid_o0h5f_407",D_="_galleryImage_o0h5f_424",$_="_lightbox_o0h5f_441",U_="_emptyState_o0h5f_461",B_="_emptyIcon_o0h5f_491",M_="_thankYou_o0h5f_501",z_="_thankYouIcon_o0h5f_534",F_="_floatingBtn_o0h5f_544",W_="_formGroup_o0h5f_584",q_="_errorInput_o0h5f_590",V_="_errorMessage_o0h5f_598",V={home:c_,section:d_,sectionTitle:h_,tabs:f_,tab:p_,active:m_,specialsGrid:g_,specialCard:v_,past:y_,specialImage:w_,specialBadge:__,upcoming:k_,expired:S_,specialContent:x_,specialDates:b_,expiredNotice:E_,servicesGrid:j_,serviceCard:C_,serviceIcon:T_,contactGrid:R_,contactInfo:O_,contactItem:P_,contactIcon:N_,contactForm:I_,bookingForm:A_,galleryGrid:L_,galleryImage:D_,lightbox:$_,emptyState:U_,emptyIcon:B_,thankYou:M_,thankYouIcon:z_,floatingBtn:F_,formGroup:W_,errorInput:q_,errorMessage:V_},H_=()=>{var H;iv();const[n,r]=$.useState([]),[s,o]=$.useState(!0),[l]=Hl(Gl.GALLERY_IMAGES,rf),[u,h]=$.useState("current"),[f,p]=$.useState(null),[v,y]=$.useState(null),k=ir(),_=ir(),b=ir(),[j,P]=$.useState({name:"",phone:"",email:"",date:"",description:""}),[T,B]=$.useState({name:"",email:"",phone:"",message:""}),[A,D]=$.useState(!1),[J,de]=$.useState(!1),[G,ae]=$.useState({});$.useEffect(()=>{(async()=>{try{o(!0);const q=await _f();r(q)}catch(q){console.error("Error fetching specials:",q)}finally{o(!1)}})()},[]);const _e=new Date;_e.setHours(0,0,0,0);const Ee=n.filter(I=>_v(_e,I.startDate,I.endDate)),Ye=n.filter(I=>kv(_e,I.startDate)),lt=n.filter(I=>Sv(_e,I.endDate)),le=f?l.filter(I=>I.category===f):[],be=()=>{const I={};return j.name.trim()?/^[a-zA-Z\s]+$/.test(j.name)||(I.bookingName="Name must contain only letters"):I.bookingName="Name is required",j.phone.trim()?ih(j.phone)||(I.bookingPhone="Phone number must be 10 digits"):I.bookingPhone="Phone number is required",j.date||(I.bookingDate="Date is required"),j.description.trim()||(I.bookingDescription="Description is required"),ae(q=>({...q,...I})),Object.keys(I).length===0},fe=async I=>{if(I.preventDefault(),ae(q=>{const E={...q};return Object.keys(E).forEach(L=>{L.startsWith("booking")&&delete E[L]}),E}),!!be()){D(!0);try{await yv({...j,phone:Sl(j.phone)}),await a_({name:j.name,phone:Sl(j.phone),email:j.email,date:j.date,description:j.description}),k.close(),b.open(),P({name:"",phone:"",email:"",date:"",description:""})}catch(q){alert("Failed to send booking request. Please try again or contact us directly."),console.error(q)}finally{D(!1)}}},Le=()=>{const I={};return T.name.trim()?/^[a-zA-Z\s]+$/.test(T.name)||(I.contactName="Name must contain only letters"):I.contactName="Name is required",T.email.trim()||(I.contactEmail="Email is required"),T.phone.trim()&&!ih(T.phone)&&(I.contactPhone="Phone number must be 10 digits"),T.message.trim()||(I.contactMessage="Message is required"),ae(q=>({...q,...I})),Object.keys(I).length===0},oe=async I=>{if(I.preventDefault(),ae(q=>{const E={...q};return Object.keys(E).forEach(L=>{L.startsWith("contact")&&delete E[L]}),E}),!!Le()){de(!0);try{await wv({...T,phone:Sl(T.phone)}),alert("Message sent successfully!"),B({name:"",email:"",phone:"",message:""})}catch(q){alert("Failed to send message. Please try again later."),console.error(q)}finally{de(!1)}}},ge=I=>{p(I),_.open()};return m.jsxs("div",{className:V.home,children:[m.jsx(Dg,{}),m.jsx(Zg,{onBookingClick:k.open}),m.jsx("section",{id:"specials",className:V.section,children:m.jsxs("div",{className:"container",children:[m.jsx("h2",{className:V.sectionTitle,children:"Special Offers"}),m.jsxs("div",{className:V.tabs,children:[m.jsx("button",{className:`${V.tab} ${u==="current"?V.active:""}`,onClick:()=>h("current"),children:"Current"}),m.jsx("button",{className:`${V.tab} ${u==="upcoming"?V.active:""}`,onClick:()=>h("upcoming"),children:"Upcoming"}),m.jsx("button",{className:`${V.tab} ${u==="past"?V.active:""}`,onClick:()=>h("past"),children:"Past"})]}),m.jsx("div",{className:V.specialsGrid,children:s?m.jsx("div",{className:V.loading,children:"Loading specials..."}):m.jsxs(m.Fragment,{children:[u==="current"&&(Ee.length>0?Ee.map(I=>m.jsxs("div",{className:V.specialCard,children:[m.jsx("span",{className:V.specialBadge,children:"Special Offer"}),m.jsx("img",{src:I.imageUrl,alt:I.title,className:V.specialImage}),m.jsxs("div",{className:V.specialContent,children:[m.jsx("h3",{children:I.title}),I.description&&m.jsx("p",{children:I.description}),m.jsxs("div",{className:V.specialDates,children:[" ",or(I.startDate)," - ",or(I.endDate)]}),m.jsx(Re,{onClick:k.open,children:"Order Now "})]})]},I.id)):m.jsxs("div",{className:V.emptyState,children:[m.jsx("span",{className:V.emptyIcon,children:""}),m.jsx("h3",{children:"No Active Specials"}),m.jsx("p",{children:"Check back soon for amazing deals!"})]})),u==="upcoming"&&(Ye.length>0?Ye.map(I=>m.jsxs("div",{className:V.specialCard,children:[m.jsx("span",{className:`${V.specialBadge} ${V.upcoming}`,children:"Coming Soon"}),m.jsx("img",{src:I.imageUrl,alt:I.title,className:V.specialImage}),m.jsxs("div",{className:V.specialContent,children:[m.jsx("h3",{children:I.title}),I.description&&m.jsx("p",{children:I.description}),m.jsxs("div",{className:V.specialDates,children:[" Starts ",or(I.startDate)]})]})]},I.id)):m.jsxs("div",{className:V.emptyState,children:[m.jsx("span",{className:V.emptyIcon,children:""}),m.jsx("h3",{children:"No Upcoming Specials"}),m.jsx("p",{children:"Stay tuned for exciting new offers!"})]})),u==="past"&&(lt.length>0?lt.map(I=>m.jsxs("div",{className:`${V.specialCard} ${V.past}`,children:[m.jsx("span",{className:`${V.specialBadge} ${V.expired}`,children:"Expired"}),m.jsx("img",{src:I.imageUrl,alt:I.title,className:V.specialImage}),m.jsxs("div",{className:V.specialContent,children:[m.jsx("h3",{children:I.title}),I.description&&m.jsx("p",{children:I.description}),m.jsxs("div",{className:V.specialDates,children:[" Ran from ",or(I.startDate)," to ",or(I.endDate)]}),m.jsx("div",{className:V.expiredNotice,children:"This offer has ended"})]})]},I.id)):m.jsxs("div",{className:V.emptyState,children:[m.jsx("span",{className:V.emptyIcon,children:""}),m.jsx("h3",{children:"No Past Specials"}),m.jsx("p",{children:"Previous special offers will appear here."})]}))]})})]})}),m.jsx("section",{id:"services",className:V.section,children:m.jsxs("div",{className:"container",children:[m.jsx("h2",{className:V.sectionTitle,children:"Our Services"}),m.jsx("div",{className:V.servicesGrid,children:As.map(I=>m.jsxs("div",{className:V.serviceCard,onClick:()=>ge(I.id),children:[m.jsx("span",{className:V.serviceIcon,children:I.icon}),m.jsx("h3",{children:I.name})]},I.id))})]})}),m.jsx("section",{id:"contact",className:V.section,children:m.jsxs("div",{className:"container",children:[m.jsx("h2",{className:V.sectionTitle,children:"Get in Touch"}),m.jsxs("div",{className:V.contactGrid,children:[m.jsxs("div",{className:V.contactInfo,children:[m.jsxs("a",{href:"tel:+27843002719",className:V.contactItem,children:[m.jsx("span",{className:V.contactIcon,children:""}),m.jsxs("div",{children:[m.jsx("h4",{children:"Phone"}),m.jsx("p",{children:"084 300 2719"})]})]}),m.jsxs("a",{href:"mailto:anchen101@gmail.com",className:V.contactItem,children:[m.jsx("span",{className:V.contactIcon,children:""}),m.jsxs("div",{children:[m.jsx("h4",{children:"Email"}),m.jsx("p",{children:"anchen101@gmail.com"})]})]})]}),m.jsxs("form",{className:V.contactForm,onSubmit:oe,children:[m.jsxs("div",{className:V.formGroup,children:[m.jsx("input",{type:"text",placeholder:"Your Name *",value:T.name,onChange:I=>B({...T,name:I.target.value}),className:G.contactName?V.errorInput:""}),G.contactName&&m.jsx("span",{className:V.errorMessage,children:G.contactName})]}),m.jsxs("div",{className:V.formGroup,children:[m.jsx("input",{type:"email",placeholder:"Your Email *",value:T.email,onChange:I=>B({...T,email:I.target.value}),className:G.contactEmail?V.errorInput:""}),G.contactEmail&&m.jsx("span",{className:V.errorMessage,children:G.contactEmail})]}),m.jsxs("div",{className:V.formGroup,children:[m.jsx("input",{type:"tel",placeholder:"Phone Number (e.g., 082 123 4567)",value:T.phone,onChange:I=>B({...T,phone:sh(I.target.value)}),className:G.contactPhone?V.errorInput:""}),G.contactPhone&&m.jsx("span",{className:V.errorMessage,children:G.contactPhone})]}),m.jsxs("div",{className:V.formGroup,children:[m.jsx("textarea",{placeholder:"Your Message *",rows:5,value:T.message,onChange:I=>B({...T,message:I.target.value}),className:G.contactMessage?V.errorInput:""}),G.contactMessage&&m.jsx("span",{className:V.errorMessage,children:G.contactMessage})]}),m.jsx(Re,{type:"submit",fullWidth:!0,disabled:J,children:J?"Sending...":"Send Message"})]})]})]})}),m.jsx(sr,{isOpen:k.isOpen,onClose:k.close,title:"Book a Consultation",maxWidth:"800px",children:m.jsxs("form",{onSubmit:fe,className:V.bookingForm,children:[m.jsxs("div",{className:V.formGroup,children:[m.jsx("input",{type:"text",placeholder:"Your Name *",value:j.name,onChange:I=>P({...j,name:I.target.value}),className:G.bookingName?V.errorInput:""}),G.bookingName&&m.jsx("span",{className:V.errorMessage,children:G.bookingName})]}),m.jsxs("div",{className:V.formGroup,children:[m.jsx("input",{type:"tel",placeholder:"Phone Number (e.g., 082 123 4567) *",value:j.phone,onChange:I=>P({...j,phone:sh(I.target.value)}),className:G.bookingPhone?V.errorInput:""}),G.bookingPhone&&m.jsx("span",{className:V.errorMessage,children:G.bookingPhone})]}),m.jsx("input",{type:"email",placeholder:"Email (optional)",value:j.email,onChange:I=>P({...j,email:I.target.value})}),m.jsxs("div",{className:V.formGroup,children:[m.jsx("label",{htmlFor:"booking-date",children:"Event Date *"}),m.jsx("input",{id:"booking-date",type:"date",value:j.date,onChange:I=>P({...j,date:I.target.value}),min:new Date().toISOString().split("T")[0],className:G.bookingDate?V.errorInput:""}),G.bookingDate&&m.jsx("span",{className:V.errorMessage,children:G.bookingDate})]}),m.jsxs("div",{className:V.formGroup,children:[m.jsx("textarea",{placeholder:"Tell us about your event... *",rows:4,value:j.description,onChange:I=>P({...j,description:I.target.value}),className:G.bookingDescription?V.errorInput:""}),G.bookingDescription&&m.jsx("span",{className:V.errorMessage,children:G.bookingDescription})]}),m.jsx(Re,{type:"submit",fullWidth:!0,disabled:A,children:A?"Sending...":"Submit Request"})]})}),m.jsx(sr,{isOpen:_.isOpen,onClose:_.close,title:f?(H=As.find(I=>I.id===f))==null?void 0:H.name:"",maxWidth:"900px",children:m.jsx("div",{className:V.galleryGrid,children:le.length>0?le.map(I=>m.jsx("img",{src:I.imageUrl,alt:I.title,className:V.galleryImage,onClick:()=>y(I.imageUrl)},I.id)):m.jsx("p",{children:"No images available for this category yet."})})}),v&&m.jsx("div",{className:V.lightbox,onClick:()=>y(null),children:m.jsx("img",{src:v,alt:"Full size"})}),m.jsx(sr,{isOpen:b.isOpen,onClose:b.close,title:"Thank You!",children:m.jsxs("div",{className:V.thankYou,children:[m.jsx("span",{className:V.thankYouIcon,children:""}),m.jsx("h3",{children:"Booking Request Received!"}),m.jsx("p",{children:"We'll get back to you shortly to confirm your consultation."}),m.jsx(Re,{onClick:b.close,children:"Close"})]})}),m.jsx("button",{className:V.floatingBtn,onClick:k.open,"aria-label":"Book Now",children:""}),m.jsx(Bg,{})]})},bf=$.createContext(void 0),G_=({children:n})=>{const[r,s]=$.useState(null),[o,l]=$.useState(null),[u,h]=$.useState(!1),[f,p]=$.useState(!0);$.useEffect(()=>{He.auth.getSession().then(({data:{session:j}})=>{s(j),l((j==null?void 0:j.user)??null),j!=null&&j.user?v(j.user.email):p(!1)});const{data:{subscription:b}}=He.auth.onAuthStateChange((j,P)=>{s(P),l((P==null?void 0:P.user)??null),P!=null&&P.user?v(P.user.email):(h(!1),p(!1))});return()=>b.unsubscribe()},[]);const v=async b=>{if(!b){h(!1),p(!1);return}try{const{data:j,error:P}=await He.from("users").select("id, role").or(`email.eq.${b},username.eq.${b}`).maybeSingle();j?h(!0):(console.warn("User logged in but not in whitelist:",b),h(!1))}catch(j){console.error("Error checking admin status:",j),h(!1)}finally{p(!1)}},_={session:r,user:o,isAuthenticated:!!r,isAdmin:u,loading:f,signInWithGoogle:async()=>{const{error:b}=await He.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/admin`}});if(b)throw b},signOut:async()=>{await He.auth.signOut(),h(!1)}};return m.jsx(bf.Provider,{value:_,children:!f&&n})},Xl=()=>{const n=$.useContext(bf);if(!n)throw new Error("useAuth must be used within AuthProvider");return n},K_="_uploadContainer_115l0_1",J_="_label_115l0_7",Q_="_dropzone_115l0_18",Y_="_dragging_115l0_40",X_="_hasPreview_115l0_46",Z_="_hiddenInput_115l0_51",e0="_placeholder_115l0_55",t0="_icon_115l0_63",r0="_mainText_115l0_72",n0="_subText_115l0_83",s0="_previewContainer_115l0_93",i0="_preview_115l0_93",o0="_previewOverlay_115l0_118",a0="_changeText_115l0_134",l0="_removeBtn_115l0_145",ht={uploadContainer:K_,label:J_,dropzone:Q_,dragging:Y_,hasPreview:X_,hiddenInput:Z_,placeholder:e0,icon:t0,mainText:r0,subText:n0,previewContainer:s0,preview:i0,previewOverlay:o0,changeText:a0,removeBtn:l0},yo=({onImageSelect:n,preview:r,required:s=!1,label:o="Image"})=>{const[l,u]=$.useState(!1),[h,f]=$.useState(null),p=$.useRef(null),v=r||h,y=$.useCallback(A=>{if(A&&A.type.startsWith("image/")){n(A);const D=new FileReader;D.onloadend=()=>f(D.result),D.readAsDataURL(A)}else alert("Please select a valid image file")},[n]),k=A=>{A.preventDefault(),A.stopPropagation(),u(!0)},_=A=>{A.preventDefault(),A.stopPropagation(),u(!1)},b=A=>{A.preventDefault(),A.stopPropagation()},j=A=>{A.preventDefault(),A.stopPropagation(),u(!1);const D=A.dataTransfer.files;D&&D.length>0&&y(D[0])},P=()=>{var A;(A=p.current)==null||A.click()},T=A=>{const D=A.target.files;D&&D.length>0&&y(D[0])},B=A=>{A.stopPropagation(),f(null),p.current&&(p.current.value="")};return m.jsxs("div",{className:ht.uploadContainer,children:[m.jsxs("label",{className:ht.label,children:[o," ",s&&"*"]}),m.jsxs("div",{className:`${ht.dropzone} ${l?ht.dragging:""} ${v?ht.hasPreview:""}`,onDragEnter:k,onDragLeave:_,onDragOver:b,onDrop:j,onClick:P,children:[m.jsx("input",{ref:p,type:"file",accept:"image/*",onChange:T,className:ht.hiddenInput,required:s&&!v}),v?m.jsxs("div",{className:ht.previewContainer,children:[m.jsx("img",{src:v,alt:"Preview",className:ht.preview}),m.jsxs("div",{className:ht.previewOverlay,children:[m.jsx("span",{className:ht.changeText,children:"Click or drag to replace"}),m.jsx("button",{type:"button",className:ht.removeBtn,onClick:B,children:" Remove"})]})]}):m.jsxs("div",{className:ht.placeholder,children:[m.jsx("span",{className:ht.icon,children:""}),m.jsx("span",{className:ht.mainText,children:l?"Drop image here":"Drag & drop an image here"}),m.jsx("span",{className:ht.subText,children:"or click to browse"})]})]})]})},Ef=n=>({username:n.username,email:n.email||void 0,password:n.password,role:n.role||"admin",securityQuestion:n.security_question,securityAnswer:n.security_answer,createdDate:n.created_date}),u0=async()=>{const{data:n,error:r}=await He.from("users").select("*").order("created_date",{ascending:!0});if(r)throw r;return(n||[]).map(Ef)},c0=async n=>{const{data:r,error:s}=await He.from("users").insert({username:n.username,email:n.email||null,password:n.password,role:"admin",security_question:n.securityQuestion,security_answer:n.securityAnswer.toLowerCase().trim()}).select().single();if(s)throw s;return Ef(r)},d0=async(n,r)=>{const s={};r.email!==void 0&&(s.email=r.email||null),r.password&&(s.password=r.password),r.securityQuestion&&(s.security_question=r.securityQuestion),r.securityAnswer&&(s.security_answer=r.securityAnswer.toLowerCase().trim());const{error:o}=await He.from("users").update(s).eq("username",n);if(o)throw o},h0=async n=>{const{error:r}=await He.from("users").delete().eq("username",n);if(r)throw r},f0="_adminPage_1c7bu_1",p0="_header_1c7bu_6",m0="_headerContent_1c7bu_17",g0="_headerActions_1c7bu_41",v0="_username_1c7bu_53",y0="_tabs_1c7bu_64",w0="_container_1c7bu_70",_0="_tab_1c7bu_64",k0="_active_1c7bu_97",S0="_content_1c7bu_102",x0="_section_1c7bu_111",b0="_sectionHeader_1c7bu_123",E0="_actions_1c7bu_148",j0="_grid_1c7bu_159",C0="_card_1c7bu_176",T0="_cardImage_1c7bu_188",R0="_cardContent_1c7bu_199",O0="_cardMeta_1c7bu_229",P0="_category_1c7bu_240",N0="_empty_1c7bu_256",I0="_emptyIcon_1c7bu_263",A0="_usersList_1c7bu_274",L0="_userCard_1c7bu_285",D0="_userInfo_1c7bu_303",$0="_userMeta_1c7bu_327",U0="_form_1c7bu_337",B0="_formGroup_1c7bu_348",M0="_formRow_1c7bu_390",z0="_preview_1c7bu_402",F0="_cardActions_1c7bu_415",W0="_disabled_1c7bu_429",F={adminPage:f0,header:p0,headerContent:m0,headerActions:g0,username:v0,tabs:y0,container:w0,tab:_0,active:k0,content:S0,section:x0,sectionHeader:b0,actions:E0,grid:j0,card:C0,cardImage:T0,cardContent:R0,cardMeta:O0,category:P0,empty:N0,emptyIcon:I0,usersList:A0,userCard:L0,userInfo:D0,userMeta:$0,form:U0,formGroup:B0,formRow:M0,preview:z0,cardActions:F0,disabled:W0},q0=()=>{const n=Fh(),{signOut:r,user:s}=Xl(),[o,l]=$.useState("specials"),[u,h]=$.useState([]),[f,p]=$.useState(!0),[v,y]=$.useState([]),[k,_]=$.useState(!1),[b,j]=$.useState([]),[P,T]=$.useState(!1),[B,A]=Hl(Gl.GALLERY_IMAGES,rf);$.useEffect(()=>{D()},[]),$.useEffect(()=>{o==="users"&&J(),o==="bookings"&&de()},[o]);const D=async()=>{try{p(!0);const R=await _f();h(R)}catch(R){console.error("Error fetching specials:",R),alert("Failed to load specials.")}finally{p(!1)}},J=async()=>{try{_(!0);const R=await u0();y(R)}catch(R){console.error("Error fetching users:",R)}finally{_(!1)}},de=async()=>{try{T(!0);const R=await o_();j(R)}catch(R){console.error("Error fetching bookings:",R)}finally{T(!1)}},G=ir(),ae=ir(),_e=ir(),Ee=ir(),Ye=ir(),lt=ir(),[le,be]=$.useState({title:"",description:"",startDate:"",endDate:"",image:null}),[fe,Le]=$.useState({category:"cakes",title:"",description:"",image:null}),[oe,ge]=$.useState({username:"",email:"",password:"",securityQuestion:"",securityAnswer:""}),[H,I]=$.useState(null),[q,E]=$.useState(null),[L,ue]=$.useState(null),[ce,pe]=$.useState(null),ve=async()=>{await r(),n("/madbatter-login")},Se=R=>{be({...le,image:R});const he=new FileReader;he.onloadend=()=>pe(he.result),he.readAsDataURL(R)},ke=async R=>{if(R.preventDefault(),!le.image){alert("Please select an image");return}try{p(!0),await n_({title:le.title,description:le.description,startDate:le.startDate,endDate:le.endDate},le.image),await D(),Nr(),G.close(),alert("Special added successfully!")}catch(he){console.error("Error adding special:",he),alert("Failed to add special.")}finally{p(!1)}},je=R=>{I(R),be({title:R.title,description:R.description||"",startDate:R.startDate,endDate:R.endDate,image:null}),pe(R.imageUrl),ae.open()},ut=async R=>{if(R.preventDefault(),!!H)try{p(!0),await s_(H.id,{title:le.title,description:le.description,startDate:le.startDate,endDate:le.endDate},le.image||void 0),await D(),Nr(),ae.close(),alert("Special updated successfully!")}catch(he){console.error("Error updating special:",he),alert("Failed to update special.")}finally{p(!1)}},sn=async R=>{if(window.confirm("Are you sure you want to delete this special?"))try{p(!0),await i_(R),await D(),alert("Special deleted successfully!")}catch(he){console.error("Error deleting special:",he),alert("Failed to delete special.")}finally{p(!1)}},Nr=()=>{be({title:"",description:"",startDate:"",endDate:"",image:null}),pe(null),I(null)},Ir=R=>{Le({...fe,image:R});const he=new FileReader;he.onloadend=()=>pe(he.result),he.readAsDataURL(R)},Wn=R=>{if(R.preventDefault(),!fe.image){alert("Please select an image");return}const he=new FileReader;he.onloadend=()=>{const Ge={id:Date.now().toString(),category:fe.category,title:fe.title,description:fe.description,imageUrl:he.result,fileName:fe.image.name,uploadDate:new Date().toISOString()};A([Ge,...B]),Ar(),_e.close(),alert("Image uploaded successfully!")},he.readAsDataURL(fe.image)},Qs=R=>{E(R),Le({category:R.category,title:R.title,description:R.description||"",image:null}),pe(R.imageUrl),Ee.open()},Ys=R=>{if(R.preventDefault(),!q)return;const he=Ge=>{const ei=B.map(zt=>{var ur;return zt.id===q.id?{...zt,category:fe.category,title:fe.title,description:fe.description,imageUrl:Ge,fileName:((ur=fe.image)==null?void 0:ur.name)||zt.fileName}:zt});A(ei),Ar(),Ee.close(),alert("Image updated successfully!")};if(fe.image){const Ge=new FileReader;Ge.onloadend=()=>he(Ge.result),Ge.readAsDataURL(fe.image)}else he(q.imageUrl)},qn=R=>{window.confirm("Are you sure you want to delete this image?")&&(A(B.filter(Ge=>Ge.id!==R)),alert("Image deleted successfully!"))},Ar=()=>{Le({category:"cakes",title:"",description:"",image:null}),pe(null),E(null)},Vn=async R=>{R.preventDefault();try{await c0({username:oe.username,email:oe.email,password:oe.password,securityQuestion:oe.securityQuestion,securityAnswer:oe.securityAnswer}),await J(),Dr(),Ye.close(),alert("User created successfully!")}catch(he){console.error("Error adding user:",he),he.code==="23505"?alert("Username already exists!"):alert("Failed to create user.")}},Lr=R=>{ue(R),ge({username:R.username,email:R.email||"",password:"",securityQuestion:R.securityQuestion,securityAnswer:""}),lt.open()},lr=async R=>{if(R.preventDefault(),!!L)try{await d0(L.username,{email:oe.email,password:oe.password||void 0,securityQuestion:oe.securityQuestion||void 0,securityAnswer:oe.securityAnswer||void 0}),await J(),Dr(),lt.close(),alert("User updated successfully!")}catch(he){console.error("Error updating user:",he),alert("Failed to update user.")}},Hn=async R=>{if(v.length===1&&v[0].username===R){alert("Cannot delete the last user!");return}if(window.confirm(`Are you sure you want to delete user "${R}"?`))try{await h0(R),await J(),alert("User deleted successfully!")}catch(he){console.error("Error deleting user:",he),alert("Failed to delete user.")}},Dr=()=>{ge({username:"",email:"",password:"",securityQuestion:"",securityAnswer:""}),ue(null)},Xs=async(R,he)=>{try{await l_(R,he),await de()}catch(Ge){console.error("Error updating booking:",Ge),alert("Failed to update booking status.")}},Zs=async R=>{if(window.confirm("Are you sure you want to delete this booking?"))try{await u_(R),await de()}catch(he){console.error("Error deleting booking:",he),alert("Failed to delete booking.")}};return m.jsxs("div",{className:F.adminPage,children:[m.jsx("header",{className:F.header,children:m.jsx("div",{className:"container",children:m.jsxs("div",{className:F.headerContent,children:[m.jsx("h1",{children:"Admin Dashboard"}),m.jsxs("div",{className:F.headerActions,children:[m.jsxs("span",{className:F.username,children:[" ",s==null?void 0:s.email]}),m.jsx("a",{href:"https://daniellelensly.github.io/Madbatter/",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:m.jsx(Re,{variant:"outline",children:"View Site"})}),m.jsx(Re,{variant:"danger",onClick:ve,children:"Logout"})]})]})})}),m.jsx("div",{className:F.tabs,children:m.jsxs("div",{className:"container",children:[m.jsx("button",{className:`${F.tab} ${o==="specials"?F.active:""}`,onClick:()=>l("specials"),children:" Specials"}),m.jsx("button",{className:`${F.tab} ${o==="gallery"?F.active:""}`,onClick:()=>l("gallery"),children:" Gallery"}),m.jsx("button",{className:`${F.tab} ${o==="users"?F.active:""}`,onClick:()=>l("users"),children:" Users"}),m.jsx("button",{className:`${F.tab} ${o==="bookings"?F.active:""}`,onClick:()=>l("bookings"),children:" Bookings"})]})}),m.jsx("main",{className:F.content,children:m.jsxs("div",{className:"container",children:[o==="specials"&&m.jsxs("div",{className:F.section,children:[m.jsxs("div",{className:F.sectionHeader,children:[m.jsx("h2",{children:"Manage Specials"}),m.jsx(Re,{onClick:G.open,children:"+ Add Special"})]}),f?m.jsx("div",{className:F.loading,children:"Loading specials..."}):m.jsx("div",{className:F.grid,children:u.length>0?u.map(R=>m.jsxs("div",{className:F.card,children:[m.jsx("img",{src:R.imageUrl,alt:R.title,className:F.cardImage}),m.jsxs("div",{className:F.cardContent,children:[m.jsx("h3",{children:R.title}),m.jsx("p",{children:R.description}),m.jsxs("div",{className:F.cardMeta,children:[" ",or(R.startDate)," - ",or(R.endDate)]}),m.jsxs("div",{className:F.cardActions,children:[m.jsx(Re,{size:"small",onClick:()=>je(R),children:"Edit"}),m.jsx(Re,{size:"small",variant:"danger",onClick:()=>sn(R.id),children:"Delete"})]})]})]},R.id)):m.jsxs("div",{className:F.empty,children:[m.jsx("span",{className:F.emptyIcon,children:""}),m.jsx("p",{children:'No specials yet. Click "Add Special" to create one!'})]})})]}),o==="gallery"&&m.jsxs("div",{className:F.section,children:[m.jsxs("div",{className:F.sectionHeader,children:[m.jsx("h2",{children:"Manage Gallery"}),m.jsx(Re,{onClick:_e.open,children:"+ Upload Image"})]}),m.jsx("div",{className:F.grid,children:B.length>0?B.map(R=>{var he;return m.jsxs("div",{className:F.card,children:[m.jsx("img",{src:R.imageUrl,alt:R.title,className:F.cardImage}),m.jsxs("div",{className:F.cardContent,children:[m.jsx("h3",{children:R.title}),m.jsx("p",{className:F.category,children:(he=As.find(Ge=>Ge.id===R.category))==null?void 0:he.name}),m.jsxs("div",{className:F.cardActions,children:[m.jsx(Re,{size:"small",onClick:()=>Qs(R),children:"Edit"}),m.jsx(Re,{size:"small",variant:"danger",onClick:()=>qn(R.id),children:"Delete"})]})]})]},R.id)}):m.jsxs("div",{className:F.empty,children:[m.jsx("span",{className:F.emptyIcon,children:""}),m.jsx("p",{children:'No images yet. Click "Upload Image" to add one!'})]})})]}),o==="users"&&m.jsxs("div",{className:F.section,children:[m.jsxs("div",{className:F.sectionHeader,children:[m.jsx("h2",{children:"Manage Users"}),m.jsx(Re,{onClick:Ye.open,children:"+ Add User"})]}),k?m.jsx("div",{className:F.loading,children:"Loading users..."}):m.jsx("div",{className:F.usersList,children:v.map(R=>m.jsxs("div",{className:F.userCard,children:[m.jsxs("div",{className:F.userInfo,children:[m.jsxs("h3",{children:[" ",R.username]}),R.email&&m.jsxs("p",{children:[" ",R.email]}),m.jsxs("p",{className:F.userMeta,children:["Created: ",or(R.createdDate)]})]}),m.jsxs("div",{className:F.cardActions,children:[m.jsx(Re,{size:"small",onClick:()=>Lr(R),children:"Edit"}),m.jsx(Re,{variant:"danger",size:"small",onClick:()=>Hn(R.username),disabled:v.length===1,children:"Delete"})]})]},R.username))})]}),o==="bookings"&&m.jsxs("div",{className:F.section,children:[m.jsxs("div",{className:F.sectionHeader,children:[m.jsx("h2",{children:"Manage Bookings"}),m.jsx("div",{className:F.refreshBtn,children:m.jsx(Re,{size:"small",variant:"outline",onClick:de,children:" Refresh"})})]}),P?m.jsx("div",{className:F.loading,children:"Loading bookings..."}):m.jsx("div",{className:F.bookingsList,children:b.length>0?b.map(R=>m.jsxs("div",{className:`${F.bookingCard} ${F[R.status]}`,children:[m.jsxs("div",{className:F.bookingHeader,children:[m.jsx("h3",{children:R.name}),m.jsx("span",{className:`${F.statusBadge} ${F[R.status]}`,children:R.status.toUpperCase()})]}),m.jsxs("div",{className:F.bookingDetails,children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Date:"})," ",or(R.eventDate)]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Phone:"})," ",R.phone]}),R.email&&m.jsxs("p",{children:[m.jsx("strong",{children:"Email:"})," ",R.email]}),m.jsx("p",{className:F.bookingDesc,children:R.description}),m.jsxs("p",{className:F.submittedAt,children:["Submitted: ",new Date(R.submittedAt).toLocaleString()]})]}),m.jsxs("div",{className:F.bookingActions,children:[m.jsxs("select",{value:R.status,onChange:he=>Xs(R.id,he.target.value),className:F.statusSelect,children:[m.jsx("option",{value:"pending",children:"Pending"}),m.jsx("option",{value:"confirmed",children:"Confirmed"}),m.jsx("option",{value:"completed",children:"Completed"}),m.jsx("option",{value:"cancelled",children:"Cancelled"})]}),m.jsx(Re,{size:"small",variant:"danger",onClick:()=>Zs(R.id),children:"Delete"})]})]},R.id)):m.jsxs("div",{className:F.empty,children:[m.jsx("span",{className:F.emptyIcon,children:""}),m.jsx("p",{children:"No bookings yet."})]})})]})]})}),m.jsx(sr,{isOpen:G.isOpen,onClose:()=>{G.close(),Nr()},title:"Add New Special",maxWidth:"700px",children:m.jsxs("form",{onSubmit:ke,className:F.form,children:[m.jsxs("div",{className:F.formGroup,children:[m.jsx("label",{children:"Title *"}),m.jsx("input",{type:"text",value:le.title,onChange:R=>be({...le,title:R.target.value}),required:!0})]}),m.jsxs("div",{className:F.formGroup,children:[m.jsx("label",{children:"Description"}),m.jsx("textarea",{value:le.description,onChange:R=>be({...le,description:R.target.value}),rows:3})]}),m.jsxs("div",{className:F.formRow,children:[m.jsxs("div",{className:F.formGroup,children:[m.jsx("label",{children:"Start Date *"}),m.jsx("input",{type:"date",value:le.startDate,onChange:R=>be({...le,startDate:R.target.value}),required:!0})]}),m.jsxs("div",{className:F.formGroup,children:[m.jsx("label",{children:"End Date *"}),m.jsx("input",{type:"date",value:le.endDate,onChange:R=>be({...le,endDate:R.target.value}),min:le.startDate,required:!0})]})]}),m.jsx(yo,{label:"Image",required:!0,preview:ce,onImageSelect:Se}),m.jsx(Re,{type:"submit",fullWidth:!0,disabled:f,children:f?"Adding...":"Add Special"})]})}),m.jsx(sr,{isOpen:ae.isOpen,onClose:()=>{ae.close(),Nr()},title:"Edit Special",maxWidth:"700px",children:m.jsxs("form",{onSubmit:ut,className:F.form,children:[m.jsxs("div",{className:F.formGroup,children:[m.jsx("label",{children:"Title *"}),m.jsx("input",{type:"text",value:le.title,onChange:R=>be({...le,title:R.target.value}),required:!0})]}),m.jsxs("div",{className:F.formGroup,children:[m.jsx("label",{children:"Description"}),m.jsx("textarea",{value:le.description,onChange:R=>be({...le,description:R.target.value}),rows:3})]}),m.jsxs("div",{className:F.formRow,children:[m.jsxs("div",{className:F.formGroup,children:[m.jsx("label",{children:"Start Date *"}),m.jsx("input",{type:"date",value:le.startDate,onChange:R=>be({...le,startDate:R.target.value}),required:!0})]}),m.jsxs("div",{className:F.formGroup,children:[m.jsx("label",{children:"End Date *"}),m.jsx("input",{type:"date",value:le.endDate,onChange:R=>be({...le,endDate:R.target.value}),min:le.startDate,required:!0})]})]}),m.jsx(yo,{label:"Image (leave empty to keep current)",preview:ce,onImageSelect:Se}),m.jsx(Re,{type:"submit",fullWidth:!0,disabled:f,children:f?"Saving...":"Save Changes"})]})}),m.jsx(sr,{isOpen:_e.isOpen,onClose:()=>{_e.close(),Ar()},title:"Upload Image",maxWidth:"700px",children:m.jsxs("form",{onSubmit:Wn,className:F.form,children:[m.jsxs("div",{className:F.formGroup,children:[m.jsx("label",{children:"Category *"}),m.jsx("select",{value:fe.category,onChange:R=>Le({...fe,category:R.target.value}),required:!0,children:As.map(R=>m.jsxs("option",{value:R.id,children:[R.icon," ",R.name]},R.id))})]}),m.jsxs("div",{className:F.formGroup,children:[m.jsx("label",{children:"Title *"}),m.jsx("input",{type:"text",value:fe.title,onChange:R=>Le({...fe,title:R.target.value}),required:!0})]}),m.jsxs("div",{className:F.formGroup,children:[m.jsx("label",{children:"Description"}),m.jsx("textarea",{value:fe.description,onChange:R=>Le({...fe,description:R.target.value}),rows:2})]}),m.jsx(yo,{label:"Image",required:!0,preview:ce,onImageSelect:Ir}),m.jsx(Re,{type:"submit",fullWidth:!0,children:"Upload Image"})]})}),m.jsx(sr,{isOpen:Ee.isOpen,onClose:()=>{Ee.close(),Ar()},title:"Edit Image",maxWidth:"700px",children:m.jsxs("form",{onSubmit:Ys,className:F.form,children:[m.jsxs("div",{className:F.formGroup,children:[m.jsx("label",{children:"Category *"}),m.jsx("select",{value:fe.category,onChange:R=>Le({...fe,category:R.target.value}),required:!0,children:As.map(R=>m.jsxs("option",{value:R.id,children:[R.icon," ",R.name]},R.id))})]}),m.jsxs("div",{className:F.formGroup,children:[m.jsx("label",{children:"Title *"}),m.jsx("input",{type:"text",value:fe.title,onChange:R=>Le({...fe,title:R.target.value}),required:!0})]}),m.jsxs("div",{className:F.formGroup,children:[m.jsx("label",{children:"Description"}),m.jsx("textarea",{value:fe.description,onChange:R=>Le({...fe,description:R.target.value}),rows:2})]}),m.jsx(yo,{label:"Image (leave empty to keep current)",preview:ce,onImageSelect:Ir}),m.jsx(Re,{type:"submit",fullWidth:!0,children:"Save Changes"})]})}),m.jsx(sr,{isOpen:Ye.isOpen,onClose:()=>{Ye.close(),Dr()},title:"Add New User",maxWidth:"700px",children:m.jsxs("form",{onSubmit:Vn,className:F.form,children:[m.jsxs("div",{className:F.formGroup,children:[m.jsx("label",{children:"Username *"}),m.jsx("input",{type:"text",value:oe.username,onChange:R=>ge({...oe,username:R.target.value}),required:!0})]}),m.jsxs("div",{className:F.formGroup,children:[m.jsx("label",{children:"Email (optional)"}),m.jsx("input",{type:"email",value:oe.email,onChange:R=>ge({...oe,email:R.target.value})})]}),m.jsxs("div",{className:F.formGroup,children:[m.jsx("label",{children:"Password *"}),m.jsx("input",{type:"password",value:oe.password,onChange:R=>ge({...oe,password:R.target.value}),required:!0})]}),m.jsxs("div",{className:F.formGroup,children:[m.jsx("label",{children:"Security Question *"}),m.jsx("input",{type:"text",value:oe.securityQuestion,onChange:R=>ge({...oe,securityQuestion:R.target.value}),placeholder:"e.g., What is your favorite color?",required:!0})]}),m.jsxs("div",{className:F.formGroup,children:[m.jsx("label",{children:"Security Answer *"}),m.jsx("input",{type:"text",value:oe.securityAnswer,onChange:R=>ge({...oe,securityAnswer:R.target.value}),placeholder:"Answer to your security question",required:!0})]}),m.jsx(Re,{type:"submit",fullWidth:!0,children:"Create User"})]})}),m.jsx(sr,{isOpen:lt.isOpen,onClose:()=>{lt.close(),Dr()},title:`Edit User: ${L==null?void 0:L.username}`,maxWidth:"700px",children:m.jsxs("form",{onSubmit:lr,className:F.form,children:[m.jsxs("div",{className:F.formGroup,children:[m.jsx("label",{children:"Username"}),m.jsx("input",{type:"text",value:oe.username,disabled:!0,className:F.disabled}),m.jsx("small",{children:"Username cannot be changed"})]}),m.jsxs("div",{className:F.formGroup,children:[m.jsx("label",{children:"Email"}),m.jsx("input",{type:"email",value:oe.email,onChange:R=>ge({...oe,email:R.target.value})})]}),m.jsxs("div",{className:F.formGroup,children:[m.jsx("label",{children:"New Password (leave empty to keep current)"}),m.jsx("input",{type:"password",value:oe.password,onChange:R=>ge({...oe,password:R.target.value}),placeholder:"Enter new password"})]}),m.jsxs("div",{className:F.formGroup,children:[m.jsx("label",{children:"Security Question"}),m.jsx("input",{type:"text",value:oe.securityQuestion,onChange:R=>ge({...oe,securityQuestion:R.target.value})})]}),m.jsxs("div",{className:F.formGroup,children:[m.jsx("label",{children:"New Security Answer (leave empty to keep current)"}),m.jsx("input",{type:"text",value:oe.securityAnswer,onChange:R=>ge({...oe,securityAnswer:R.target.value}),placeholder:"Enter new security answer"})]}),m.jsx(Re,{type:"submit",fullWidth:!0,children:"Save Changes"})]})})]})},V0="_loginPage_nt4im_1",H0="_loginContainer_nt4im_15",G0="_loginCard_nt4im_20",K0="_title_nt4im_32",J0="_subtitle_nt4im_45",Q0="_error_nt4im_99",Gt={loginPage:V0,loginContainer:H0,loginCard:G0,title:K0,subtitle:J0,error:Q0},Y0=()=>{const{signInWithGoogle:n,isAuthenticated:r,isAdmin:s,loading:o}=Xl(),[l,u]=$.useState(""),[h,f]=$.useState(!1);if(r&&s)return m.jsx(Hh,{to:"/admin",replace:!0});const p=async()=>{try{f(!0),u(""),await n()}catch(v){console.error("Login error:",v),u("Failed to sign in with Google. Please try again."),f(!1)}};return m.jsx("div",{className:Gt.loginPage,children:m.jsx("div",{className:Gt.loginContainer,children:m.jsxs("div",{className:Gt.loginCard,children:[m.jsx("h1",{className:Gt.title,children:"The Mad Batter"}),m.jsx("h2",{className:Gt.subtitle,children:"Admin Access"}),r&&!s&&!o&&m.jsx("div",{className:Gt.error,children:"Access Denied: Your email is not authorized to access the admin panel."}),l&&m.jsx("div",{className:Gt.error,children:l}),m.jsx("div",{className:Gt.googleButtonContainer,children:m.jsx(Re,{onClick:p,fullWidth:!0,size:"large",disabled:h||o,className:Gt.googleBtn,children:h?"Connecting...":"Sign in with Google"})}),m.jsx("p",{className:Gt.note,children:"Note: Access is restricted to authorized administrators only."})]})})})},X0=({children:n})=>{const{isAuthenticated:r,isAdmin:s,loading:o}=Xl();return o?m.jsx("div",{children:"Loading..."}):!r||!s?m.jsx(Hh,{to:"/madbatter-login",replace:!0}):m.jsx(m.Fragment,{children:n})};function Z0(){return m.jsx(G_,{children:m.jsx(jg,{basename:"/Madbatter",children:m.jsxs(xg,{children:[m.jsx(wo,{path:"/",element:m.jsx(H_,{})}),m.jsx(wo,{path:"/madbatter-login",element:m.jsx(Y0,{})}),m.jsx(wo,{path:"/admin",element:m.jsx(X0,{children:m.jsx(q0,{})})})]})})})}class ek extends $.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,s){console.error("Error caught by boundary:",r,s)}render(){return this.state.hasError?m.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem",background:"linear-gradient(135deg, #f5f5f5 0%, #ffffff 100%)"},children:m.jsxs("div",{style:{maxWidth:"500px",textAlign:"center",background:"white",padding:"2rem",borderRadius:"1rem",boxShadow:"0 10px 40px rgba(0,0,0,0.1)"},children:[m.jsx("h1",{style:{color:"#c98276",fontSize:"3rem",margin:"0 0 1rem 0"},children:""}),m.jsx("h2",{style:{color:"#333",marginBottom:"1rem"},children:"Oops! Something went wrong"}),m.jsx("p",{style:{color:"#666",marginBottom:"2rem"},children:"We're sorry for the inconvenience. Please refresh the page to try again."}),m.jsx("button",{onClick:()=>window.location.reload(),style:{background:"linear-gradient(135deg, #c98276, #d29985)",color:"white",border:"none",padding:"0.75rem 2rem",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 4px 12px rgba(201, 130, 118, 0.3)"},children:"Refresh Page"}),!1]})}):this.props.children}}Nm.createRoot(document.getElementById("root")).render(m.jsx(Ph.StrictMode,{children:m.jsx(ek,{children:m.jsx(Z0,{})})}));
//# sourceMappingURL=index-CDykjmLh.js.map
